{"utilities":{},"programModules":{"EXT050MI":{"program":"EXT050MI","triggers":{},"transactions":{"UpdSalesTaxExmp":{"sourceUuid":"355b2d18-151e-449e-95e2-18663ded5e68","name":"UpdSalesTaxExmp","program":"EXT050MI","description":"Update Sales Tax Exmp","active":true,"multi":false,"modified":1668441460802,"modifiedBy":"900066","outputFields":[],"inputFields":[{"name":"CONO","description":"Company","length":3,"mandatory":true,"type":"N"},{"name":"DIVI","description":"Division","length":3,"mandatory":true,"type":"A"},{"name":"TYPE","description":"Transaction type","length":1,"mandatory":true,"type":"N"},{"name":"PRIO","description":"Priority","length":2,"mandatory":true,"type":"N"},{"name":"OBV1","description":"Start value 1 or Item Number","length":15,"mandatory":true,"type":"A"},{"name":"OBV2","description":"Start value 1 or State code","length":15,"mandatory":true,"type":"A"},{"name":"OBV3","description":"Start value 3","length":15,"mandatory":false,"type":"A"},{"name":"OBV4","description":"Start value 4","length":15,"mandatory":false,"type":"A"},{"name":"FRDT","description":"From Date","length":8,"mandatory":false,"type":"N"},{"name":"TODT","description":"To Date","length":8,"mandatory":false,"type":"N"},{"name":"RTXC","description":"Tax code customer/address","length":3,"mandatory":false,"type":"A"},{"name":"TXID","description":"Text identity","length":13,"mandatory":false,"type":"N"}],"utilities":[]}},"batches":{}}},"sources":{"355b2d18-151e-449e-95e2-18663ded5e68":{"uuid":"355b2d18-151e-449e-95e2-18663ded5e68","updated":1675083487698,"updatedBy":"900049","created":1668433518833,"createdBy":"900066","apiVersion":"0.9","beVersion":"16.0.0.20221110165806","codeHash":"3C98FD27ECA2D8AAD5F29208C0A2E8F798097BD614AB2D48CE7E0940CAF48B87","code":"LyoNCiAqIFJFQURNRQ0KICogVGhpcyBleHRlbnNpb24gaXMgYmVpbmcgdXNlZCB0byB1cGRhdGUgU2FsZXMgVGF4IEV4ZW1wdGlvbiBmcm9tIEZUWFRYQw0KICogDQogKiBOYW1lOiBFWFQwNTBNSS5VcGRTYWxlc1RheEV4bXANCiAqIERlc2NyaXB0aW9uOiB1cGRhdGUgU2FsZXMgVGF4IEV4ZW1wdGlvbg0KICogDQogKiBEYXRlCSAgICAgIENoYW5nZWQgQnkgICAgICBEZXNjcmlwdGlvbg0KICogMjAyMjExMDkJICBHaXJpc2ggSG9zYW1hbmkgICAgdXBkYXRlIFNhbGVzIFRheCBFeGVtcHRpb24NCiAqDQogKi8NCg0KaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGUNCmltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlVGltZQ0KaW1wb3J0IGphdmEudGltZS5mb3JtYXQuRGF0ZVRpbWVGb3JtYXR0ZXINCmltcG9ydCBqYXZhLnRpbWUuZm9ybWF0LkRhdGVUaW1lUGFyc2VFeGNlcHRpb24NCg0KcHVibGljIGNsYXNzIFVwZFNhbGVzVGF4RXhtcCBleHRlbmRzIEV4dGVuZE0zVHJhbnNhY3Rpb24gew0KICBwcml2YXRlIGZpbmFsIE1JQVBJIG1pDQoJcHJpdmF0ZSBmaW5hbCBEYXRhYmFzZUFQSSBkYXRhYmFzZQ0KCXByaXZhdGUgZmluYWwgUHJvZ3JhbUFQSSBwcm9ncmFtDQogIA0KICAvL0lucHV0IGZpZWxkcw0KCXByaXZhdGUgaW50IGlDT05PLCBpVFlQRSwgaVBSSU8sIGlGUkRULCBpVE9EVCwgaVRYSUQNCglwcml2YXRlIFN0cmluZyBpRElWSSwgaU9CVjEsIGlPQlYyLCBpT0JWMywgaU9CVjQsIGlSVFhDDQogIA0KICBwdWJsaWMgVXBkU2FsZXNUYXhFeG1wKE1JQVBJIG1pLCBEYXRhYmFzZUFQSSBkYXRhYmFzZSwgUHJvZ3JhbUFQSSBwcm9ncmFtKSB7DQogICAgdGhpcy5taSA9IG1pDQoJCXRoaXMuZGF0YWJhc2UgPSBkYXRhYmFzZQ0KCQl0aGlzLnByb2dyYW0gPSBwcm9ncmFtDQogIH0NCiAgDQogIC8qDQogICAqIE1haW4gbWV0aG9kDQogICAqIEBwYXJhbQ0KICAgKiBAcmV0dXJuDQogICovDQogIHB1YmxpYyB2b2lkIG1haW4oKSB7DQogICAgaUNPTk8gPSBtaS5pbkRhdGEuZ2V0KCJDT05PIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJDT05PIikgPT0gMCA/IChJbnRlZ2VyKXByb2dyYW0uTERBWkQuQ09OTyA6IG1pLmluRGF0YS5nZXQoIkNPTk8iKSBhcyBJbnRlZ2VyDQogICAgaVRZUEUgPSBtaS5pbkRhdGEuZ2V0KCJUWVBFIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJUWVBFIikudHJpbSgpIGluIFsiIiwgIj8iXSA/IDAgOiBtaS5pbkRhdGEuZ2V0KCJUWVBFIikudHJpbSgpLnRvSW50ZWdlcigpDQogICAgaVBSSU8gPSBtaS5pbkRhdGEuZ2V0KCJQUklPIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJQUklPIikudHJpbSgpIGluIFsiIiwgIj8iXSA/IDAgOiBtaS5pbkRhdGEuZ2V0KCJQUklPIikudHJpbSgpLnRvSW50ZWdlcigpDQogICAgaUZSRFQgPSBtaS5pbkRhdGEuZ2V0KCJGUkRUIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJGUkRUIikudHJpbSgpIGluIFsiIiwgIj8iXSA/IDAgOiBtaS5pbkRhdGEuZ2V0KCJGUkRUIikudHJpbSgpLnRvSW50ZWdlcigpDQogICAgaVRPRFQgPSBtaS5pbkRhdGEuZ2V0KCJUT0RUIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJUT0RUIikudHJpbSgpIGluIFsiIiwgIj8iXSA/IDAgOiBtaS5pbkRhdGEuZ2V0KCJUT0RUIikudHJpbSgpLnRvSW50ZWdlcigpDQogICAgaVRYSUQgPSBtaS5pbkRhdGEuZ2V0KCJUWElEIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJUWElEIikudHJpbSgpIGluIFsiIiwgIj8iXSA/IDAgOiBtaS5pbkRhdGEuZ2V0KCJUWElEIikudHJpbSgpLnRvSW50ZWdlcigpDQogICAgaURJVkkgPSBtaS5pbkRhdGEuZ2V0KCJESVZJIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJESVZJIikudHJpbSgpID09ICI/IiA/ICIiIDogbWkuaW5EYXRhLmdldCgiRElWSSIpLnRyaW0oKQ0KICAgIGlPQlYxID0gbWkuaW5EYXRhLmdldCgiT0JWMSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiT0JWMSIpLnRyaW0oKSA9PSAiPyIgPyAiIiA6IG1pLmluRGF0YS5nZXQoIk9CVjEiKS50cmltKCkNCiAgICBpT0JWMiA9IG1pLmluRGF0YS5nZXQoIk9CVjIiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIk9CVjIiKS50cmltKCkgPT0gIj8iID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJPQlYyIikudHJpbSgpDQogICAgaU9CVjMgPSBtaS5pbkRhdGEuZ2V0KCJPQlYzIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJPQlYzIikudHJpbSgpID09ICI/IiA/ICIiIDogbWkuaW5EYXRhLmdldCgiT0JWMyIpLnRyaW0oKQ0KICAgIGlPQlY0ID0gbWkuaW5EYXRhLmdldCgiT0JWNCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiT0JWNCIpLnRyaW0oKSA9PSAiPyIgPyAiIiA6IG1pLmluRGF0YS5nZXQoIk9CVjQiKS50cmltKCkNCiAgICBpUlRYQyA9IG1pLmluRGF0YS5nZXQoIlJUWEMiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlJUWEMiKS50cmltKCkgPT0gIj8iID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJSVFhDIikudHJpbSgpDQogICAgDQogICAgaWYgKGlGUkRUID09IDApIHsNCiAgICAgIGlGUkRUID0gLTk5OTk5OTk5DQogICAgfSANCiAgICANCiAgICBpZiAoaVRPRFQgPT0gMCkgew0KICAgICAgaVRPRFQgPSA5OTk5OTk5OQ0KICAgIH0NCiAgICBib29sZWFuIElucHV0c1ZhbGlkID0gdmFsaWRhdGVJbnB1dERhdGEoaUNPTk8sIGlESVZJLCBpT0JWMSwgaU9CVjIsIGlQUklPLCBpVFlQRSkNCiAgICBpZihJbnB1dHNWYWxpZCl7DQoJCSAgdXBkYXRlUmVjb3JkKCkNCgkJfQ0KICB9DQogIA0KICAvKg0KCSAqIFZhbGlkYXRpbmcgdGhlIE1JIGlucHV0IE9CVjEgLSBJdGVtIG51bWJlcg0KCSAqIEBwYXJhbSBjb25vIC0gQ29tcGFueSBudW1iZXINCiAgICogQHBhcmFtIGRpdmkgLSBEaXZpc2lvbg0KICAgKiBAcGFyYW0gdHlwZSAtIFRyYW5hY3Rpb24gdHlwZQ0KICAgKiBAcGFyYW0gcHJpbyAtIFByaW9yaXR5DQogICAqIEBwYXJhbSBvYnYxIC0gSXRlbSBudW1iZXINCiAgICogQHBhcmFtIG9idjIgLSBTdGF0ZSBjb2RlDQogICAqIA0KCSAqLw0KCXByaXZhdGUgdmFsaWRhdGVJbnB1dERhdGEoaW50IGNvbm8sIFN0cmluZyBkaXZpLCBTdHJpbmcgb2J2MSwgU3RyaW5nIG9idjIsIGludCBwcmlvLCBpbnQgdHlwZSl7DQoJICAvLyBWYWxpZGF0ZSBEaXZpc2lvbg0KCSAgREJBY3Rpb24gYWN0aW9uY21uZGl2ID0gZGF0YWJhc2UudGFibGUoIkNNTkRJViIpLmluZGV4KCIwMCIpLnNlbGVjdEFsbEZpZWxkcygpLmJ1aWxkKCkNCiAgICBEQkNvbnRhaW5lciBjbW5kaXYgPSBhY3Rpb25jbW5kaXYuZ2V0Q29udGFpbmVyKCkNCgkgIGNtbmRpdi5zZXQoIkNDQ09OTyIsY29ubykNCgkgIGNtbmRpdi5zZXQoIkNDRElWSSIsZGl2aSkNCgkgIGlmKCFhY3Rpb25jbW5kaXYucmVhZChjbW5kaXYpKXsNCgkgICAgbWkuZXJyb3IoIkRpdmlzaW9uICIgKyBkaXZpICsgIiBpcyBpbnZhbGlkIikNCiAgICAgIHJldHVybiBmYWxzZQ0KCSAgfSANCgkgICAgDQoJICAvLyBWYWxpZGF0ZSBJdGVtIE51bWJlciBhbmQgU3RhdGUNCgkgIGlmIChwcmlvID09IDEgJiYgdHlwZSA9PSAyKSB7DQoJICAgIC8vIFZhbGlkYXRlIEl0ZW0gTnVtYmVyDQoJICAgIERCQWN0aW9uIGFjdGlvbm1pdG1hcyA9IGRhdGFiYXNlLnRhYmxlKCJNSVRNQVMiKS5pbmRleCgiMDAiKS5zZWxlY3RBbGxGaWVsZHMoKS5idWlsZCgpDQogICAgICBEQkNvbnRhaW5lciBNSVRNQVMgPSBhY3Rpb25taXRtYXMuZ2V0Q29udGFpbmVyKCkNCiAgICAgIE1JVE1BUy5zZXQoIk1NQ09OTyIsIGNvbm8pDQogICAgICBNSVRNQVMuc2V0KCJNTUlUTk8iLCBvYnYxLnRyaW0oKSkNCiAgICAgIGlmICghYWN0aW9ubWl0bWFzLnJlYWQoTUlUTUFTKSkgew0KICAgICAgbWkuZXJyb3IoIkl0ZW0gbnVtYmVyICIrb2J2MSsgIiBkb2VzIG5vdCBleGlzdCIpDQogICAgICByZXR1cm4gZmFsc2UNCiAgICAgIH0NCiAgICAgIA0KICAgICAgREJBY3Rpb24gYWN0aW9uY3N5c3RzID0gZGF0YWJhc2UudGFibGUoIkNTWVNUUyIpLmluZGV4KCIwMCIpLnNlbGVjdEFsbEZpZWxkcygpLmJ1aWxkKCkNCiAgICAgIERCQ29udGFpbmVyIGNzeXN0cyA9IGFjdGlvbmNzeXN0cy5nZXRDb250YWluZXIoKQ0KCSAgICBjc3lzdHMuc2V0KCJDS0NPTk8iLGNvbm8pDQoJICAgIGNzeXN0cy5zZXQoIkNLRUNBUiIsb2J2MikNCgkgICAgY3N5c3RzLnNldCgiQ0tDU0NEIiwiVVMiKQ0KCSAgICBpZighYWN0aW9uY3N5c3RzLnJlYWQoY3N5c3RzKSl7DQoJICAgICAgbWkuZXJyb3IoIlN0YXRlICIgKyBvYnYyICsgIiBpcyBpbnZhbGlkIikNCiAgICAgICAgcmV0dXJuIGZhbHNlDQoJICAgIH0NCgkgIH0NCgkgIA0KCSAgcmV0dXJuIHRydWUNCgl9DQogIA0KICAvKg0KCSAqIFVwZGF0ZSByZWNvcmQgaW4gdGhlIEZUWFRYQyB0YWJsZQ0KCSAqDQoJICovDQoJcHJpdmF0ZSB2b2lkIHVwZGF0ZVJlY29yZCgpew0KCQlEQkFjdGlvbiBkYkFjdGlvbmZ0eHR4YyA9IGRhdGFiYXNlLnRhYmxlKCJGVFhUWEMiKS5pbmRleCgiMDAiKS5zZWxlY3Rpb24oKS5idWlsZCgpDQoJCURCQ29udGFpbmVyIEZUWFRYQyA9IGRiQWN0aW9uZnR4dHhjLmdldENvbnRhaW5lcigpDQoNCgkJRlRYVFhDLnNldCgiVENDT05PIiwgaUNPTk8pDQoJCUZUWFRYQy5zZXQoIlRDRElWSSIsIGlESVZJKQ0KICAgIEZUWFRYQy5zZXQoIlRDVFlQRSIsIGlUWVBFKQ0KICAgIEZUWFRYQy5zZXQoIlRDUFJJTyIsIGlQUklPKQ0KCQlGVFhUWEMuc2V0KCJUQ0ZSRFQiLCBpRlJEVCkNCiAgICBGVFhUWEMuc2V0KCJUQ1RPRFQiLCBpVE9EVCkNCiAgICBpZihpT0JWMS50cmltKCkgIT0gIiIpIHsgRlRYVFhDLnNldCgiVENPQlYxIiwgaU9CVjEpIH0gDQoJCWlmKGlPQlYyLnRyaW0oKSAhPSAiIikgeyBGVFhUWEMuc2V0KCJUQ09CVjIiLCBpT0JWMikgfQ0KCQlpZihpT0JWMy50cmltKCkgIT0gIiIpIHsgRlRYVFhDLnNldCgiVENPQlYzIiwgaU9CVjMpIH0gDQoJCWlmKGlPQlY0LnRyaW0oKSAhPSAiIikgeyBGVFhUWEMuc2V0KCJUQ09CVjQiLCBpT0JWNCkgfQ0KICAgIAkNCgkJaWYgKCFkYkFjdGlvbmZ0eHR4Yy5yZWFkTG9jayhGVFhUWEMsIHVwZGF0ZUNhbGxCYWNrKSkgew0KCQkgIG1pLmVycm9yKCJSZWNvcmQgZG9lcyBub3QgZXhpc3QiKQ0KCQl9DQoJfQ0KCQ0KCS8qDQoJICogQ2xvc3VyZSBmb3IgRlRYVFhDIFVwZGF0ZQ0KCSAqLw0KCQlDbG9zdXJlPD8+IHVwZGF0ZUNhbGxCYWNrID0geyBMb2NrZWRSZXN1bHQgbG9ja2VkUmVzdWx0IC0+DQoNCgkJaWYoaVJUWEMudHJpbSgpICE9ICIiKSB7bG9ja2VkUmVzdWx0LnNldCgiVENSVFhDIiwgaVJUWEMpIH0NCgkJaWYoaVRYSUQgIT0gMCkge2xvY2tlZFJlc3VsdC5zZXQoIlRDVFhJRCIsIGlUWElEKSB9DQoJCQ0KCQkvLyBVcGRhdGUgY2hhbmdlZCBpbmZvcm1hdGlvbg0KCQlsb2NrZWRSZXN1bHQuc2V0KCJUQ0xNRFQiLCBMb2NhbERhdGUubm93KCkuZm9ybWF0KERhdGVUaW1lRm9ybWF0dGVyLm9mUGF0dGVybigieXl5eU1NZGQiKSkudG9JbnRlZ2VyKCkpDQoJCWxvY2tlZFJlc3VsdC5zZXQoIlRDQ0hOTyIsIChsb2NrZWRSZXN1bHQuZ2V0SW50KCJUQ0NITk8iKSArIDEpKQ0KCQlsb2NrZWRSZXN1bHQuc2V0KCJUQ0NISUQiLCBwcm9ncmFtLmdldFVzZXIoKSkNCgkJbG9ja2VkUmVzdWx0LnVwZGF0ZSgpDQogIH0NCn0="}}}