{"utilities":{},"programModules":{"EXT050MI":{"program":"EXT050MI","triggers":{},"transactions":{"UpdSalesTaxExmp":{"sourceUuid":"355b2d18-151e-449e-95e2-18663ded5e68","name":"UpdSalesTaxExmp","program":"EXT050MI","description":"Update Sales Tax Exmp","active":true,"multi":false,"modified":1668441460802,"modifiedBy":"900066","outputFields":[],"inputFields":[{"name":"CONO","description":"Company","length":3,"mandatory":true,"type":"N"},{"name":"DIVI","description":"Division","length":3,"mandatory":true,"type":"A"},{"name":"TYPE","description":"Transaction type","length":1,"mandatory":true,"type":"N"},{"name":"PRIO","description":"Priority","length":2,"mandatory":true,"type":"N"},{"name":"OBV1","description":"Start value 1 or Item Number","length":15,"mandatory":true,"type":"A"},{"name":"OBV2","description":"Start value 1 or State code","length":15,"mandatory":true,"type":"A"},{"name":"OBV3","description":"Start value 3","length":15,"mandatory":false,"type":"A"},{"name":"OBV4","description":"Start value 4","length":15,"mandatory":false,"type":"A"},{"name":"FRDT","description":"From Date","length":8,"mandatory":false,"type":"N"},{"name":"TODT","description":"To Date","length":8,"mandatory":false,"type":"N"},{"name":"RTXC","description":"Tax code customer/address","length":3,"mandatory":false,"type":"A"},{"name":"TXID","description":"Text identity","length":13,"mandatory":false,"type":"N"}],"utilities":[]}},"batches":{}}},"sources":{"355b2d18-151e-449e-95e2-18663ded5e68":{"uuid":"355b2d18-151e-449e-95e2-18663ded5e68","updated":1675763990332,"updatedBy":"900049","created":1668433518833,"createdBy":"900066","apiVersion":"0.9","beVersion":"16.0.0.20221110165806","codeHash":"E6F974B62307261F3819A17DEBB0E6B459FE0096E5E5BCD730BD4927822025E7","code":"LyoNCiAqIFJFQURNRQ0KICogVGhpcyBleHRlbnNpb24gaXMgYmVpbmcgdXNlZCB0byB1cGRhdGUgU2FsZXMgVGF4IEV4ZW1wdGlvbiBmcm9tIEZUWFRYQw0KICogDQogKiBOYW1lOiBFWFQwNTBNSS5VcGRTYWxlc1RheEV4bXANCiAqIERlc2NyaXB0aW9uOiB1cGRhdGUgU2FsZXMgVGF4IEV4ZW1wdGlvbg0KICogDQogKiBEYXRlCSAgICAgIENoYW5nZWQgQnkgICAgICBEZXNjcmlwdGlvbg0KICogMjAyMjExMDkJICBHaXJpc2ggSG9zYW1hbmkgICAgdXBkYXRlIFNhbGVzIFRheCBFeGVtcHRpb24NCiAqDQogKi8NCg0KaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGUNCmltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlVGltZQ0KaW1wb3J0IGphdmEudGltZS5mb3JtYXQuRGF0ZVRpbWVGb3JtYXR0ZXINCmltcG9ydCBqYXZhLnRpbWUuZm9ybWF0LkRhdGVUaW1lUGFyc2VFeGNlcHRpb24NCg0KcHVibGljIGNsYXNzIFVwZFNhbGVzVGF4RXhtcCBleHRlbmRzIEV4dGVuZE0zVHJhbnNhY3Rpb24gew0KICBwcml2YXRlIGZpbmFsIE1JQVBJIG1pDQoJcHJpdmF0ZSBmaW5hbCBEYXRhYmFzZUFQSSBkYXRhYmFzZQ0KCXByaXZhdGUgZmluYWwgUHJvZ3JhbUFQSSBwcm9ncmFtDQogIA0KICAvL0lucHV0IGZpZWxkcw0KCXByaXZhdGUgaW50IGlDT05PLCBpVFlQRSwgaVBSSU8sIGlGUkRULCBpVE9EVCwgaVRYSUQNCglwcml2YXRlIFN0cmluZyBpRElWSSwgaU9CVjEsIGlPQlYyLCBpT0JWMywgaU9CVjQsIGlSVFhDDQogIA0KICBwdWJsaWMgVXBkU2FsZXNUYXhFeG1wKE1JQVBJIG1pLCBEYXRhYmFzZUFQSSBkYXRhYmFzZSwgUHJvZ3JhbUFQSSBwcm9ncmFtKSB7DQogICAgdGhpcy5taSA9IG1pDQoJCXRoaXMuZGF0YWJhc2UgPSBkYXRhYmFzZQ0KCQl0aGlzLnByb2dyYW0gPSBwcm9ncmFtDQogIH0NCiAgDQogIC8qDQogICAqIE1haW4gbWV0aG9kDQogICAqIEBwYXJhbQ0KICAgKiBAcmV0dXJuDQogICovDQogIHB1YmxpYyB2b2lkIG1haW4oKSB7DQogICAgaUNPTk8gPSBtaS5pbkRhdGEuZ2V0KCJDT05PIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJDT05PIikgPT0gMCA/IChJbnRlZ2VyKXByb2dyYW0uTERBWkQuQ09OTyA6IG1pLmluRGF0YS5nZXQoIkNPTk8iKSBhcyBJbnRlZ2VyDQogICAgaVRZUEUgPSBtaS5pbkRhdGEuZ2V0KCJUWVBFIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJUWVBFIikudHJpbSgpIGluIFsiIiwgIj8iXSA/IDAgOiBtaS5pbkRhdGEuZ2V0KCJUWVBFIikudHJpbSgpLnRvSW50ZWdlcigpDQogICAgaVBSSU8gPSBtaS5pbkRhdGEuZ2V0KCJQUklPIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJQUklPIikudHJpbSgpIGluIFsiIiwgIj8iXSA/IDAgOiBtaS5pbkRhdGEuZ2V0KCJQUklPIikudHJpbSgpLnRvSW50ZWdlcigpDQogICAgaUZSRFQgPSBtaS5pbkRhdGEuZ2V0KCJGUkRUIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJGUkRUIikudHJpbSgpIGluIFsiIiwgIj8iXSA/IDAgOiBtaS5pbkRhdGEuZ2V0KCJGUkRUIikudHJpbSgpLnRvSW50ZWdlcigpDQogICAgaVRPRFQgPSBtaS5pbkRhdGEuZ2V0KCJUT0RUIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJUT0RUIikudHJpbSgpIGluIFsiIiwgIj8iXSA/IDAgOiBtaS5pbkRhdGEuZ2V0KCJUT0RUIikudHJpbSgpLnRvSW50ZWdlcigpDQogICAgaVRYSUQgPSBtaS5pbkRhdGEuZ2V0KCJUWElEIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJUWElEIikudHJpbSgpIGluIFsiIiwgIj8iXSA/IDAgOiBtaS5pbkRhdGEuZ2V0KCJUWElEIikudHJpbSgpLnRvSW50ZWdlcigpDQogICAgaURJVkkgPSBtaS5pbkRhdGEuZ2V0KCJESVZJIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJESVZJIikudHJpbSgpID09ICI/IiA/ICIiIDogbWkuaW5EYXRhLmdldCgiRElWSSIpLnRyaW0oKQ0KICAgIGlPQlYxID0gbWkuaW5EYXRhLmdldCgiT0JWMSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiT0JWMSIpLnRyaW0oKSA9PSAiPyIgPyAiIiA6IG1pLmluRGF0YS5nZXQoIk9CVjEiKS50cmltKCkNCiAgICBpT0JWMiA9IG1pLmluRGF0YS5nZXQoIk9CVjIiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIk9CVjIiKS50cmltKCkgPT0gIj8iID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJPQlYyIikudHJpbSgpDQogICAgaU9CVjMgPSBtaS5pbkRhdGEuZ2V0KCJPQlYzIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJPQlYzIikudHJpbSgpID09ICI/IiA/ICIiIDogbWkuaW5EYXRhLmdldCgiT0JWMyIpLnRyaW0oKQ0KICAgIGlPQlY0ID0gbWkuaW5EYXRhLmdldCgiT0JWNCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiT0JWNCIpLnRyaW0oKSA9PSAiPyIgPyAiIiA6IG1pLmluRGF0YS5nZXQoIk9CVjQiKS50cmltKCkNCiAgICBpUlRYQyA9IG1pLmluRGF0YS5nZXQoIlJUWEMiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlJUWEMiKS50cmltKCkgPT0gIj8iID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJSVFhDIikudHJpbSgpDQogICAgDQogICAgaWYgKGlUT0RUICE9IDAgfHwgaUZSRFQgIT0gMCkgew0KICAgICAgbWkuZXJyb3IoIkZyb20gYW5kIFRvIGRhdGUgc2hvdWxkIGJlIGJsYW5rIikgDQoJCQlyZXR1cm4NCiAgICB9DQogICAgDQogICAgaWYgKGlGUkRUID09IDApIHsNCiAgICAgIGlGUkRUID0gLTk5OTk5OTk5DQogICAgfSANCiAgICANCiAgICBpZiAoaVRPRFQgPT0gMCkgew0KICAgICAgaVRPRFQgPSA5OTk5OTk5OQ0KICAgIH0NCiAgICBib29sZWFuIElucHV0c1ZhbGlkID0gdmFsaWRhdGVJbnB1dERhdGEoKQ0KICAgIGlmKElucHV0c1ZhbGlkKXsNCgkJICB1cGRhdGVSZWNvcmQoKQ0KCQl9DQogIH0NCiAgDQogIC8qDQoJICogVmFsaWRhdGluZyB0aGUgTUkgaW5wdXQgDQoJICovDQoNCglwcml2YXRlIGJvb2xlYW4gdmFsaWRhdGVJbnB1dERhdGEoKXsNCgkgIC8vIFZhbGlkYXRlIGlESVZJc2lvbg0KCSAgREJBY3Rpb24gYWN0aW9uY21uZGl2ID0gZGF0YWJhc2UudGFibGUoIkNNTkRJViIpLmluZGV4KCIwMCIpLnNlbGVjdGlvbigpLmJ1aWxkKCkNCiAgICBEQkNvbnRhaW5lciBjbW5kaXYgPSBhY3Rpb25jbW5kaXYuZ2V0Q29udGFpbmVyKCkNCgkgIGNtbmRpdi5zZXQoIkNDQ09OTyIsaUNPTk8pDQoJICBjbW5kaXYuc2V0KCJDQ0RJVkkiLGlESVZJKQ0KCSAgaWYoIWFjdGlvbmNtbmRpdi5yZWFkKGNtbmRpdikpew0KCSAgICBtaS5lcnJvcigiaURJVklzaW9uICIgKyBpRElWSSArICIgaXMgaW52YWxpZCIpDQogICAgICByZXR1cm4gZmFsc2UNCgkgIH0gDQoJICAgIA0KCSAgaWYgKGlQUklPID09IDEgJiYgaVRZUEUgPT0gMikgew0KCSAgICAvLyBWYWxpZGF0ZSBJdGVtIE51bWJlcg0KCSAgICBEQkFjdGlvbiBhY3Rpb25taXRtYXMgPSBkYXRhYmFzZS50YWJsZSgiTUlUTUFTIikuaW5kZXgoIjAwIikuc2VsZWN0aW9uKCkuYnVpbGQoKQ0KICAgICAgREJDb250YWluZXIgTUlUTUFTID0gYWN0aW9ubWl0bWFzLmdldENvbnRhaW5lcigpDQogICAgICBNSVRNQVMuc2V0KCJNTUNPTk8iLCBpQ09OTykNCiAgICAgIE1JVE1BUy5zZXQoIk1NSVROTyIsIGlPQlYxLnRyaW0oKSkNCiAgICAgIGlmICghYWN0aW9ubWl0bWFzLnJlYWQoTUlUTUFTKSkgew0KICAgICAgbWkuZXJyb3IoIkl0ZW0gbnVtYmVyICIraU9CVjErICIgZG9lcyBub3QgZXhpc3QiKQ0KICAgICAgcmV0dXJuIGZhbHNlDQogICAgICB9DQogICAgICANCiAgICAgIC8vIFZhbGlkYXRlIFN0YXRlIGNvZGUNCiAgICAgIERCQWN0aW9uIGFjdGlvbmNzeXN0cyA9IGRhdGFiYXNlLnRhYmxlKCJDU1lTVFMiKS5pbmRleCgiMDAiKS5zZWxlY3Rpb24oKS5idWlsZCgpDQogICAgICBEQkNvbnRhaW5lciBjc3lzdHMgPSBhY3Rpb25jc3lzdHMuZ2V0Q29udGFpbmVyKCkNCgkgICAgY3N5c3RzLnNldCgiQ0tDT05PIixpQ09OTykNCgkgICAgY3N5c3RzLnNldCgiQ0tFQ0FSIixpT0JWMikNCgkgICAgY3N5c3RzLnNldCgiQ0tDU0NEIiwiVVMiKQ0KCSAgICBpZighYWN0aW9uY3N5c3RzLnJlYWQoY3N5c3RzKSl7DQoJICAgICAgbWkuZXJyb3IoIlN0YXRlICIgKyBpT0JWMiArICIgaXMgaW52YWxpZCIpDQogICAgICAgIHJldHVybiBmYWxzZQ0KCSAgICB9DQoJICAgIA0KCSAgICAvLyBWYWxpZGF0ZSBUYXggY29kZQ0KCSAgICBEQkFjdGlvbiBhY3Rpb25jeXN0YWIzID0gZGF0YWJhc2UudGFibGUoIkNTWVRBQiIpLmluZGV4KCIwMCIpLnNlbGVjdGlvbigpLmJ1aWxkKCkNCiAgICAgIERCQ29udGFpbmVyIGN5c3RhYjMgPSBhY3Rpb25jeXN0YWIzLmdldENvbnRhaW5lcigpDQoJICAgIGN5c3RhYjMuc2V0KCJDVENPTk8iLCBpQ09OTykNCgkJICBjeXN0YWIzLnNldCgiQ1RTVENPIiwgIlRBWEMiKQ0KCSAgICBjeXN0YWIzLnNldCgiQ1RTVEtZIiwgaVJUWEMpDQoJICAgIGN5c3RhYjMuc2V0KCJDVERJVkkiLCAiIikNCgkgICAgaWYoIWFjdGlvbmN5c3RhYjMucmVhZChjeXN0YWIzKSl7DQoJICAgICAgbWkuZXJyb3IoIlRheCBjb2RlICIgKyBpUlRYQyArICIgaXMgaW52YWxpZCIpDQogICAgICAgIHJldHVybiBmYWxzZQ0KCSAgICB9CQkNCgkgICAgDQoJICAgIGlmIChpT0JWMyAhPSAiIiB8fCBpT0JWNCAhPSAiIikgew0KCSAgICAgIG1pLmVycm9yKCJPQlYzICYmIE9CVjQgc2hvdWxkIGJlIGJsYW5rIikNCiAgICAgICAgcmV0dXJuIGZhbHNlDQoJICAgIH0NCgkgICAgDQoJICB9IGVsc2UgaWYgKGlQUklPID09IDIgJiYgaVRZUEUgPT0gMikgew0KCSAgICAvLyBWYWxpZGF0ZSBJdGVtIE51bWJlcg0KCSAgICBEQkFjdGlvbiBhY3Rpb25taXRtYXMgPSBkYXRhYmFzZS50YWJsZSgiTUlUTUFTIikuaW5kZXgoIjAwIikuc2VsZWN0aW9uKCkuYnVpbGQoKQ0KICAgICAgREJDb250YWluZXIgTUlUTUFTID0gYWN0aW9ubWl0bWFzLmdldENvbnRhaW5lcigpDQogICAgICBNSVRNQVMuc2V0KCJNTUNPTk8iLCBpQ09OTykNCiAgICAgIE1JVE1BUy5zZXQoIk1NSVROTyIsIGlPQlYzLnRyaW0oKSkNCiAgICAgIGlmICghYWN0aW9ubWl0bWFzLnJlYWQoTUlUTUFTKSkgew0KICAgICAgbWkuZXJyb3IoIkl0ZW0gbnVtYmVyICIraU9CVjMrICIgZG9lcyBub3QgZXhpc3QiKQ0KICAgICAgcmV0dXJuIGZhbHNlDQogICAgICB9DQogICAgICANCiAgICAgIC8vIFZhbGlkYXRlIFN0YXRlIGNvZGUNCiAgICAgIERCQWN0aW9uIGFjdGlvbmNzeXN0cyA9IGRhdGFiYXNlLnRhYmxlKCJDU1lTVFMiKS5pbmRleCgiMDAiKS5zZWxlY3Rpb24oKS5idWlsZCgpDQogICAgICBEQkNvbnRhaW5lciBjc3lzdHMgPSBhY3Rpb25jc3lzdHMuZ2V0Q29udGFpbmVyKCkNCgkgICAgY3N5c3RzLnNldCgiQ0tDT05PIixpQ09OTykNCgkgICAgY3N5c3RzLnNldCgiQ0tFQ0FSIixpT0JWMSkNCgkgICAgY3N5c3RzLnNldCgiQ0tDU0NEIiwiVVMiKQ0KCSAgICBpZighYWN0aW9uY3N5c3RzLnJlYWQoY3N5c3RzKSl7DQoJICAgICAgbWkuZXJyb3IoIlN0YXRlICIgKyBpT0JWMSArICIgaXMgaW52YWxpZCIpDQogICAgICAgIHJldHVybiBmYWxzZQ0KCSAgICB9IA0KCSAgICANCgkgICAgLy8gVmFsaWRhdGUgU3VwcGxpZXIgbnVtYmVyDQoJICAgIERCQWN0aW9uIGFjdGlvbmNpZG1hcyA9IGRhdGFiYXNlLnRhYmxlKCJDSURNQVMiKS5pbmRleCgiMDAiKS5zZWxlY3Rpb24oKS5idWlsZCgpDQogICAgICBEQkNvbnRhaW5lciBjaWRtYXMgPSBhY3Rpb25jaWRtYXMuZ2V0Q29udGFpbmVyKCkNCgkgICAgY2lkbWFzLnNldCgiSURDT05PIixpQ09OTykNCgkgICAgY2lkbWFzLnNldCgiSURTVU5PIixpT0JWMikNCgkgICAgaWYoIWFjdGlvbmNpZG1hcy5yZWFkKGNpZG1hcykpew0KCSAgICAgIG1pLmVycm9yKCJTdXBwbGllciAiICsgaU9CVjIgKyAiIGlzIGludmFsaWQiKQ0KICAgICAgICByZXR1cm4gZmFsc2UNCgkgICAgfSANCgkgICAgDQoJICAgIC8vIFZhbGlkYXRlIFRheCBjb2RlDQoJICAgIERCQWN0aW9uIGFjdGlvbmN5c3RhYiA9IGRhdGFiYXNlLnRhYmxlKCJDU1lUQUIiKS5pbmRleCgiMDAiKS5zZWxlY3Rpb24oKS5idWlsZCgpDQogICAgICBEQkNvbnRhaW5lciBjeXN0YWIgPSBhY3Rpb25jeXN0YWIuZ2V0Q29udGFpbmVyKCkNCgkgICAgY3lzdGFiLnNldCgiQ1RDT05PIiwgaUNPTk8pDQoJCSAgY3lzdGFiLnNldCgiQ1RTVENPIiwgIlRBWEMiKQ0KCSAgICBjeXN0YWIuc2V0KCJDVFNUS1kiLCBpUlRYQykNCgkgICAgY3lzdGFiLnNldCgiQ1RESVZJIiwgIiIpDQoJICAgIGlmKCFhY3Rpb25jeXN0YWIucmVhZChjeXN0YWIpKXsNCgkgICAgICBtaS5lcnJvcigiVGF4IGNvZGUgIiArIGlSVFhDICsgIiBpcyBpbnZhbGlkIikNCiAgICAgICAgcmV0dXJuIGZhbHNlDQoJICAgIH0JDQoJICAgIA0KCSAgICBpZiAoaU9CVjQgIT0gIiIpIHsNCgkgICAgICBtaS5lcnJvcigiT0JWNCBzaG91bGQgYmUgYmxhbmsiKQ0KICAgICAgICByZXR1cm4gZmFsc2UNCgkgICAgfQ0KCSAgICANCgkgIH0gZWxzZSBpZiAoaVBSSU8gPT0gNSAmJiBpVFlQRSA9PSAyKSB7DQoJICAgIC8vIFZhbGlkYXRlIFRheCBjb2RlDQoJICAgIERCQWN0aW9uIGFjdGlvbmN5c3RhYjEgPSBkYXRhYmFzZS50YWJsZSgiQ1NZVEFCIikuaW5kZXgoIjAwIikuc2VsZWN0aW9uKCkuYnVpbGQoKQ0KICAgICAgREJDb250YWluZXIgY3lzdGFiID0gYWN0aW9uY3lzdGFiMS5nZXRDb250YWluZXIoKQ0KICAgICAgY3lzdGFiLnNldCgiQ1RDT05PIiwgaUNPTk8pDQogICAgICBjeXN0YWIuc2V0KCJDVFNUQ08iLCAiVEFYQyIpDQoJICAgIGN5c3RhYi5zZXQoIkNUU1RLWSIsIGlPQlYxKQ0KCSAgICBjeXN0YWIuc2V0KCJDVERJVkkiLCAiIikNCiAgICAgIGlmICghYWN0aW9uY3lzdGFiMS5yZWFkKGN5c3RhYikpIHsNCiAgICAgIG1pLmVycm9yKCJUYXggY29kZSAiK2lPQlYxKyAiIGRvZXMgbm90IGV4aXN0IikNCiAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgfQ0KICAgICAgDQogICAgICAvLyBWYWxpZGF0ZSBUYXggY29kZQ0KICAgICAgREJBY3Rpb24gYWN0aW9uY3lzdGFiMiA9IGRhdGFiYXNlLnRhYmxlKCJDU1lUQUIiKS5pbmRleCgiMDAiKS5zZWxlY3Rpb24oKS5idWlsZCgpDQogICAgICBEQkNvbnRhaW5lciBjeXN0YWIyID0gYWN0aW9uY3lzdGFiMi5nZXRDb250YWluZXIoKQ0KCSAgICBjeXN0YWIyLnNldCgiQ1RDT05PIiwgaUNPTk8pDQoJCSAgY3lzdGFiMi5zZXQoIkNUU1RDTyIsICJUQVhDIikNCgkgICAgY3lzdGFiMi5zZXQoIkNUU1RLWSIsIGlPQlYyKQ0KCSAgICBjeXN0YWIyLnNldCgiQ1RESVZJIiwgIiIpDQoJICAgIGlmKCFhY3Rpb25jeXN0YWIyLnJlYWQoY3lzdGFiMikpew0KCSAgICAgIG1pLmVycm9yKCJUYXggY29kZSAiICsgaU9CVjIgKyAiIGlzIGludmFsaWQiKQ0KICAgICAgICByZXR1cm4gZmFsc2UNCgkgICAgfQ0KCQkNCgkJICAvLyBWYWxpZGF0ZSBUYXggY29kZQ0KICAgICAgREJBY3Rpb24gYWN0aW9uY3lzdGFiMyA9IGRhdGFiYXNlLnRhYmxlKCJDU1lUQUIiKS5pbmRleCgiMDAiKS5zZWxlY3Rpb24oKS5idWlsZCgpDQogICAgICBEQkNvbnRhaW5lciBjeXN0YWIzID0gYWN0aW9uY3lzdGFiMy5nZXRDb250YWluZXIoKQ0KCSAgICBjeXN0YWIzLnNldCgiQ1RDT05PIiwgaUNPTk8pDQoJCSAgY3lzdGFiMy5zZXQoIkNUU1RDTyIsICJUQVhDIikNCgkgICAgY3lzdGFiMy5zZXQoIkNUU1RLWSIsIGlSVFhDKQ0KCSAgICBjeXN0YWIzLnNldCgiQ1RESVZJIiwgIiIpDQoJICAgIGlmKCFhY3Rpb25jeXN0YWIzLnJlYWQoY3lzdGFiMykpew0KCSAgICAgIG1pLmVycm9yKCJUYXggY29kZSAiICsgaVJUWEMgKyAiIGlzIGludmFsaWQiKQ0KICAgICAgICByZXR1cm4gZmFsc2UNCgkgICAgfQkJDQoJICAgIA0KCSAgICBpZiAoaU9CVjMgIT0gIiIgfHwgaU9CVjQgIT0gIiIpIHsNCgkgICAgICBtaS5lcnJvcigiT0JWMyAmJiBPQlY0IHNob3VsZCBiZSBibGFuayIpDQogICAgICAgIHJldHVybiBmYWxzZQ0KCSAgICB9DQoJDQoJICB9DQoJICANCgkgIHJldHVybiB0cnVlDQoJfQ0KICANCiAgLyoNCgkgKiBVcGRhdGUgcmVjb3JkIGluIHRoZSBGVFhUWEMgdGFibGUNCgkgKg0KCSAqLw0KCXByaXZhdGUgdm9pZCB1cGRhdGVSZWNvcmQoKXsNCgkJREJBY3Rpb24gZGJBY3Rpb25mdHh0eGMgPSBkYXRhYmFzZS50YWJsZSgiRlRYVFhDIikuaW5kZXgoIjAwIikuc2VsZWN0aW9uKCkuYnVpbGQoKQ0KCQlEQkNvbnRhaW5lciBGVFhUWEMgPSBkYkFjdGlvbmZ0eHR4Yy5nZXRDb250YWluZXIoKQ0KDQoJCUZUWFRYQy5zZXQoIlRDQ09OTyIsIGlDT05PKQ0KCQlGVFhUWEMuc2V0KCJUQ0RJVkkiLCBpRElWSSkNCiAgICBGVFhUWEMuc2V0KCJUQ1RZUEUiLCBpVFlQRSkNCiAgICBGVFhUWEMuc2V0KCJUQ1BSSU8iLCBpUFJJTykNCgkJRlRYVFhDLnNldCgiVENGUkRUIiwgaUZSRFQpDQogICAgRlRYVFhDLnNldCgiVENUT0RUIiwgaVRPRFQpDQogICAgaWYoaU9CVjEudHJpbSgpICE9ICIiKSB7IEZUWFRYQy5zZXQoIlRDT0JWMSIsIGlPQlYxKSB9IA0KCQlpZihpT0JWMi50cmltKCkgIT0gIiIpIHsgRlRYVFhDLnNldCgiVENPQlYyIiwgaU9CVjIpIH0NCgkJaWYoaU9CVjMudHJpbSgpICE9ICIiKSB7IEZUWFRYQy5zZXQoIlRDT0JWMyIsIGlPQlYzKSB9IA0KCQlpZihpT0JWNC50cmltKCkgIT0gIiIpIHsgRlRYVFhDLnNldCgiVENPQlY0IiwgaU9CVjQpIH0NCiAgICAJDQoJCWlmICghZGJBY3Rpb25mdHh0eGMucmVhZExvY2soRlRYVFhDLCB1cGRhdGVDYWxsQmFjaykpIHsNCgkJICBtaS5lcnJvcigiUmVjb3JkIGRvZXMgbm90IGV4aXN0IikNCgkJfQ0KCX0NCgkNCgkvKg0KCSAqIENsb3N1cmUgZm9yIEZUWFRYQyBVcGRhdGUNCgkgKi8NCgkJQ2xvc3VyZTw/PiB1cGRhdGVDYWxsQmFjayA9IHsgTG9ja2VkUmVzdWx0IGxvY2tlZFJlc3VsdCAtPg0KDQoJCWlmKGlSVFhDLnRyaW0oKSAhPSAiIikge2xvY2tlZFJlc3VsdC5zZXQoIlRDUlRYQyIsIGlSVFhDKSB9DQoJCWlmKGlUWElEICE9IDApIHtsb2NrZWRSZXN1bHQuc2V0KCJUQ1RYSUQiLCBpVFhJRCkgfQ0KCQkNCgkJLy8gVXBkYXRlIGNoYW5nZWQgaW5mb3JtYXRpb24NCgkJbG9ja2VkUmVzdWx0LnNldCgiVENMTURUIiwgTG9jYWxEYXRlLm5vdygpLmZvcm1hdChEYXRlVGltZUZvcm1hdHRlci5vZlBhdHRlcm4oInl5eXlNTWRkIikpLnRvSW50ZWdlcigpKQ0KCQlsb2NrZWRSZXN1bHQuc2V0KCJUQ0NITk8iLCAobG9ja2VkUmVzdWx0LmdldEludCgiVENDSE5PIikgKyAxKSkNCgkJbG9ja2VkUmVzdWx0LnNldCgiVENDSElEIiwgcHJvZ3JhbS5nZXRVc2VyKCkpDQoJCWxvY2tlZFJlc3VsdC51cGRhdGUoKQ0KICB9DQp9"}}}