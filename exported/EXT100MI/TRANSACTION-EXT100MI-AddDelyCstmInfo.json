{"utilities":{},"programModules":{"EXT100MI":{"program":"EXT100MI","triggers":{},"transactions":{"AddDelyCstmInfo":{"sourceUuid":"2fe38c89-eacd-40b3-9a46-effe590a1665","name":"AddDelyCstmInfo","program":"EXT100MI","description":"Add delivery related custom  information in EXTDSH","active":true,"multi":false,"modified":1675162337386,"modifiedBy":"900071","outputFields":[],"inputFields":[{"name":"CONO","description":"Compaby Number","length":3,"mandatory":true,"type":"N"},{"name":"INOU","description":"Direction","length":1,"mandatory":true,"type":"N"},{"name":"DLIX","description":"Delivery Number","length":11,"mandatory":true,"type":"N"},{"name":"CONN","description":"Shipment number ","length":7,"mandatory":false,"type":"N"},{"name":"RIDN","description":"Reference order number","length":10,"mandatory":false,"type":"A"},{"name":"MULS","description":"Place sequence number for unloading","length":5,"mandatory":false,"type":"N"},{"name":"SEAL","description":"Seal Number","length":30,"mandatory":false,"type":"A"},{"name":"TRLN","description":"TRLN","length":10,"mandatory":false,"type":"A"}],"utilities":[]}},"batches":{}}},"sources":{"2fe38c89-eacd-40b3-9a46-effe590a1665":{"uuid":"2fe38c89-eacd-40b3-9a46-effe590a1665","updated":1675162324192,"updatedBy":"900071","created":1666098448414,"createdBy":"900071","apiVersion":"0.9","beVersion":"16.0.0.20221110165806","codeHash":"35738EB273917E9C921C5EE59EE91C2EA7D6BE607728B7710C83D67DA6DF17D0","code":"LyoNCiAqIFJFQURNRQ0KICogVGhpcyBleHRlbnNpb24gaXMgYmVpbmcgdXNlZCB0byBBZGQgcmVjb3JkcyB0byBFWFREU0ggdGFibGUgZm9yIGRlbGl2ZXJ5IHJlbGF0ZWQgY3VzdG9tIGluZm9ybWF0aW9uLiANCiAqDQogKiBOYW1lOiBFWFQxMDBNSS5BZGREZWx5Q3N0bUluZm8NCiAqIERlc2NyaXB0aW9uOiBBZGRpbmcgcmVjb3JkcyB0byBFWFREU0ggdGFibGUNCiAqIERhdGUJICAgICAgQ3JlYXRlZCBCeSAgICAgICAgICAgICAgICAgICAgRGVzY3JpcHRpb24NCiAqIDIwMjIxMDE4CSAgUHJhbm90aSBLaGF0YXZrYXIgICAgICAgICAgICAgQWRkaW5nIHJlY29yZHMgdG8gRVhURFNIIHRhYmxlDQogKg0KICovDQppbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZQ0KaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGVUaW1lDQppbXBvcnQgamF2YS50aW1lLmZvcm1hdC5EYXRlVGltZUZvcm1hdHRlcg0KaW1wb3J0IGphdmEudGltZS5mb3JtYXQuRGF0ZVRpbWVQYXJzZUV4Y2VwdGlvbg0KDQoNCg0KcHVibGljIGNsYXNzIEFkZERlbHlDc3RtSW5mbyBleHRlbmRzIEV4dGVuZE0zVHJhbnNhY3Rpb24gew0KICBwcml2YXRlIGZpbmFsIE1JQVBJIG1pDQogIHByaXZhdGUgZmluYWwgRGF0YWJhc2VBUEkgZGF0YWJhc2UNCglwcml2YXRlIGZpbmFsIExvZ2dlckFQSSBsb2dnZXINCglwcml2YXRlIGZpbmFsIFByb2dyYW1BUEkgcHJvZ3JhbQ0KICAgcHJpdmF0ZSBmaW5hbCBNSUNhbGxlckFQSSBtaUNhbGxlcg0KCQ0KCQ0KCS8vSW5wdXQgZmllbGRzDQoJcHJpdmF0ZSBpbnQgaUNPTk8saUlOT1UsaURMSVgsIGlDT05OLGlNVUxTLGlST1JDDQogIHByaXZhdGUgU3RyaW5nIGlSSUROLGlTRUFMLGlUUkxOLGluTVVMUyxpbkNPTk4NCiAgDQogIA0KICBwdWJsaWMgQWRkRGVseUNzdG1JbmZvKE1JQVBJIG1pLERhdGFiYXNlQVBJIGRhdGFiYXNlLCBMb2dnZXJBUEkgbG9nZ2VyLCBQcm9ncmFtQVBJIHByb2dyYW0sIE1JQ2FsbGVyQVBJIG1pQ2FsbGVyKSB7DQogICAgdGhpcy5taSA9IG1pDQogICAgdGhpcy5kYXRhYmFzZSA9IGRhdGFiYXNlDQoJCXRoaXMubG9nZ2VyID0gbG9nZ2VyDQoJCXRoaXMucHJvZ3JhbSA9IHByb2dyYW0gIA0KCQl0aGlzLm1pQ2FsbGVyID0gbWlDYWxsZXINCiAgfQ0KICANCiAgDQogICAJLyoqDQoJICogbWFpbiBtZXRob2QNCgkgKg0KCSAqLw0KICBwdWJsaWMgdm9pZCBtYWluKCkgew0KICAgIGlDT05PID0gbWkuaW5EYXRhLmdldCgiQ09OTyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiQ09OTyIpID09IDAgPyAoSW50ZWdlcilwcm9ncmFtLkxEQVpELkNPTk8gOiBtaS5pbkRhdGEuZ2V0KCJDT05PIikgYXMgSW50ZWdlcg0KICAgIGlJTk9VID0gbWkuaW5EYXRhLmdldCgiSU5PVSIpID09IG51bGwgPyAwIDogbWkuaW5EYXRhLmdldCgiSU5PVSIpIGFzIEludGVnZXINCiAgICBpRExJWCA9IG1pLmluRGF0YS5nZXQoIkRMSVgiKSA9PSBudWxsID8gMCA6IG1pLmluRGF0YS5nZXQoIkRMSVgiKSBhcyBJbnRlZ2VyDQogICAgaUNPTk4gPSBtaS5pbkRhdGEuZ2V0KCJDT05OIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJDT05OIikudHJpbSgpIGluIFsiIiwgIj8iXSA/IDAgOiBtaS5pbkRhdGEuZ2V0KCJDT05OIikudHJpbSgpLnRvSW50ZWdlcigpDQoJCWlSSUROID0gbWkuaW5EYXRhLmdldCgiUklETiIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlJJRE4iKQ0KICAgIGlNVUxTID0gbWkuaW5EYXRhLmdldCgiTVVMUyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiTVVMUyIpLnRyaW0oKSBpbiBbIiIsICI/Il0gPyAwIDogbWkuaW5EYXRhLmdldCgiTVVMUyIpLnRyaW0oKS50b0ludGVnZXIoKQ0KICAgIGlTRUFMID0gbWkuaW5EYXRhLmdldCgiU0VBTCIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlNFQUwiKQ0KICAgIGlUUkxOID0gbWkuaW5EYXRhLmdldCgiVFJMTiIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlRSTE4iKQ0KICAgIA0KICAgIGxvZ2dlci5kZWJ1ZygiSW5wdXQgTVVMUyBpczoiK2lNVUxTKQ0KICAgIA0KICAgIC8vVmFsaWRhdGVzIHRoZSBpbnB1dCBwYXJhbWV0ZXJzDQoJCWlmKCF2YWxpZGF0ZURlbGl2ZXJ5Tm8oaUNPTk8sIGlJTk9VLGlETElYKSl7DQoJCSAgbWkuZXJyb3IoIkRlbGl2ZXJ5IG51bWJlciBkb2VzIG5vdCBleGlzdCIpDQoJCSAgcmV0dXJuDQoJCX0NCgkJDQoJCWlmKGlDT05OIT0wKXsNCgkJICB2YWxpZFNoaXBtZW50Tm8oaUNPTk8saUNPTk4pDQoJCX0NCgkJaWYoIXZhbGlkT3JkZXJOdW1iZXIoaUNPTk8saVJJRE4saUlOT1UsaURMSVgpKXsNCgkJICBtaS5lcnJvcigiT3JkZXIgbnVtYmVyIGRvZXMgbm90IGV4aXN0IikNCgkJICByZXR1cm4NCgkJfQ0KCQkJaW5zZXJ0UmVjb3JkSW5FWFREU0goKQ0KICB9DQogIA0KICAgIC8vVmFsaWRhdGUgdGhlIGlucHV0IHBhcmFtZXRlciANCiAgcHJpdmF0ZSBib29sZWFuIHZhbGlkYXRlRGVsaXZlcnlObyhpbnQgaW5DT05PLCBpbnQgaW5JTk9VLGludCBpbkRMSVgpew0KICAgIGxvZ2dlci5kZWJ1ZygiVmFsaWRhdGUgaW5wdXQgRGVsaXZlcnkgbnVtYmVyIikNCiAgICBEQkFjdGlvbiBkYkFjdGlvbiA9IGRhdGFiYXNlLnRhYmxlKCJNSERJU0giKS5pbmRleCgiMDAiKS5zZWxlY3Rpb24oIk9RQ09OTyIsIk9RSU5PVSIsICJPUURMSVgiKS5idWlsZCgpDQogICAgREJDb250YWluZXIgTUhESVNIID0gZGJBY3Rpb24uZ2V0Q29udGFpbmVyKCkNCiAgICANCiAgICBNSERJU0guc2V0KCJPUUNPTk8iLCBpbkNPTk8pDQogICAgTUhESVNILnNldCgiT1FJTk9VIiwgaW5JTk9VKQ0KICAgIE1IRElTSC5zZXQoIk9RRExJWCIsIGluRExJWCkNCiAgICANCiAgICBpZiAoIWRiQWN0aW9uLnJlYWQoTUhESVNIKSkgew0KICAgICBsb2dnZXIuZGVidWcoIlJlY29yZCBub3QgZm91bmQiKQ0KICAgICByZXR1cm4gZmFsc2UNCiAgICB9DQogICAgIGxvZ2dlci5kZWJ1ZygiUmVjb3JkIGZvdW5kIikNCiAgICAgcmV0dXJuIHRydWUNCiAgfQ0KICANCiAgLyoqDQogICAqIFZhbGlkYXRlIHRoZSBpbnB1dCBTaGlwbWVudCBudW1iZXINCiAgICovDQogICAgcHJpdmF0ZSBib29sZWFuICB2YWxpZFNoaXBtZW50Tm8gKGludCBjb25vLCBpbnQgY29ubil7DQogIAlsb2dnZXIuZGVidWcoIkluIHZhbGlkU2hpcG1lbnRObyIpDQogIAlNYXA8U3RyaW5nLFN0cmluZz4gcGFyYW1zID0gWyJDT05OIiA6IGNvbm4udG9TdHJpbmcoKS50cmltKCldOw0KDQoJCUNsb3N1cmU8Pz4gaGFuZGxlciA9IHsgTWFwPFN0cmluZywgU3RyaW5nPiByZXNwb25zZSAtPg0KCQkJaWYocmVzcG9uc2UuZXJyb3Ipew0KCQkJCW1pLmVycm9yKCJTaGlwbWVudCBudW1iZXIgIitjb25uKyIgZG9lcyBub3QgZXhpc3QiKQ0KCQkJCXJldHVybiANCgkJCX1lbHNlew0KCQkJCXJldHVybiB0cnVlOyAvLyBUaGlzIG1lYW5zIG5vIGVycm9yDQoJCQl9DQoJCX07DQoJCW1pQ2FsbGVyLmNhbGwoIkRSUzEwME1JIiwiR2V0U2hpcG1lbnQiLCBwYXJhbXMsIGhhbmRsZXIpDQoJfQ0KICAgDQogIA0KICANCiAgLyoqDQogICAqIFZhbGlkYXRlIHRoZSBpbnB1dCBwYXJhbWV0ZXIgUklETiBhY2NvcmRpbmcgdG8gcmVsYXRlZCByZWYgb3JkZXIgY2F0ZWdvcnkgUk9SQw0KICAgKi8NCiAgIHByaXZhdGUgYm9vbGVhbiB2YWxpZE9yZGVyTnVtYmVyKGludCBpbkNPTk8sIFN0cmluZyBpblJJRE4saW50IGluSU5PVSxpbnQgaW5ETElYKXsNCiAgICBsb2dnZXIuZGVidWcoIkluIHZhbGlkYXRlIG9yZGVyIG51bWJlciIpDQogICAgRXhwcmVzc2lvbkZhY3RvcnkgZXhwcmVzc2lvbiA9IGRhdGFiYXNlLmdldEV4cHJlc3Npb25GYWN0b3J5KCJNSERJU0giKQ0KICAgIGlmKGlSSUROLnRyaW0oKSAhPSAiIikgeyANCiAgICAgIGV4cHJlc3Npb24gPSBleHByZXNzaW9uLmVxKCJPUVJJRE4iLCBpUklETikNCiAgICB9DQogICAgDQogICAgREJBY3Rpb24gZGJBY3Rpb24gPSBkYXRhYmFzZS50YWJsZSgiTUhESVNIIikuaW5kZXgoIjAwIikubWF0Y2hpbmcoZXhwcmVzc2lvbikuc2VsZWN0QWxsRmllbGRzKCkuYnVpbGQoKQ0KICAgIERCQ29udGFpbmVyIE1IRElTSCA9IGRiQWN0aW9uLmdldENvbnRhaW5lcigpDQogICAgDQogICAgTUhESVNILnNldCgiT1FDT05PIiwgaW5DT05PKQ0KICAgIE1IRElTSC5zZXQoIk9RSU5PVSIsIGluSU5PVSkNCiAgICBNSERJU0guc2V0KCJPUURMSVgiLCBpbkRMSVgpDQoNCiAgICAgaWYgKGRiQWN0aW9uLnJlYWQoTUhESVNIKSkgew0KICAgICBsb2dnZXIuZGVidWcoIlJlY29yZCBmb3VuZCIraVJJRE4pDQogICAgIHJldHVybiB0cnVlDQogICAgfWVsc2V7DQogICAgICByZXR1cm4gZmFsc2UNCiAgICB9IA0KICAgfSAgIA0KICAgDQogIAkvKioNCgkgKiBJbnNlcnRzIHJlY29yZCBpbiB0aGUgRVhURFNIIHRhYmxlDQoJICoNCgkgKi8NCglwcml2YXRlIHZvaWQgaW5zZXJ0UmVjb3JkSW5FWFREU0goKXsNCgkJREJBY3Rpb24gZGJBY3Rpb24gPSBkYXRhYmFzZS50YWJsZSgiRVhURFNIIikuaW5kZXgoIjAwIikuc2VsZWN0aW9uKCJFWENPTk8iLCJFWElOT1UiLCJFWERMSVgiKS5idWlsZCgpDQoJCURCQ29udGFpbmVyIEVYVERTSCA9IGRiQWN0aW9uLmdldENvbnRhaW5lcigpDQoNCgkJRVhURFNILnNldCgiRVhDT05PIiwgaUNPTk8pDQoJCUVYVERTSC5zZXQoIkVYSU5PVSIsIGlJTk9VKQ0KCQlFWFREU0guc2V0KCJFWERMSVgiLCBpRExJWCkJCQ0KCSAgRVhURFNILnNldCgiRVhDT05OIiwgaUNPTk4pDQogICAgRVhURFNILnNldCgiRVhSSUROIiwgaVJJRE4pDQogICAgRVhURFNILnNldCgiRVhNVUxTIiwgaU1VTFMpDQogICAgRVhURFNILnNldCgiRVhTRUFMIiwgaVNFQUwpDQogICAgRVhURFNILnNldCgiRVhUUkxOIiwgaVRSTE4pDQoJCQ0KCQlFWFREU0guc2V0KCJFWFJHRFQiLCAgTG9jYWxEYXRlLm5vdygpLmZvcm1hdChEYXRlVGltZUZvcm1hdHRlci5vZlBhdHRlcm4oInl5eXlNTWRkIikpLnRvSW50ZWdlcigpKQ0KCQlFWFREU0guc2V0KCJFWFJHVE0iLCBMb2NhbERhdGVUaW1lLm5vdygpLmZvcm1hdChEYXRlVGltZUZvcm1hdHRlci5vZlBhdHRlcm4oIkhIbW1zcyIpKS50b0ludGVnZXIoKSkNCgkJRVhURFNILnNldCgiRVhMTURUIiwgTG9jYWxEYXRlLm5vdygpLmZvcm1hdChEYXRlVGltZUZvcm1hdHRlci5vZlBhdHRlcm4oInl5eXlNTWRkIikpLnRvSW50ZWdlcigpKQ0KCQlFWFREU0guc2V0KCJFWENITk8iLCAxKQ0KCQlFWFREU0guc2V0KCJFWENISUQiLCBwcm9ncmFtLmdldFVzZXIoKSkNCgkJDQoJCWRiQWN0aW9uLmluc2VydChFWFREU0gscmVjb3JkRXhpc3RzKQ0KDQoJfQkNCgkNCglDbG9zdXJlIHJlY29yZEV4aXN0cyA9IHsNCgkJbWkuZXJyb3IoIlJlY29yZCBBbHJlYWR5IEV4aXN0cyBpbiBFWFREU0ggdGFibGUiKQ0KCX0NCiAgDQp9"}}}