{"programModules":{"EXT130MI":{"program":"EXT130MI","triggers":{},"transactions":{"LstQAHold":{"sourceUuid":"ef7bd3f6-0f56-4a2b-b36b-93ec4303d200","name":"LstQAHold","program":"EXT130MI","description":"List QA Hold","active":true,"multi":true,"modified":1721769423894,"modifiedBy":"900046","outputFields":[{"name":"WHLO","description":"Warehouse","length":3,"mandatory":false,"type":"A"},{"name":"ITNO","description":"Item Number","length":15,"mandatory":false,"type":"A"},{"name":"ITDS","description":"Name","length":60,"mandatory":false,"type":"A"},{"name":"WHSL","description":"Location","length":10,"mandatory":false,"type":"A"},{"name":"BANO","description":"Lot Number","length":20,"mandatory":false,"type":"A"},{"name":"CAMU","description":"Container","length":20,"mandatory":false,"type":"A"},{"name":"TTYP","description":"Trans Type","length":2,"mandatory":false,"type":"N"},{"name":"STQT","description":"On-Hand Approve","length":17,"mandatory":false,"type":"N"},{"name":"TRQT","description":"Trans Qty Bu/M","length":17,"mandatory":false,"type":"N"},{"name":"ALQT","description":"Allocated Qty","length":17,"mandatory":false,"type":"N"},{"name":"BREM","description":"Remark","length":20,"mandatory":false,"type":"A"},{"name":"BREF","description":"Lot Ref 1","length":20,"mandatory":false,"type":"A"},{"name":"BRE2","description":"Lot Ref 2","length":20,"mandatory":false,"type":"A"},{"name":"EXPI","description":"Expiration Date","length":10,"mandatory":false,"type":"N"},{"name":"MFDT","description":"Manufact Date","length":10,"mandatory":false,"type":"N"},{"name":"BBDT","description":"Best Before Dt","length":10,"mandatory":false,"type":"N"},{"name":"QIAD","description":"Qi Approv Date","length":10,"mandatory":false,"type":"N"},{"name":"TRDT","description":"Trans Date","length":10,"mandatory":false,"type":"N"},{"name":"TRTM","description":"Trans Time","length":8,"mandatory":false,"type":"N"},{"name":"OPDS","description":"Op Description","length":30,"mandatory":false,"type":"A"},{"name":"STAS","description":"Status Bal Id","length":1,"mandatory":false,"type":"A"}],"inputFields":[{"name":"CONO","description":"company","length":3,"mandatory":true,"type":"A"}],"utilities":["DateUtil"],"market":"ALL"}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"ef7bd3f6-0f56-4a2b-b36b-93ec4303d200":{"uuid":"ef7bd3f6-0f56-4a2b-b36b-93ec4303d200","updated":1721773096215,"updatedBy":"900046","created":1719417048626,"createdBy":"900046","apiVersion":"0.21","beVersion":"16.0.0.20240418165458.8","language":"GROOVY","codeHash":"1B1816DD89E4774583693C33B53A52CE69B16017980D51362103D8F7A4D6BE50","code":"LyoqDQogKiBSRUFETUUNCiAqIExzdFFBSG9sZCBjbGFzcyBleHRlbmRzIEV4dGVuZE0zVHJhbnNhY3Rpb24gYW5kIGxpc3RzIGRhdGEgZm9yIHRoZSBRQUhvbGQgcGFuZWwuDQogKg0KICoNCiAqIE5hbWU6IEVYVDEzME1JLkxzdERpc3Bvc2l0aW9uDQogKiBEZXNjcmlwdGlvbjogTGlzdCBkYXRhIGZvciB0aGUgY3VzdG9tZXIgcmV0dXJucyBwYW5lbA0KICogRGF0ZQkgICAgICBDaGFuZ2VkIEJ5ICAgIERlc2NyaXB0aW9uDQogKiAyMDI0MDcyMAkgIEFKQVlZICAgICAgICAgTHN0UUFIb2xkIGNsYXNzIGV4dGVuZHMgRXh0ZW5kTTNUcmFuc2FjdGlvbiBhbmQgbGlzdHMgZGF0YSBmb3IgdGhlIFFBSG9sZCBwYW5lbC4NCiAqIDIwMjQwNzIzCSAgQUpBWVkgICAgICAgIAlDb2RlIGNsZWFudXANCiAqKi8NCiANCiANCnB1YmxpYyBjbGFzcyBMc3RRQUhvbGQgZXh0ZW5kcyBFeHRlbmRNM1RyYW5zYWN0aW9uIHsNCiAgICBwcml2YXRlIGZpbmFsIE1JQVBJIG1pOyAgICAgICAgICANCiAgICBwcml2YXRlIGZpbmFsIERhdGFiYXNlQVBJIGRhdGFiYXNlOw0KICAgIHByaXZhdGUgZmluYWwgUHJvZ3JhbUFQSSBwcm9ncmFtOyAgDQogICAgcHJpdmF0ZSBmaW5hbCBVdGlsaXR5QVBJIHV0aWxpdHk7ICANCg0KICAgIHByaXZhdGUgU3RyaW5nIGlDT05POyAgIC8vIENvbXBhbnkgbnVtYmVyDQogICAgcHJpdmF0ZSBMaXN0PERCQ29udGFpbmVyPiBtaWxvbWFMaXN0ID0gbmV3IEFycmF5TGlzdDw+KCk7ICAgLy8gTGlzdCBvZiBjb250YWluZXJzIGZyb20gTUlMT01BIHRhYmxlDQogICAgcHJpdmF0ZSBMaXN0PERCQ29udGFpbmVyPiBtaXRtYXNMaXN0ID0gbmV3IEFycmF5TGlzdDw+KCk7ICAgLy8gTGlzdCBvZiBjb250YWluZXJzIGZyb20gTUlUTUFTIHRhYmxlDQogICAgcHJpdmF0ZSBMaXN0PERCQ29udGFpbmVyPiBtaXR0cmFMaXN0ID0gbmV3IEFycmF5TGlzdDw+KCk7ICAgLy8gTGlzdCBvZiBjb250YWluZXJzIGZyb20gTUlUVFJBIHRhYmxlDQogICAgcHJpdmF0ZSBMaXN0PERCQ29udGFpbmVyPiBtd29vcGVMaXN0ID0gbmV3IEFycmF5TGlzdDw+KCk7ICAgLy8gTGlzdCBvZiBjb250YWluZXJzIGZyb20gTVdPT1BFIHRhYmxlDQoNCiAgICAvKioNCiAgICAgKiBDb25zdHJ1Y3RvciBmb3IgTHN0UUFIb2xkIGNsYXNzLg0KICAgICAqDQogICAgICogQHBhcmFtIG1pICAgICAgIE1JQVBJIG9iamVjdA0KICAgICAqIEBwYXJhbSBkYXRhYmFzZSBEYXRhYmFzZUFQSSBvYmplY3QNCiAgICAgKiBAcGFyYW0gcHJvZ3JhbSAgUHJvZ3JhbUFQSSBvYmplY3QNCiAgICAgKiBAcGFyYW0gdXRpbGl0eSAgVXRpbGl0eUFQSSBvYmplY3QNCiAgICAgKi8NCiAgICBwdWJsaWMgTHN0UUFIb2xkKE1JQVBJIG1pLCBEYXRhYmFzZUFQSSBkYXRhYmFzZSwgUHJvZ3JhbUFQSSBwcm9ncmFtLCBVdGlsaXR5QVBJIHV0aWxpdHkpIHsNCiAgICAgICAgdGhpcy5taSA9IG1pOw0KICAgICAgICB0aGlzLmRhdGFiYXNlID0gZGF0YWJhc2U7DQogICAgICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW07DQogICAgICAgIHRoaXMudXRpbGl0eSA9IHV0aWxpdHk7DQogICAgfQ0KDQogICAgLyoqDQogICAgICogTWFpbiBtZXRob2QgdGhhdCBwZXJmb3JtcyB0aGUgbGlzdGluZyBvcGVyYXRpb24gZm9yIGl0ZW1zIG9uIGhvbGQuDQogICAgICovDQogICAgcHVibGljIHZvaWQgbWFpbigpIHsNCiAgICAgICAgaUNPTk8gPSBtaS5pbi5nZXQoIkNPTk8iKS50b1N0cmluZygpID09IG51bGwgPyBwcm9ncmFtLkxEQVpELkNPTk8gOiBtaS5pbi5nZXQoIkNPTk8iKS50b1N0cmluZygpLnRyaW0oKTsNCg0KICAgICAgICAvLyBDYWxjdWxhdGUgY3VycmVudCBlcG9jaCB0aW1lIG1pbnVzIDEgZGF5DQogICAgICAgIGxvbmcgY3VycmVudEVwb2NoTWlsbGlzZWNvbmRzID0gdXRpbGl0eS5jYWxsKCJEYXRlVXRpbCIsICJjdXJyZW50RXBvY2hNaWxsaXNlY29uZHMiKSBhcyBsb25nOw0KICAgICAgICBjdXJyZW50RXBvY2hNaWxsaXNlY29uZHMgPSBjdXJyZW50RXBvY2hNaWxsaXNlY29uZHMgLSAoMSAqIDI0ICogNjAgKiA2MCAqIDEwMDBMKTsNCg0KICAgICAgICAvLyBDcmVhdGUgZXhwcmVzc2lvbiBmb3IgcXVlcnlpbmcgdGhlIE1JVExPQyB0YWJsZSB3aXRoIGEgdGltZXN0YW1wIGNvbmRpdGlvbg0KICAgICAgICBFeHByZXNzaW9uRmFjdG9yeSBleHByZXNzaW9uID0gZGF0YWJhc2UuZ2V0RXhwcmVzc2lvbkZhY3RvcnkoIk1JVExPQyIpOw0KICAgICAgICBleHByZXNzaW9uID0gZXhwcmVzc2lvbi5nZSgiTUxMTVRTIiwgTG9uZy50b1N0cmluZyhjdXJyZW50RXBvY2hNaWxsaXNlY29uZHMpKTsNCg0KICAgICAgICAvLyBDcmVhdGUgYWN0aW9uIGZvciBxdWVyeWluZyBNSVRMT0MgdGFibGUNCiAgICAgICAgREJBY3Rpb24gYWN0aW9uTUlUTE9DID0gZGF0YWJhc2UudGFibGUoIk1JVExPQyIpLmluZGV4KCIwMCIpLm1hdGNoaW5nKGV4cHJlc3Npb24pDQogICAgICAgICAgICAgICAgLnNlbGVjdGlvbigiTUxXSExPIiwgIk1MSVROTyIsICJNTFdIU0wiLCAiTUxCQU5PIiwgIk1MQ0FNVSIsICJNTFNUUVQiLCAiTUxBTFFUIiwgIk1MQlJFTSIsICJNTEJSRUYiLCAiTUxCUkUyIiwgIk1MU1RBUyIsICJNTEZBQ0kiKS5idWlsZCgpOw0KICAgICAgICBEQkNvbnRhaW5lciBjb250YWluZXJNSVRMT0MgPSBhY3Rpb25NSVRMT0MuZ2V0Q29udGFpbmVyKCk7DQoNCiAgICAgICAgY29udGFpbmVyTUlUTE9DLnNldEludCgiTUxDT05PIiwgaUNPTk8gYXMgaW50KTsNCg0KICAgICAgICAvLyBDbG9zdXJlIHRvIHByb2Nlc3MgYWxsIHJlY29yZHMgZmV0Y2hlZCBmcm9tIE1JVExPQw0KICAgICAgICBDbG9zdXJlPD8+IHJlYWRBbGxSZWNvcmRzTUlUTE9DID0gew0KICAgICAgICAgICAgREJDb250YWluZXIgcmVzdWx0Q29udGFpbmVyTUlUTE9DIC0+DQogICAgICAgICAgICAgICAgU3RyaW5nIElUTk8gPSByZXN1bHRDb250YWluZXJNSVRMT0MuZ2V0KCJNTElUTk8iKS50b1N0cmluZygpLnRyaW0oKTsNCiAgICAgICAgICAgICAgICBTdHJpbmcgQkFOTyA9IHJlc3VsdENvbnRhaW5lck1JVExPQy5nZXQoIk1MQkFOTyIpLnRvU3RyaW5nKCkudHJpbSgpOw0KICAgICAgICAgICAgICAgIFN0cmluZyBGQUNJID0gcmVzdWx0Q29udGFpbmVyTUlUTE9DLmdldCgiTUxGQUNJIikudG9TdHJpbmcoKS50cmltKCk7DQoNCiAgICAgICAgICAgICAgICAvLyBTZXQgb3V0cHV0IGRhdGEgdG8gbWkub3V0RGF0YQ0KICAgICAgICAgICAgICAgIG1pLm91dERhdGEucHV0KCJXSExPIiwgcmVzdWx0Q29udGFpbmVyTUlUTE9DLmdldCgiTUxXSExPIikudG9TdHJpbmcoKS50cmltKCkpOw0KICAgICAgICAgICAgICAgIG1pLm91dERhdGEucHV0KCJJVE5PIiwgSVROTyk7DQogICAgICAgICAgICAgICAgbWkub3V0RGF0YS5wdXQoIldIU0wiLCByZXN1bHRDb250YWluZXJNSVRMT0MuZ2V0KCJNTFdIU0wiKS50b1N0cmluZygpLnRyaW0oKSk7DQogICAgICAgICAgICAgICAgbWkub3V0RGF0YS5wdXQoIkJBTk8iLCBCQU5PKTsNCiAgICAgICAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiQ0FNVSIsIHJlc3VsdENvbnRhaW5lck1JVExPQy5nZXQoIk1MQ0FNVSIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCiAgICAgICAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiU1RRVCIsIHJlc3VsdENvbnRhaW5lck1JVExPQy5nZXQoIk1MU1RRVCIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCiAgICAgICAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiQUxRVCIsIHJlc3VsdENvbnRhaW5lck1JVExPQy5nZXQoIk1MQUxRVCIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCiAgICAgICAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiQlJFTSIsIHJlc3VsdENvbnRhaW5lck1JVExPQy5nZXQoIk1MQlJFTSIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCiAgICAgICAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiQlJFRiIsIHJlc3VsdENvbnRhaW5lck1JVExPQy5nZXQoIk1MQlJFRiIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCiAgICAgICAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiQlJFMiIsIHJlc3VsdENvbnRhaW5lck1JVExPQy5nZXQoIk1MQlJFMiIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCiAgICAgICAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiU1RBUyIsIHJlc3VsdENvbnRhaW5lck1JVExPQy5nZXQoIk1MU1RBUyIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCg0KICAgICAgICAgICAgICAgIC8vIEZpbmQgY29ycmVzcG9uZGluZyByZWNvcmQgaW4gTUlMT01BIGxpc3QNCiAgICAgICAgICAgICAgICBEQkNvbnRhaW5lciBjb250YWluZXJNSUxPTUEgPSBtaWxvbWFMaXN0LmZpbmQgew0KICAgICAgICAgICAgICAgICAgICBpdC5nZXRTdHJpbmcoIkxNSVROTyIpID09IElUTk8gJiYgaXQuZ2V0U3RyaW5nKCJMTUJBTk8iKSA9PSBCQU5POw0KICAgICAgICAgICAgICAgIH07DQoNCiAgICAgICAgICAgICAgICBpZiAoY29udGFpbmVyTUlMT01BID09IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgLy8gUmVhZCByZWNvcmQgZnJvbSBNSUxPTUEgdGFibGUgaWYgbm90IGZvdW5kDQogICAgICAgICAgICAgICAgICAgIERCQWN0aW9uIGFjdGlvbk1JTE9NQSA9IGRhdGFiYXNlLnRhYmxlKCJNSUxPTUEiKS5pbmRleCgiMDAiKS5zZWxlY3Rpb24oIkxNRVhQSSIsICJMTU1GRFQiLCAiTE1CQkRUIiwgIkxNUUlBRCIpLmJ1aWxkKCk7DQogICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lck1JTE9NQSA9IGFjdGlvbk1JTE9NQS5nZXRDb250YWluZXIoKTsNCg0KICAgICAgICAgICAgICAgICAgICBjb250YWluZXJNSUxPTUEuc2V0SW50KCJMTUNPTk8iLCBpQ09OTyBhcyBpbnQpOw0KICAgICAgICAgICAgICAgICAgICBjb250YWluZXJNSUxPTUEuc2V0KCJMTUlUTk8iLCBJVE5PKTsNCiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyTUlMT01BLnNldCgiTE1CQU5PIiwgQkFOTyk7DQoNCiAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGlvbk1JTE9NQS5yZWFkKGNvbnRhaW5lck1JTE9NQSkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG1pbG9tYUxpc3QuYWRkKGNvbnRhaW5lck1JTE9NQS5jcmVhdGVDb3B5KCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgbWkub3V0RGF0YS5wdXQoIkVYUEkiLCBjb250YWluZXJNSUxPTUEuZ2V0KCJMTUVYUEkiKS50b1N0cmluZygpLnRyaW0oKSk7DQogICAgICAgICAgICAgICAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiTUZEVCIsIGNvbnRhaW5lck1JTE9NQS5nZXQoIkxNTUZEVCIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIG1pLm91dERhdGEucHV0KCJCQkRUIiwgY29udGFpbmVyTUlMT01BLmdldCgiTE1CQkRUIikudG9TdHJpbmcoKS50cmltKCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgbWkub3V0RGF0YS5wdXQoIlFJQUQiLCBjb250YWluZXJNSUxPTUEuZ2V0KCJMTVFJQUQiKS50b1N0cmluZygpLnRyaW0oKSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiRVhQSSIsIGNvbnRhaW5lck1JTE9NQS5nZXQoIkxNRVhQSSIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCiAgICAgICAgICAgICAgICAgICAgbWkub3V0RGF0YS5wdXQoIk1GRFQiLCBjb250YWluZXJNSUxPTUEuZ2V0KCJMTU1GRFQiKS50b1N0cmluZygpLnRyaW0oKSk7DQogICAgICAgICAgICAgICAgICAgIG1pLm91dERhdGEucHV0KCJCQkRUIiwgY29udGFpbmVyTUlMT01BLmdldCgiTE1CQkRUIikudG9TdHJpbmcoKS50cmltKCkpOw0KICAgICAgICAgICAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiUUlBRCIsIGNvbnRhaW5lck1JTE9NQS5nZXQoIkxNUUlBRCIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAvLyBGaW5kIGNvcnJlc3BvbmRpbmcgcmVjb3JkIGluIE1JVE1BUyBsaXN0DQogICAgICAgICAgICAgICAgREJDb250YWluZXIgY29udGFpbmVyTUlUTUFTID0gbWl0bWFzTGlzdC5maW5kIHsNCiAgICAgICAgICAgICAgICAgICAgaXQuZ2V0U3RyaW5nKCJNTUlUTk8iKSA9PSBJVE5POw0KICAgICAgICAgICAgICAgIH07DQoNCiAgICAgICAgICAgICAgICBpZiAoY29udGFpbmVyTUlUTUFTID09IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgLy8gUmVhZCByZWNvcmQgZnJvbSBNSVRNQVMgdGFibGUgaWYgbm90IGZvdW5kDQogICAgICAgICAgICAgICAgICAgIERCQWN0aW9uIGFjdGlvbk1JVE1BUyA9IGRhdGFiYXNlLnRhYmxlKCJNSVRNQVMiKS5pbmRleCgiMDAiKS5zZWxlY3Rpb24oIk1NSVREUyIpLmJ1aWxkKCk7DQogICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lck1JVE1BUyA9IGFjdGlvbk1JVE1BUy5nZXRDb250YWluZXIoKTsNCg0KICAgICAgICAgICAgICAgICAgICBjb250YWluZXJNSVRNQVMuc2V0SW50KCJNTUNPTk8iLCBpQ09OTyBhcyBpbnQpOw0KICAgICAgICAgICAgICAgICAgICBjb250YWluZXJNSVRNQVMuc2V0KCJNTUlUTk8iLCByZXN1bHRDb250YWluZXJNSVRMT0MuZ2V0KCJNTElUTk8iKS50b1N0cmluZygpLnRyaW0oKSk7DQoNCiAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGlvbk1JVE1BUy5yZWFkKGNvbnRhaW5lck1JVE1BUykpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG1pdG1hc0xpc3QuYWRkKGNvbnRhaW5lck1JVE1BUy5jcmVhdGVDb3B5KCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgbWkub3V0RGF0YS5wdXQoIklURFMiLCBjb250YWluZXJNSVRNQVMuZ2V0KCJNTUlURFMiKS50b1N0cmluZygpLnRyaW0oKSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiSVREUyIsIGNvbnRhaW5lck1JVE1BUy5nZXQoIk1NSVREUyIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAvLyBGaW5kIGNvcnJlc3BvbmRpbmcgcmVjb3JkIGluIE1JVFRSQSBsaXN0DQogICAgICAgICAgICAgICAgREJDb250YWluZXIgY29udGFpbmVyTUlUVFJBID0gbWl0dHJhTGlzdC5maW5kIHsNCiAgICAgICAgICAgICAgICAgICAgaXQuZ2V0U3RyaW5nKCJNVElUTk8iKSA9PSBJVE5PICYmIGl0LmdldFN0cmluZygiTVRCQU5PIikgPT0gQkFOTzsNCiAgICAgICAgICAgICAgICB9Ow0KDQogICAgICAgICAgICAgICAgU3RyaW5nIFJJRE4gPSAiIjsNCg0KICAgICAgICAgICAgICAgIGlmIChjb250YWluZXJNSVRUUkEgPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICAvLyBSZWFkIHJlY29yZCBmcm9tIE1JVFRSQSB0YWJsZSBpZiBub3QgZm91bmQNCiAgICAgICAgICAgICAgICAgICAgRXhwcmVzc2lvbkZhY3RvcnkgTUlUVFJBRXhwcmVzc2lvbiA9IGRhdGFiYXNlLmdldEV4cHJlc3Npb25GYWN0b3J5KCJNSVRUUkEiKTsNCiAgICAgICAgICAgICAgICAgICAgTUlUVFJBRXhwcmVzc2lvbiA9IE1JVFRSQUV4cHJlc3Npb24uZXEoIk1UQ0FNVSIsIHJlc3VsdENvbnRhaW5lck1JVExPQy5nZXQoIk1MQ0FNVSIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCg0KICAgICAgICAgICAgICAgICAgICBEQkFjdGlvbiBhY3Rpb25NSVRUUkEgPSBkYXRhYmFzZS50YWJsZSgiTUlUVFJBIikuaW5kZXgoIjIwIikuc2VsZWN0aW9uKCJNVFRUWVAiLCAiTVRUUlFUIiwgIk1UVFJEVCIsICJNVFRSVE0iLCAiTVRSSUROIikuYnVpbGQoKTsNCiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyTUlUVFJBID0gYWN0aW9uTUlUVFJBLmdldENvbnRhaW5lcigpOw0KDQogICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lck1JVFRSQS5zZXRJbnQoIk1UQ09OTyIsIGlDT05PIGFzIGludCk7DQogICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lck1JVFRSQS5zZXQoIk1USVROTyIsIHJlc3VsdENvbnRhaW5lck1JVExPQy5nZXQoIk1MSVROTyIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyTUlUVFJBLnNldCgiTVRCQU5PIiwgcmVzdWx0Q29udGFpbmVyTUlUTE9DLmdldCgiTUxCQU5PIikudG9TdHJpbmcoKS50cmltKCkpOw0KICAgICAgICAgICAgICAgICAgICBjb250YWluZXJNSVRUUkEuc2V0KCJNVFRUWVAiLCAxNyk7DQoNCiAgICAgICAgICAgICAgICAgICAgLy8gQ2xvc3VyZSB0byBwcm9jZXNzIGFsbCByZWNvcmRzIGZldGNoZWQgZnJvbSBNSVRUUkENCiAgICAgICAgICAgICAgICAgICAgQ2xvc3VyZTw/PiByZWFkQWxsUmVjb3Jkc01JVFRSQSA9IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIERCQ29udGFpbmVyIHJlc3VsdENvbnRhaW5lck1JVFRSQSAtPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pdHRyYUxpc3QuYWRkKHJlc3VsdENvbnRhaW5lck1JVFRSQS5jcmVhdGVDb3B5KCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJJRE4gPSByZXN1bHRDb250YWluZXJNSVRUUkEuZ2V0KCJNVFJJRE4iKS50b1N0cmluZygpLnRyaW0oKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiVFRZUCIsIHJlc3VsdENvbnRhaW5lck1JVFRSQS5nZXQoIk1UVFRZUCIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiVFJRVCIsIHJlc3VsdENvbnRhaW5lck1JVFRSQS5nZXQoIk1UVFJRVCIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiVFJEVCIsIHJlc3VsdENvbnRhaW5lck1JVFRSQS5nZXQoIk1UVFJEVCIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiVFJUTSIsIHJlc3VsdENvbnRhaW5lck1JVFRSQS5nZXQoIk1UVFJUTSIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCiAgICAgICAgICAgICAgICAgICAgfTsNCg0KICAgICAgICAgICAgICAgICAgICBhY3Rpb25NSVRUUkEucmVhZEFsbChjb250YWluZXJNSVRUUkEsIDQsIDEsIHJlYWRBbGxSZWNvcmRzTUlUVFJBKTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiVFRZUCIsIGNvbnRhaW5lck1JVFRSQS5nZXQoIk1UVFRZUCIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCiAgICAgICAgICAgICAgICAgICAgbWkub3V0RGF0YS5wdXQoIlRSUVQiLCBjb250YWluZXJNSVRUUkEuZ2V0KCJNVFRSUVQiKS50b1N0cmluZygpLnRyaW0oKSk7DQogICAgICAgICAgICAgICAgICAgIG1pLm91dERhdGEucHV0KCJUUkRUIiwgY29udGFpbmVyTUlUVFJBLmdldCgiTVRUUkRUIikudG9TdHJpbmcoKS50cmltKCkpOw0KICAgICAgICAgICAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiVFJUTSIsIGNvbnRhaW5lck1JVFRSQS5nZXQoIk1UVFJUTSIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAvLyBGaW5kIGNvcnJlc3BvbmRpbmcgcmVjb3JkIGluIE1XT09QRSBsaXN0DQogICAgICAgICAgICAgICAgREJDb250YWluZXIgY29udGFpbmVyTVdPT1BFID0gbXdvb3BlTGlzdC5maW5kIHsNCiAgICAgICAgICAgICAgICAgICAgaXQuZ2V0U3RyaW5nKCJWT0ZBQ0kiKSA9PSBGQUNJICYmIGl0LmdldFN0cmluZygiVk9QUk5PIikgPT0gSVROTyAmJiBpdC5nZXRTdHJpbmcoIlZPTUZOTyIpID09IFJJRE47DQogICAgICAgICAgICAgICAgfTsNCg0KICAgICAgICAgICAgICAgIGlmIChjb250YWluZXJNV09PUEUgPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICAvLyBSZWFkIHJlY29yZCBmcm9tIE1XT09QRSB0YWJsZSBpZiBub3QgZm91bmQNCiAgICAgICAgICAgICAgICAgICAgREJBY3Rpb24gYWN0aW9uTVdPT1BFID0gZGF0YWJhc2UudGFibGUoIk1XT09QRSIpLmluZGV4KCIwMCIpLnNlbGVjdGlvbigiVk9PUERTIikuYnVpbGQoKTsNCiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyTVdPT1BFID0gYWN0aW9uTVdPT1BFLmdldENvbnRhaW5lcigpOw0KDQogICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lck1XT09QRS5zZXRJbnQoIlZPQ09OTyIsIGlDT05PIGFzIGludCk7DQogICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lck1XT09QRS5zZXQoIlZPRkFDSSIsIEZBQ0kpOw0KICAgICAgICAgICAgICAgICAgICBjb250YWluZXJNV09PUEUuc2V0KCJWT1BSTk8iLCBJVE5PKTsNCiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyTVdPT1BFLnNldCgiVk9NRk5PIiwgUklETik7DQoNCiAgICAgICAgICAgICAgICAgICAgLy8gQ2xvc3VyZSB0byBwcm9jZXNzIGFsbCByZWNvcmRzIGZldGNoZWQgZnJvbSBNV09PUEUNCiAgICAgICAgICAgICAgICAgICAgQ2xvc3VyZTw/PiByZWFkQWxsUmVjb3Jkc01XT09QRSA9IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIERCQ29udGFpbmVyIHJlc3VsdENvbnRhaW5lck1XT09QRSAtPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG13b29wZUxpc3QuYWRkKHJlc3VsdENvbnRhaW5lck1XT09QRS5jcmVhdGVDb3B5KCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pLm91dERhdGEucHV0KCJPUERTIiwgcmVzdWx0Q29udGFpbmVyTVdPT1BFLmdldCgiVk9PUERTIikudG9TdHJpbmcoKS50cmltKCkpOw0KICAgICAgICAgICAgICAgICAgICB9Ow0KDQogICAgICAgICAgICAgICAgICAgIGFjdGlvbk1XT09QRS5yZWFkQWxsKGNvbnRhaW5lck1XT09QRSwgNCwgMSwgcmVhZEFsbFJlY29yZHNNV09PUEUpOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIG1pLm91dERhdGEucHV0KCJPUERTIiwgY29udGFpbmVyTVdPT1BFLmdldCgiVk9PUERTIikudG9TdHJpbmcoKS50cmltKCkpOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIC8vIFdyaXRlIG1pLm91dERhdGENCiAgICAgICAgICAgICAgICBtaS53cml0ZSgpOw0KICAgICAgICB9Ow0KDQogICAgICAgIC8vIFJlYWQgYWxsIHJlY29yZHMgZnJvbSBNSVRMT0MgdGFibGUNCiAgICAgICAgYWN0aW9uTUlUTE9DLnJlYWRBbGwoY29udGFpbmVyTUlUTE9DLCAxLCAxMDAwMCwgcmVhZEFsbFJlY29yZHNNSVRMT0MpOw0KICAgIH0NCn0NCg=="}}}