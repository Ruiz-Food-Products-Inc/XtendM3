{"programModules":{"EXT130MI":{"program":"EXT130MI","triggers":{},"transactions":{"LstQAHold":{"sourceUuid":"ef7bd3f6-0f56-4a2b-b36b-93ec4303d200","name":"LstQAHold","program":"EXT130MI","description":"List QA Hold","active":true,"multi":true,"modified":1727622904394,"modifiedBy":"900073","outputFields":[{"name":"WHLO","description":"Warehouse","length":3,"mandatory":false,"type":"A"},{"name":"ITNO","description":"Item Number","length":15,"mandatory":false,"type":"A"},{"name":"ITDS","description":"Name","length":60,"mandatory":false,"type":"A"},{"name":"WHSL","description":"Location","length":10,"mandatory":false,"type":"A"},{"name":"BANO","description":"Lot Number","length":20,"mandatory":false,"type":"A"},{"name":"CAMU","description":"Container","length":20,"mandatory":false,"type":"A"},{"name":"TTYP","description":"Trans Type","length":2,"mandatory":false,"type":"N"},{"name":"STQT","description":"On-Hand Approve","length":17,"mandatory":false,"type":"N"},{"name":"TRQT","description":"Trans Qty Bu/M","length":17,"mandatory":false,"type":"N"},{"name":"ALQT","description":"Allocated Qty","length":17,"mandatory":false,"type":"N"},{"name":"BREM","description":"Remark","length":20,"mandatory":false,"type":"A"},{"name":"BREF","description":"Lot Ref 1","length":20,"mandatory":false,"type":"A"},{"name":"BRE2","description":"Lot Ref 2","length":20,"mandatory":false,"type":"A"},{"name":"EXPI","description":"Expiration Date","length":10,"mandatory":false,"type":"N"},{"name":"MFDT","description":"Manufact Date","length":10,"mandatory":false,"type":"N"},{"name":"BBDT","description":"Best Before Dt","length":10,"mandatory":false,"type":"N"},{"name":"QIAD","description":"Qi Approv Date","length":10,"mandatory":false,"type":"N"},{"name":"TRDT","description":"Trans Date","length":10,"mandatory":false,"type":"N"},{"name":"TRTM","description":"Trans Time","length":8,"mandatory":false,"type":"N"},{"name":"OPDS","description":"Op Description","length":30,"mandatory":false,"type":"A"},{"name":"STAS","description":"Status Bal Id","length":1,"mandatory":false,"type":"A"}],"inputFields":[{"name":"CONO","description":"company","length":3,"mandatory":true,"type":"A"},{"name":"HOUR","description":"Hours","length":2,"mandatory":true,"type":"N"}],"utilities":["DateUtil"],"market":"ALL"}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"ef7bd3f6-0f56-4a2b-b36b-93ec4303d200":{"uuid":"ef7bd3f6-0f56-4a2b-b36b-93ec4303d200","updated":1726776494146,"updatedBy":"900073","created":1727622859972,"createdBy":"900073","apiVersion":"UNKNOWN","beVersion":"16.0.0.20240717001700.11","language":"GROOVY","codeHash":"DE4EC33ADC31EAC25E2C18EAD0958579A279207945E9B8EB11DEA2D9D6E8D825","code":"LyoqDQogKiBSRUFETUUNCiAqIExzdFFBSG9sZCBjbGFzcyBleHRlbmRzIEV4dGVuZE0zVHJhbnNhY3Rpb24gYW5kIGxpc3RzIGRhdGEgZm9yIHRoZSBRQUhvbGQgcGFuZWwuDQogKg0KICoNCiAqIE5hbWU6IEVYVDEzME1JLkxzdERpc3Bvc2l0aW9uDQogKiBEZXNjcmlwdGlvbjogTGlzdCBkYXRhIGZvciB0aGUgY3VzdG9tZXIgcmV0dXJucyBwYW5lbA0KICogRGF0ZQkgICAgICBDaGFuZ2VkIEJ5ICAgIERlc2NyaXB0aW9uDQogKiAyMDI0MDcyMAkgIEFKQVlZICAgICAgICAgTHN0UUFIb2xkIGNsYXNzIGV4dGVuZHMgRXh0ZW5kTTNUcmFuc2FjdGlvbiBhbmQgbGlzdHMgZGF0YSBmb3IgdGhlIFFBSG9sZCBwYW5lbC4NCiAqIDIwMjQwNzIzCSAgQUpBWVkgICAgICAgIAlDb2RlIGNsZWFudXANCiAqIDIwMjQwOTEwICAgQUpBWVkgICAgICAgICBBZGRlZCBIT1VSIGlucHV0IGZpZWxkDQogKiAyMDI0MDkxNyAgIEFKQVlZICAgICAgICAgQ2hhbmdlZCBNSUxPTUEgdG8gcmVhZCBGYWNpbGl0eSBmcm9tIGJhc2UgbG90DQogKiovDQogDQogDQpwdWJsaWMgY2xhc3MgTHN0UUFIb2xkIGV4dGVuZHMgRXh0ZW5kTTNUcmFuc2FjdGlvbiB7DQogICAgcHJpdmF0ZSBmaW5hbCBNSUFQSSBtaTsgICAgICAgICAgDQogICAgcHJpdmF0ZSBmaW5hbCBEYXRhYmFzZUFQSSBkYXRhYmFzZTsNCiAgICBwcml2YXRlIGZpbmFsIFByb2dyYW1BUEkgcHJvZ3JhbTsgIA0KICAgIHByaXZhdGUgZmluYWwgVXRpbGl0eUFQSSB1dGlsaXR5OyAgDQoNCiAgICBwcml2YXRlIFN0cmluZyBpQ09OTzsgICAvLyBDb21wYW55IG51bWJlcg0KICAgIHByaXZhdGUgU3RyaW5nIGlIT1VSOw0KICAgIHByaXZhdGUgTGlzdDxEQkNvbnRhaW5lcj4gbWlsb21hTGlzdCA9IG5ldyBBcnJheUxpc3Q8PigpOyAgIC8vIExpc3Qgb2YgY29udGFpbmVycyBmcm9tIE1JTE9NQSB0YWJsZQ0KICAgIHByaXZhdGUgTGlzdDxEQkNvbnRhaW5lcj4gbWl0bWFzTGlzdCA9IG5ldyBBcnJheUxpc3Q8PigpOyAgIC8vIExpc3Qgb2YgY29udGFpbmVycyBmcm9tIE1JVE1BUyB0YWJsZQ0KICAgIHByaXZhdGUgTGlzdDxEQkNvbnRhaW5lcj4gbWl0dHJhTGlzdCA9IG5ldyBBcnJheUxpc3Q8PigpOyAgIC8vIExpc3Qgb2YgY29udGFpbmVycyBmcm9tIE1JVFRSQSB0YWJsZQ0KICAgIHByaXZhdGUgTGlzdDxEQkNvbnRhaW5lcj4gbXdvb3BlTGlzdCA9IG5ldyBBcnJheUxpc3Q8PigpOyAgIC8vIExpc3Qgb2YgY29udGFpbmVycyBmcm9tIE1XT09QRSB0YWJsZQ0KDQogICAgLyoqDQogICAgICogQ29uc3RydWN0b3IgZm9yIExzdFFBSG9sZCBjbGFzcy4NCiAgICAgKg0KICAgICAqIEBwYXJhbSBtaSAgICAgICBNSUFQSSBvYmplY3QNCiAgICAgKiBAcGFyYW0gZGF0YWJhc2UgRGF0YWJhc2VBUEkgb2JqZWN0DQogICAgICogQHBhcmFtIHByb2dyYW0gIFByb2dyYW1BUEkgb2JqZWN0DQogICAgICogQHBhcmFtIHV0aWxpdHkgIFV0aWxpdHlBUEkgb2JqZWN0DQogICAgICovDQogICAgcHVibGljIExzdFFBSG9sZChNSUFQSSBtaSwgRGF0YWJhc2VBUEkgZGF0YWJhc2UsIFByb2dyYW1BUEkgcHJvZ3JhbSwgVXRpbGl0eUFQSSB1dGlsaXR5KSB7DQogICAgICAgIHRoaXMubWkgPSBtaTsNCiAgICAgICAgdGhpcy5kYXRhYmFzZSA9IGRhdGFiYXNlOw0KICAgICAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtOw0KICAgICAgICB0aGlzLnV0aWxpdHkgPSB1dGlsaXR5Ow0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIE1haW4gbWV0aG9kIHRoYXQgcGVyZm9ybXMgdGhlIGxpc3Rpbmcgb3BlcmF0aW9uIGZvciBpdGVtcyBvbiBob2xkLg0KICAgICAqLw0KICAgIHB1YmxpYyB2b2lkIG1haW4oKSB7DQogICAgICAgIGlDT05PID0gbWkuaW4uZ2V0KCJDT05PIikudG9TdHJpbmcoKSA9PSBudWxsID8gcHJvZ3JhbS5MREFaRC5DT05PIDogbWkuaW4uZ2V0KCJDT05PIikudG9TdHJpbmcoKS50cmltKCk7DQogICAgICAgIGlIT1VSID0gbWkuaW4uZ2V0KCJIT1VSIikudG9TdHJpbmcoKSA9PSBudWxsID8gIjAiIDogbWkuaW4uZ2V0KCJIT1VSIikudG9TdHJpbmcoKS50cmltKCkNCiAgICANCiAgICAgICAgaW50IGhvdXJzID0gaUhPVVIudG9Eb3VibGUoKSBhcyBpbnQNCiAgICAgICAgDQogICAgICAgIGlmKGhvdXJzIDw9IDAgfHwgaG91cnMgPj0gMjQpIHsNCiAgICAgICAgICBtaS5lcnJvcigiSG91cnMgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDI0IikNCiAgICAgICAgICByZXR1cm4NCiAgICAgICAgfQ0KDQogICAgICAgIC8vIENhbGN1bGF0ZSBjdXJyZW50IGVwb2NoIHRpbWUgbWludXMgMSBkYXkNCiAgICAgICAgbG9uZyBjdXJyZW50RXBvY2hNaWxsaXNlY29uZHMgPSB1dGlsaXR5LmNhbGwoIkRhdGVVdGlsIiwgImN1cnJlbnRFcG9jaE1pbGxpc2Vjb25kcyIpIGFzIGxvbmc7DQogICAgICAgIGN1cnJlbnRFcG9jaE1pbGxpc2Vjb25kcyA9IGN1cnJlbnRFcG9jaE1pbGxpc2Vjb25kcyAtICgxICogaG91cnMgKiA2MCAqIDYwICogMTAwMEwpOw0KDQogICAgICAgIC8vIENyZWF0ZSBleHByZXNzaW9uIGZvciBxdWVyeWluZyB0aGUgTUlUTE9DIHRhYmxlIHdpdGggYSB0aW1lc3RhbXAgY29uZGl0aW9uDQogICAgICAgIEV4cHJlc3Npb25GYWN0b3J5IGV4cHJlc3Npb24gPSBkYXRhYmFzZS5nZXRFeHByZXNzaW9uRmFjdG9yeSgiTUlUTE9DIik7DQogICAgICAgIGV4cHJlc3Npb24gPSBleHByZXNzaW9uLmdlKCJNTExNVFMiLCBMb25nLnRvU3RyaW5nKGN1cnJlbnRFcG9jaE1pbGxpc2Vjb25kcykpOw0KDQogICAgICAgIC8vIENyZWF0ZSBhY3Rpb24gZm9yIHF1ZXJ5aW5nIE1JVExPQyB0YWJsZQ0KICAgICAgICBEQkFjdGlvbiBhY3Rpb25NSVRMT0MgPSBkYXRhYmFzZS50YWJsZSgiTUlUTE9DIikuaW5kZXgoIjAwIikubWF0Y2hpbmcoZXhwcmVzc2lvbikNCiAgICAgICAgICAgICAgICAuc2VsZWN0aW9uKCJNTFdITE8iLCAiTUxJVE5PIiwgIk1MV0hTTCIsICJNTEJBTk8iLCAiTUxDQU1VIiwgIk1MU1RRVCIsICJNTEFMUVQiLCAiTUxCUkVNIiwgIk1MQlJFRiIsICJNTEJSRTIiLCAiTUxTVEFTIiwgIk1MRkFDSSIpLmJ1aWxkKCk7DQogICAgICAgIERCQ29udGFpbmVyIGNvbnRhaW5lck1JVExPQyA9IGFjdGlvbk1JVExPQy5nZXRDb250YWluZXIoKTsNCg0KICAgICAgICBjb250YWluZXJNSVRMT0Muc2V0SW50KCJNTENPTk8iLCBpQ09OTyBhcyBpbnQpOw0KDQogICAgICAgIC8vIENsb3N1cmUgdG8gcHJvY2VzcyBhbGwgcmVjb3JkcyBmZXRjaGVkIGZyb20gTUlUTE9DDQogICAgICAgIENsb3N1cmU8Pz4gcmVhZEFsbFJlY29yZHNNSVRMT0MgPSB7DQogICAgICAgICAgICBEQkNvbnRhaW5lciByZXN1bHRDb250YWluZXJNSVRMT0MgLT4NCiAgICAgICAgICAgICAgICBTdHJpbmcgSVROTyA9IHJlc3VsdENvbnRhaW5lck1JVExPQy5nZXQoIk1MSVROTyIpLnRvU3RyaW5nKCkudHJpbSgpOw0KICAgICAgICAgICAgICAgIFN0cmluZyBCQU5PID0gcmVzdWx0Q29udGFpbmVyTUlUTE9DLmdldCgiTUxCQU5PIikudG9TdHJpbmcoKS50cmltKCk7DQogICAgICAgICAgICAgICAgU3RyaW5nIENBTVUgPSByZXN1bHRDb250YWluZXJNSVRMT0MuZ2V0KCJNTENBTVUiKS50b1N0cmluZygpLnRyaW0oKTsNCiAgICAgICAgICAgICAgICBTdHJpbmcgYmFzZUJBTk8gPSBCQU5PLnNwbGl0KCJcXHwiKVswXTsNCiAgICAgICAgICAgICAgICBTdHJpbmcgRkFDSSA9ICIiOw0KDQogICAgICAgICAgICAgICAgLy8gU2V0IG91dHB1dCBkYXRhIHRvIG1pLm91dERhdGENCiAgICAgICAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiV0hMTyIsIHJlc3VsdENvbnRhaW5lck1JVExPQy5nZXQoIk1MV0hMTyIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCiAgICAgICAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiSVROTyIsIElUTk8pOw0KICAgICAgICAgICAgICAgIG1pLm91dERhdGEucHV0KCJXSFNMIiwgcmVzdWx0Q29udGFpbmVyTUlUTE9DLmdldCgiTUxXSFNMIikudG9TdHJpbmcoKS50cmltKCkpOw0KICAgICAgICAgICAgICAgIG1pLm91dERhdGEucHV0KCJCQU5PIiwgQkFOTyk7DQogICAgICAgICAgICAgICAgbWkub3V0RGF0YS5wdXQoIkNBTVUiLCByZXN1bHRDb250YWluZXJNSVRMT0MuZ2V0KCJNTENBTVUiKS50b1N0cmluZygpLnRyaW0oKSk7DQogICAgICAgICAgICAgICAgbWkub3V0RGF0YS5wdXQoIlNUUVQiLCByZXN1bHRDb250YWluZXJNSVRMT0MuZ2V0KCJNTFNUUVQiKS50b1N0cmluZygpLnRyaW0oKSk7DQogICAgICAgICAgICAgICAgbWkub3V0RGF0YS5wdXQoIkFMUVQiLCByZXN1bHRDb250YWluZXJNSVRMT0MuZ2V0KCJNTEFMUVQiKS50b1N0cmluZygpLnRyaW0oKSk7DQogICAgICAgICAgICAgICAgbWkub3V0RGF0YS5wdXQoIkJSRU0iLCByZXN1bHRDb250YWluZXJNSVRMT0MuZ2V0KCJNTEJSRU0iKS50b1N0cmluZygpLnRyaW0oKSk7DQogICAgICAgICAgICAgICAgbWkub3V0RGF0YS5wdXQoIkJSRUYiLCByZXN1bHRDb250YWluZXJNSVRMT0MuZ2V0KCJNTEJSRUYiKS50b1N0cmluZygpLnRyaW0oKSk7DQogICAgICAgICAgICAgICAgbWkub3V0RGF0YS5wdXQoIkJSRTIiLCByZXN1bHRDb250YWluZXJNSVRMT0MuZ2V0KCJNTEJSRTIiKS50b1N0cmluZygpLnRyaW0oKSk7DQogICAgICAgICAgICAgICAgbWkub3V0RGF0YS5wdXQoIlNUQVMiLCByZXN1bHRDb250YWluZXJNSVRMT0MuZ2V0KCJNTFNUQVMiKS50b1N0cmluZygpLnRyaW0oKSk7DQoNCiAgICAgICAgICAgICAgICAvLyBGaW5kIGNvcnJlc3BvbmRpbmcgcmVjb3JkIGluIE1JTE9NQSBsaXN0DQogICAgICAgICAgICAgICAgREJDb250YWluZXIgY29udGFpbmVyTUlMT01BID0gbWlsb21hTGlzdC5maW5kIHsNCiAgICAgICAgICAgICAgICAgICAgaXQuZ2V0U3RyaW5nKCJMTUlUTk8iKSA9PSBJVE5PICYmIGl0LmdldFN0cmluZygiTE1CQU5PIikgPT0gYmFzZUJBTk87DQogICAgICAgICAgICAgICAgfTsNCg0KICAgICAgICAgICAgICAgIGlmIChjb250YWluZXJNSUxPTUEgPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICAvLyBSZWFkIHJlY29yZCBmcm9tIE1JTE9NQSB0YWJsZSBpZiBub3QgZm91bmQNCiAgICAgICAgICAgICAgICAgICAgREJBY3Rpb24gYWN0aW9uTUlMT01BID0gZGF0YWJhc2UudGFibGUoIk1JTE9NQSIpLmluZGV4KCIwMCIpLnNlbGVjdGlvbigiTE1FWFBJIiwgIkxNTUZEVCIsICJMTUJCRFQiLCAiTE1RSUFEIiwgIkxNRkFDSSIpLmJ1aWxkKCk7DQogICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lck1JTE9NQSA9IGFjdGlvbk1JTE9NQS5nZXRDb250YWluZXIoKTsNCg0KICAgICAgICAgICAgICAgICAgICBjb250YWluZXJNSUxPTUEuc2V0SW50KCJMTUNPTk8iLCBpQ09OTyBhcyBpbnQpOw0KICAgICAgICAgICAgICAgICAgICBjb250YWluZXJNSUxPTUEuc2V0KCJMTUlUTk8iLCBJVE5PKTsNCiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyTUlMT01BLnNldCgiTE1CQU5PIiwgYmFzZUJBTk8pOw0KDQogICAgICAgICAgICAgICAgICAgIGlmIChhY3Rpb25NSUxPTUEucmVhZChjb250YWluZXJNSUxPTUEpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBtaWxvbWFMaXN0LmFkZChjb250YWluZXJNSUxPTUEuY3JlYXRlQ29weSgpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIEZBQ0kgPSBjb250YWluZXJNSUxPTUEuZ2V0KCJMTUZBQ0kiKS50b1N0cmluZygpLnRyaW0oKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIG1pLm91dERhdGEucHV0KCJFWFBJIiwgY29udGFpbmVyTUlMT01BLmdldCgiTE1FWFBJIikudG9TdHJpbmcoKS50cmltKCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgbWkub3V0RGF0YS5wdXQoIk1GRFQiLCBjb250YWluZXJNSUxPTUEuZ2V0KCJMTU1GRFQiKS50b1N0cmluZygpLnRyaW0oKSk7DQogICAgICAgICAgICAgICAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiQkJEVCIsIGNvbnRhaW5lck1JTE9NQS5nZXQoIkxNQkJEVCIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIG1pLm91dERhdGEucHV0KCJRSUFEIiwgY29udGFpbmVyTUlMT01BLmdldCgiTE1RSUFEIikudG9TdHJpbmcoKS50cmltKCkpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgRkFDSSA9IGNvbnRhaW5lck1JTE9NQS5nZXQoIkxNRkFDSSIpLnRvU3RyaW5nKCkudHJpbSgpOw0KICAgICAgICAgICAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiRVhQSSIsIGNvbnRhaW5lck1JTE9NQS5nZXQoIkxNRVhQSSIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCiAgICAgICAgICAgICAgICAgICAgbWkub3V0RGF0YS5wdXQoIk1GRFQiLCBjb250YWluZXJNSUxPTUEuZ2V0KCJMTU1GRFQiKS50b1N0cmluZygpLnRyaW0oKSk7DQogICAgICAgICAgICAgICAgICAgIG1pLm91dERhdGEucHV0KCJCQkRUIiwgY29udGFpbmVyTUlMT01BLmdldCgiTE1CQkRUIikudG9TdHJpbmcoKS50cmltKCkpOw0KICAgICAgICAgICAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiUUlBRCIsIGNvbnRhaW5lck1JTE9NQS5nZXQoIkxNUUlBRCIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAvLyBGaW5kIGNvcnJlc3BvbmRpbmcgcmVjb3JkIGluIE1JVE1BUyBsaXN0DQogICAgICAgICAgICAgICAgREJDb250YWluZXIgY29udGFpbmVyTUlUTUFTID0gbWl0bWFzTGlzdC5maW5kIHsNCiAgICAgICAgICAgICAgICAgICAgaXQuZ2V0U3RyaW5nKCJNTUlUTk8iKSA9PSBJVE5POw0KICAgICAgICAgICAgICAgIH07DQoNCiAgICAgICAgICAgICAgICBpZiAoY29udGFpbmVyTUlUTUFTID09IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgLy8gUmVhZCByZWNvcmQgZnJvbSBNSVRNQVMgdGFibGUgaWYgbm90IGZvdW5kDQogICAgICAgICAgICAgICAgICAgIERCQWN0aW9uIGFjdGlvbk1JVE1BUyA9IGRhdGFiYXNlLnRhYmxlKCJNSVRNQVMiKS5pbmRleCgiMDAiKS5zZWxlY3Rpb24oIk1NSVREUyIpLmJ1aWxkKCk7DQogICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lck1JVE1BUyA9IGFjdGlvbk1JVE1BUy5nZXRDb250YWluZXIoKTsNCg0KICAgICAgICAgICAgICAgICAgICBjb250YWluZXJNSVRNQVMuc2V0SW50KCJNTUNPTk8iLCBpQ09OTyBhcyBpbnQpOw0KICAgICAgICAgICAgICAgICAgICBjb250YWluZXJNSVRNQVMuc2V0KCJNTUlUTk8iLCByZXN1bHRDb250YWluZXJNSVRMT0MuZ2V0KCJNTElUTk8iKS50b1N0cmluZygpLnRyaW0oKSk7DQoNCiAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGlvbk1JVE1BUy5yZWFkKGNvbnRhaW5lck1JVE1BUykpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG1pdG1hc0xpc3QuYWRkKGNvbnRhaW5lck1JVE1BUy5jcmVhdGVDb3B5KCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgbWkub3V0RGF0YS5wdXQoIklURFMiLCBjb250YWluZXJNSVRNQVMuZ2V0KCJNTUlURFMiKS50b1N0cmluZygpLnRyaW0oKSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiSVREUyIsIGNvbnRhaW5lck1JVE1BUy5nZXQoIk1NSVREUyIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAvLyBGaW5kIGNvcnJlc3BvbmRpbmcgcmVjb3JkIGluIE1JVFRSQSBsaXN0DQogICAgICAgICAgICAgICAgREJDb250YWluZXIgY29udGFpbmVyTUlUVFJBID0gbWl0dHJhTGlzdC5maW5kIHsNCiAgICAgICAgICAgICAgICAgICAgaXQuZ2V0U3RyaW5nKCJNVElUTk8iKSA9PSBJVE5PICYmIGl0LmdldFN0cmluZygiTVRCQU5PIikgPT0gQkFOTyAmJiBpdC5nZXRTdHJpbmcoIk1UQ0FNVSIpID09IENBTVU7DQogICAgICAgICAgICAgICAgfTsNCg0KICAgICAgICAgICAgICAgIGlmIChjb250YWluZXJNSVRUUkEgPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICAvLyBSZWFkIHJlY29yZCBmcm9tIE1JVFRSQSB0YWJsZSBpZiBub3QgZm91bmQNCiAgICAgICAgICAgICAgICAgICAgRXhwcmVzc2lvbkZhY3RvcnkgbWl0dHJhRXhwcmVzc2lvbiA9IGRhdGFiYXNlLmdldEV4cHJlc3Npb25GYWN0b3J5KCJNSVRUUkEiKTsNCiAgICAgICAgICAgICAgICAgICAgbWl0dHJhRXhwcmVzc2lvbiA9IG1pdHRyYUV4cHJlc3Npb24uZXEoIk1UQ0FNVSIsIHJlc3VsdENvbnRhaW5lck1JVExPQy5nZXQoIk1MQ0FNVSIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCg0KICAgICAgICAgICAgICAgICAgICBEQkFjdGlvbiBhY3Rpb25NSVRUUkEgPSBkYXRhYmFzZS50YWJsZSgiTUlUVFJBIikuaW5kZXgoIjIwIikubWF0Y2hpbmcobWl0dHJhRXhwcmVzc2lvbikuc2VsZWN0aW9uKCJNVFRUWVAiLCAiTVRUUlFUIiwgIk1UVFJEVCIsICJNVFRSVE0iLCAiTVRSSUROIiwgIk1UQ0FNVSIpLmJ1aWxkKCk7DQogICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lck1JVFRSQSA9IGFjdGlvbk1JVFRSQS5nZXRDb250YWluZXIoKTsNCg0KICAgICAgICAgICAgICAgICAgICBjb250YWluZXJNSVRUUkEuc2V0SW50KCJNVENPTk8iLCBpQ09OTyBhcyBpbnQpOw0KICAgICAgICAgICAgICAgICAgICBjb250YWluZXJNSVRUUkEuc2V0KCJNVElUTk8iLCByZXN1bHRDb250YWluZXJNSVRMT0MuZ2V0KCJNTElUTk8iKS50b1N0cmluZygpLnRyaW0oKSk7DQogICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lck1JVFRSQS5zZXQoIk1UQkFOTyIsIEJBTk8pOw0KDQogICAgICAgICAgICAgICAgICAgIC8vIENsb3N1cmUgdG8gcHJvY2VzcyBhbGwgcmVjb3JkcyBmZXRjaGVkIGZyb20gTUlUVFJBDQogICAgICAgICAgICAgICAgICAgIENsb3N1cmU8Pz4gcmVhZEFsbFJlY29yZHNNSVRUUkEgPSB7DQogICAgICAgICAgICAgICAgICAgICAgICBEQkNvbnRhaW5lciByZXN1bHRDb250YWluZXJNSVRUUkEgLT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaXR0cmFMaXN0LmFkZChyZXN1bHRDb250YWluZXJNSVRUUkEuY3JlYXRlQ29weSgpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiVFRZUCIsIHJlc3VsdENvbnRhaW5lck1JVFRSQS5nZXQoIk1UVFRZUCIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiVFJRVCIsIHJlc3VsdENvbnRhaW5lck1JVFRSQS5nZXQoIk1UVFJRVCIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiVFJEVCIsIHJlc3VsdENvbnRhaW5lck1JVFRSQS5nZXQoIk1UVFJEVCIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiVFJUTSIsIHJlc3VsdENvbnRhaW5lck1JVFRSQS5nZXQoIk1UVFJUTSIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCiAgICAgICAgICAgICAgICAgICAgfTsNCg0KICAgICAgICAgICAgICAgICAgICBhY3Rpb25NSVRUUkEucmVhZEFsbChjb250YWluZXJNSVRUUkEsIDMsIDEsIHJlYWRBbGxSZWNvcmRzTUlUVFJBKTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiVFRZUCIsIGNvbnRhaW5lck1JVFRSQS5nZXQoIk1UVFRZUCIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCiAgICAgICAgICAgICAgICAgICAgbWkub3V0RGF0YS5wdXQoIlRSUVQiLCBjb250YWluZXJNSVRUUkEuZ2V0KCJNVFRSUVQiKS50b1N0cmluZygpLnRyaW0oKSk7DQogICAgICAgICAgICAgICAgICAgIG1pLm91dERhdGEucHV0KCJUUkRUIiwgY29udGFpbmVyTUlUVFJBLmdldCgiTVRUUkRUIikudG9TdHJpbmcoKS50cmltKCkpOw0KICAgICAgICAgICAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiVFJUTSIsIGNvbnRhaW5lck1JVFRSQS5nZXQoIk1UVFJUTSIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgLy8gRmluZCBjb3JyZXNwb25kaW5nIHJlY29yZCBpbiBNSVRUUkEgbGlzdA0KICAgICAgICAgICAgICAgIGNvbnRhaW5lck1JVFRSQSA9IG1pdHRyYUxpc3QuZmluZCB7DQogICAgICAgICAgICAgICAgICAgIGl0LmdldFN0cmluZygiTVRJVE5PIikgPT0gSVROTyAmJiBpdC5nZXRTdHJpbmcoIk1UQkFOTyIpID09IGJhc2VCQU5PICYmIGl0LmdldEludCgiTVRUVFlQIikgPT0gMTc7DQogICAgICAgICAgICAgICAgfTsNCg0KICAgICAgICAgICAgICAgIFN0cmluZyBSSUROID0gIiI7DQoNCiAgICAgICAgICAgICAgICBpZiAoY29udGFpbmVyTUlUVFJBID09IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgLy8gUmVhZCByZWNvcmQgZnJvbSBNSVRUUkEgdGFibGUgaWYgbm90IGZvdW5kDQogICAgICAgICAgICAgICAgICAgIEV4cHJlc3Npb25GYWN0b3J5IE1JVFRSQUV4cHJlc3Npb24gPSBkYXRhYmFzZS5nZXRFeHByZXNzaW9uRmFjdG9yeSgiTUlUVFJBIik7DQogICAgICAgICAgICAgICAgICAgIE1JVFRSQUV4cHJlc3Npb24gPSBNSVRUUkFFeHByZXNzaW9uLmVxKCJNVENBTVUiLCByZXN1bHRDb250YWluZXJNSVRMT0MuZ2V0KCJNTENBTVUiKS50b1N0cmluZygpLnRyaW0oKSk7DQoNCiAgICAgICAgICAgICAgICAgICAgREJBY3Rpb24gYWN0aW9uTUlUVFJBID0gZGF0YWJhc2UudGFibGUoIk1JVFRSQSIpLmluZGV4KCIyMCIpLnNlbGVjdGlvbigiTVRUVFlQIiwgIk1UVFJRVCIsICJNVFRSRFQiLCAiTVRUUlRNIiwgIk1UUklETiIsICJNVENBTVUiKS5idWlsZCgpOw0KICAgICAgICAgICAgICAgICAgICBjb250YWluZXJNSVRUUkEgPSBhY3Rpb25NSVRUUkEuZ2V0Q29udGFpbmVyKCk7DQoNCiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyTUlUVFJBLnNldEludCgiTVRDT05PIiwgaUNPTk8gYXMgaW50KTsNCiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyTUlUVFJBLnNldCgiTVRJVE5PIiwgcmVzdWx0Q29udGFpbmVyTUlUTE9DLmdldCgiTUxJVE5PIikudG9TdHJpbmcoKS50cmltKCkpOw0KICAgICAgICAgICAgICAgICAgICBjb250YWluZXJNSVRUUkEuc2V0KCJNVEJBTk8iLCBiYXNlQkFOTyk7DQogICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lck1JVFRSQS5zZXQoIk1UVFRZUCIsIDE3KTsNCg0KICAgICAgICAgICAgICAgICAgICAvLyBDbG9zdXJlIHRvIHByb2Nlc3MgYWxsIHJlY29yZHMgZmV0Y2hlZCBmcm9tIE1JVFRSQQ0KICAgICAgICAgICAgICAgICAgICBDbG9zdXJlPD8+IHJlYWRBbGxSZWNvcmRzTUlUVFJBID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgREJDb250YWluZXIgcmVzdWx0Q29udGFpbmVyTUlUVFJBIC0+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWl0dHJhTGlzdC5hZGQocmVzdWx0Q29udGFpbmVyTUlUVFJBLmNyZWF0ZUNvcHkoKSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgUklETiA9IHJlc3VsdENvbnRhaW5lck1JVFRSQS5nZXQoIk1UUklETiIpLnRvU3RyaW5nKCkudHJpbSgpOw0KICAgICAgICAgICAgICAgICAgICB9Ow0KDQogICAgICAgICAgICAgICAgICAgIGFjdGlvbk1JVFRSQS5yZWFkQWxsKGNvbnRhaW5lck1JVFRSQSwgNCwgMSwgcmVhZEFsbFJlY29yZHNNSVRUUkEpOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIFJJRE4gPSBjb250YWluZXJNSVRUUkEuZ2V0KCJNVFJJRE4iKS50b1N0cmluZygpLnRyaW0oKTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAvLyBGaW5kIGNvcnJlc3BvbmRpbmcgcmVjb3JkIGluIE1XT09QRSBsaXN0DQogICAgICAgICAgICAgICAgREJDb250YWluZXIgY29udGFpbmVyTVdPT1BFID0gbXdvb3BlTGlzdC5maW5kIHsNCiAgICAgICAgICAgICAgICAgICAgaXQuZ2V0U3RyaW5nKCJWT1BSTk8iKSA9PSBJVE5PICYmIGl0LmdldFN0cmluZygiVk9NRk5PIikgPT0gUklETjsNCiAgICAgICAgICAgICAgICB9Ow0KDQogICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lck1XT09QRSA9PSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgIC8vIFJlYWQgcmVjb3JkIGZyb20gTVdPT1BFIHRhYmxlIGlmIG5vdCBmb3VuZA0KICAgICAgICAgICAgICAgICAgICBFeHByZXNzaW9uRmFjdG9yeSBleHByZXNzaW9uTVdPT1BFID0gZGF0YWJhc2UuZ2V0RXhwcmVzc2lvbkZhY3RvcnkoIk1XT09QRSIpOw0KICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uTVdPT1BFID0gZXhwcmVzc2lvbk1XT09QRS5lcSgiVk9QUk5PIiwgSVROTy50cmltKCkpOw0KICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgREJBY3Rpb24gYWN0aW9uTVdPT1BFID0gZGF0YWJhc2UudGFibGUoIk1XT09QRSIpLmluZGV4KCIwMCIpLnNlbGVjdGlvbigiVk9PUERTIiwgIlZPUExHUiIpLmJ1aWxkKCk7DQogICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lck1XT09QRSA9IGFjdGlvbk1XT09QRS5nZXRDb250YWluZXIoKTsNCg0KICAgICAgICAgICAgICAgICAgICBjb250YWluZXJNV09PUEUuc2V0SW50KCJWT0NPTk8iLCBpQ09OTyBhcyBpbnQpOw0KICAgICAgICAgICAgICAgICAgICBjb250YWluZXJNV09PUEUuc2V0U3RyaW5nKCJWT0ZBQ0kiLCBGQUNJKTsNCiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyTVdPT1BFLnNldFN0cmluZygiVk9QUk5PIiwgSVROTyk7DQogICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lck1XT09QRS5zZXQoIlZPTUZOTyIsIFJJRE4pOw0KDQogICAgICAgICAgICAgICAgICAgIC8vIENsb3N1cmUgdG8gcHJvY2VzcyBhbGwgcmVjb3JkcyBmZXRjaGVkIGZyb20gTVdPT1BFDQogICAgICAgICAgICAgICAgICAgIENsb3N1cmU8Pz4gcmVhZEFsbFJlY29yZHNNV09PUEUgPSB7DQogICAgICAgICAgICAgICAgICAgICAgICBEQkNvbnRhaW5lciByZXN1bHRDb250YWluZXJNV09PUEUgLT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtd29vcGVMaXN0LmFkZChyZXN1bHRDb250YWluZXJNV09PUEUuY3JlYXRlQ29weSgpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiT1BEUyIsIHJlc3VsdENvbnRhaW5lck1XT09QRS5nZXQoIlZPT1BEUyIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCiAgICAgICAgICAgICAgICAgICAgfTsNCg0KICAgICAgICAgICAgICAgICAgICBhY3Rpb25NV09PUEUucmVhZEFsbChjb250YWluZXJNV09PUEUsIDQsIDEsIHJlYWRBbGxSZWNvcmRzTVdPT1BFKTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiT1BEUyIsIGNvbnRhaW5lck1XT09QRS5nZXQoIlZPT1BEUyIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAvLyBXcml0ZSBtaS5vdXREYXRhDQogICAgICAgICAgICAgICAgbWkud3JpdGUoKTsNCiAgICAgICAgfTsNCg0KICAgICAgICAvLyBSZWFkIGFsbCByZWNvcmRzIGZyb20gTUlUTE9DIHRhYmxlDQogICAgICAgIGFjdGlvbk1JVExPQy5yZWFkQWxsKGNvbnRhaW5lck1JVExPQywgMSwgMTAwMDAsIHJlYWRBbGxSZWNvcmRzTUlUTE9DKTsNCiAgICB9DQp9DQo="}}}