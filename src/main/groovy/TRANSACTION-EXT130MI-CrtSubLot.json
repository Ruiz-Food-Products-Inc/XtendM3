{"utilities":{},"programModules":{"EXT130MI":{"program":"EXT130MI","triggers":{},"transactions":{"CrtSubLot":{"sourceUuid":"8c0667fc-ed5e-44b4-a3cc-ae87fd45eae6","name":"CrtSubLot","program":"EXT130MI","description":"Create Sub Lot","active":true,"multi":false,"modified":1675197083143,"modifiedBy":"900046","outputFields":[{"name":"SBAN","description":"SubLotNumber","length":20,"mandatory":false,"type":"A"}],"inputFields":[{"name":"CONO","description":"Company","length":3,"mandatory":false,"type":"N"},{"name":"ITNO","description":"Item Number","length":15,"mandatory":true,"type":"A"},{"name":"BANO","description":"Lot Number","length":20,"mandatory":true,"type":"A"}],"utilities":["DateUtil"]}},"batches":{}}},"sources":{"8c0667fc-ed5e-44b4-a3cc-ae87fd45eae6":{"uuid":"8c0667fc-ed5e-44b4-a3cc-ae87fd45eae6","updated":1676152888142,"updatedBy":"900107","created":1673031958794,"createdBy":"900046","apiVersion":"0.9","beVersion":"16.0.0.20221110165806","codeHash":"C5DF840E9B7A0C2E8F93974CE83FEB118CB9E038DB0211B684AF35FB6799F493","code":"LyoqDQogKiBSRUFETUUNCiAqIENyZWF0ZSBTdWJMb3QgZm9yIHRoZSBpbnB1dCBMb3QNCiAqDQogKiBOYW1lOiBFWFQxMzBNSS5DcnRTdWJMb3QNCiAqIERlc2NyaXB0aW9uOiBVcGRhdGUgYSByZWNvcmQgaW4gdGhlIE9PSEVBRCB0YWJsZQ0KICogRGF0ZQkgICAgICBDaGFuZ2VkIEJ5ICAgICAgICAgICAgRGVzY3JpcHRpb24NCiAqIDIwMjIxMDAxCSAgVklEVkVOICAgICAgICBDcmVhdGUgc3ViIGxvdCBmb3IgYW4gRXhpc3RpbmcgTG90DQogKiovDQoNCmNsYXNzIENydFN1YkxvdCBleHRlbmRzIEV4dGVuZE0zVHJhbnNhY3Rpb24gew0KICBwcml2YXRlIGZpbmFsIE1JQVBJIG1pDQogIHByaXZhdGUgZmluYWwgRGF0YWJhc2VBUEkgZGF0YWJhc2UNCiAgcHJpdmF0ZSBmaW5hbCBQcm9ncmFtQVBJIHByb2dyYW0NCiAgcHJpdmF0ZSBmaW5hbCBNSUNhbGxlckFQSSBtaUNhbGxlcg0KICBwcml2YXRlIGZpbmFsIExvZ2dlckFQSSBsb2dnZXINCiAgcHJpdmF0ZSBmaW5hbCBVdGlsaXR5QVBJIHV0aWxpdHkNCg0KICAvL0lucHV0IGZpZWxkcw0KICBwcml2YXRlIFN0cmluZyBpQ09OTw0KICBwcml2YXRlIFN0cmluZyBpSVROTw0KICBwcml2YXRlIFN0cmluZyBpQkFOTw0KDQogIHByaXZhdGUgU3RyaW5nIEZBQ0kNCg0KICBDcnRTdWJMb3QoTUlBUEkgbWksIERhdGFiYXNlQVBJIGRhdGFiYXNlLCBNSUNhbGxlckFQSSBtaUNhbGxlciwgUHJvZ3JhbUFQSSBwcm9ncmFtLCBMb2dnZXJBUEkgbG9nZ2VyLCBVdGlsaXR5QVBJIHV0aWxpdHkpIHsNCiAgICB0aGlzLm1pID0gbWkNCiAgICB0aGlzLmRhdGFiYXNlID0gZGF0YWJhc2UNCiAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtDQogICAgdGhpcy5taUNhbGxlciA9IG1pQ2FsbGVyDQogICAgdGhpcy5sb2dnZXIgPSBsb2dnZXINCiAgICB0aGlzLnV0aWxpdHkgPSB1dGlsaXR5DQogIH0NCg0KICAvKioNCiAgICogTWFpbiBtZXRob2QNCiAgICogQHBhcmFtDQogICAqIEByZXR1cm4NCiAgICovDQogIHZvaWQgbWFpbigpIHsNCg0KICAgIGlDT05PID0gbWkuaW5EYXRhLmdldCgiQ09OTyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiQ09OTyIpLnRyaW0oKSA9PSAiIiB8fCBtaS5pbkRhdGEuZ2V0KCJDT05PIikudHJpbSgpID09ICI/IiA/IHByb2dyYW0uTERBWkQuQ09OTy50b1N0cmluZygpIDogbWkuaW5EYXRhLmdldCgiQ09OTyIpLnRyaW0oKQ0KICAgIGlJVE5PID0gbWkuaW5EYXRhLmdldCgiSVROTyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiSVROTyIpLnRyaW0oKSA9PSAiPyIgPyAiIiA6IG1pLmluRGF0YS5nZXQoIklUTk8iKS50cmltKCkNCiAgICBpQkFOTyA9IG1pLmluRGF0YS5nZXQoIkJBTk8iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkJBTk8iKS50cmltKCkgPT0gIj8iID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJCQU5PIikudHJpbSgpDQoNCiAgICBsb2dnZXIuZGVidWcoIkNydFN1YkxvdCBBUEkgY2FsbGVkIHdpdGggSW5wdXRzOiBpSVROTzogIiArIGlJVE5PLnRyaW0oKSArICIgLS0gaUJBTk86ICIgKyBpQkFOTy50cmltKCkpDQogICAgLy8gQ2hlY2sgaWYgdGhlIGl0ZW0gaXMgdmFsaWQgYnkgY2FsbGluZyB0aGUgdmFsaWRhdGVJdGVtIG1ldGhvZA0KICAgIGJvb2xlYW4gY2hlY2tJdGVtID0gdmFsaWRhdGVJdGVtKGlDT05PLnRvSW50ZWdlcigpLCBpSVROTykNCiAgICBpZiAoY2hlY2tJdGVtKSB7DQogICAgICAvLyBDaGVjayBpZiB0aGUgaXRlbSBsb3QgaXMgdmFsaWQgYnkgY2FsbGluZyB0aGUgdmFsaWRhdGVJdGVtTG90IG1ldGhvZA0KICAgICAgYm9vbGVhbiBjaGVja0l0ZW1Mb3QgPSB2YWxpZGF0ZUl0ZW1Mb3QoaUNPTk8udG9JbnRlZ2VyKCksIGlJVE5PLCBpQkFOTykNCiAgICAgIC8vIElmIHRoZSBpdGVtIGxvdCBpcyB2YWxpZCwgcHJvY2VlZCB0byBjcmVhdGUgYSBuZXcgc3VibG90DQogICAgICBpZiAoY2hlY2tJdGVtTG90KSB7DQogICAgICAgIC8vIEdldCB0aGUgbmV4dCBzdWJsb3QgbnVtYmVyIGZvciB0aGUgaXRlbSBieSBjYWxsaW5nIHRoZSBHZXROZXh0U3ViTG90TnVtYmVyIG1ldGhvZA0KICAgICAgICBTdHJpbmcgbmV3QkFOTyA9IEdldE5leHRTdWJMb3ROdW1iZXIoaUNPTk8sIGlCQU5PLCBpSVROTykNCiAgICAgICAgLy8gQ3JlYXRlIHRoZSBuZXcgc3VibG90IGJ5IGNhbGxpbmcgdGhlIGNyZWF0ZVN1YkxvdCBtZXRob2QNCiAgICAgICAgY3JlYXRlU3ViTG90KGlDT05PLnRvSW50ZWdlcigpLCBpSVROTywgbmV3QkFOTykNCiAgICAgIH0NCiAgICB9DQogIH0NCg0KICAvKioNCiAgICogVmFsaWRhdGUgaXRlbSBudW1iZXINCiAgICogQHBhcmFtIGludENPTk8NCiAgICogQHBhcmFtIGluSVROTw0KICAgKiBAcmV0dXJuIHRydWUgaWYgaXRlbSBudW1iZXIgaXMgdmFsaWQNCiAgICovDQogIHByaXZhdGUgYm9vbGVhbiB2YWxpZGF0ZUl0ZW0oaW50IGludENPTk8sIFN0cmluZyBpbklUTk8pIHsNCiAgICBEQkFjdGlvbiBhY3Rpb25NSVRNQVMgPSBkYXRhYmFzZS50YWJsZSgiTUlUTUFTIikuaW5kZXgoIjAwIikuc2VsZWN0aW9uKCJNTUNPTk8iLCAiTU1JVE5PIikuYnVpbGQoKQ0KICAgIERCQ29udGFpbmVyIGNvbnRhaW5lck1JVE1BUyA9IGFjdGlvbk1JVE1BUy5nZXRDb250YWluZXIoKQ0KICAgIGNvbnRhaW5lck1JVE1BUy5zZXQoIk1NQ09OTyIsIGludENPTk8pDQogICAgY29udGFpbmVyTUlUTUFTLnNldCgiTU1JVE5PIiwgaW5JVE5PKQ0KICAgIGlmICghYWN0aW9uTUlUTUFTLnJlYWQoY29udGFpbmVyTUlUTUFTKSkgew0KICAgICAgbWkuZXJyb3IoIkl0ZW0gZG9lcyBub3QgZXhpc3QiKQ0KICAgICAgcmV0dXJuIGZhbHNlDQogICAgfQ0KICAgIHJldHVybiB0cnVlDQogIH0NCg0KICAvKioNCiAgICogIFZhbGlkYXRlIGl0ZW0vbG90DQogICAqIEBwYXJhbSBpbkNPTk8NCiAgICogQHBhcmFtIGluSVROTw0KICAgKiBAcGFyYW0gaW5CQU5PDQogICAqIEByZXR1cm4gdHJ1ZSBpZiBpdGVtL2xvdCBpcyB2YWxpZA0KICAgKi8NCiAgcHJpdmF0ZSBib29sZWFuIHZhbGlkYXRlSXRlbUxvdChpbnQgaW5DT05PLCBTdHJpbmcgaW5JVE5PLCBTdHJpbmcgaW5CQU5PKSB7DQogICAgREJBY3Rpb24gYWN0aW9uTUlMT01BID0gZGF0YWJhc2UudGFibGUoIk1JTE9NQSIpLmluZGV4KCIwMCIpLnNlbGVjdGlvbigiTE1GQUNJIikuYnVpbGQoKQ0KICAgIERCQ29udGFpbmVyIGNvbnRhaW5lck1JTE9NQSA9IGFjdGlvbk1JTE9NQS5nZXRDb250YWluZXIoKQ0KICAgIGNvbnRhaW5lck1JTE9NQS5zZXQoIkxNQ09OTyIsIGluQ09OTykNCiAgICBjb250YWluZXJNSUxPTUEuc2V0KCJMTUlUTk8iLCBpbklUTk8pDQogICAgY29udGFpbmVyTUlMT01BLnNldCgiTE1CQU5PIiwgaW5CQU5PLnRyaW0oKSkNCiAgICBpZiAoIWFjdGlvbk1JTE9NQS5yZWFkKGNvbnRhaW5lck1JTE9NQSkpIHsNCiAgICAgIG1pLmVycm9yKCJJdGVtL0xvdCByZWNvcmQgZG9lcyBub3QgZXhpc3QiKQ0KICAgICAgcmV0dXJuIGZhbHNlDQogICAgfQ0KICAgIEZBQ0kgPSBjb250YWluZXJNSUxPTUEuZ2V0U3RyaW5nKCJMTUZBQ0kiKQ0KICAgIHJldHVybiB0cnVlDQogIH0NCg0KICAvKioNCiAgICogR2V0IHRoZSBuZXh0IHN1YmxvdCBudW1iZXIgZm9yIHRoZSBvcmlnaW5hbCBsb3QNCiAgICogQHBhcmFtIGluQ09OTw0KICAgKiBAcGFyYW0gaW5CQU5PDQogICAqIEBwYXJhbSBpbklUTk8NCiAgICogQHJldHVybiBzdWItbG90IE51bWJlcg0KICAgKi8NCiAgU3RyaW5nIEdldE5leHRTdWJMb3ROdW1iZXIoU3RyaW5nIGluQ09OTywgU3RyaW5nIGluQkFOTywgU3RyaW5nIGluSVROTykgew0KICAgIFN0cmluZyBPcmlnaW5hbEJBTk8gPSAiIg0KICAgIC8vU2V0IE9yaWdpbmFsQkFOTyB0byBlaXRoZXIgYSBzdWJzdHJpbmcgb2YgdGhlIGlucHV0IGluQkFOTyB1cCB0byB0aGUgbGFzdCBvY2N1cnJlbmNlIG9mICJ8Iiwgb3IgdG8gdGhlIGlucHV0IGluQkFOTyBpZiB0aGUgInwiIGlzIG5vdCBwcmVzZW50Lg0KICAgIGlmIChpbkJBTk8uY29udGFpbnMoInwiKSkgew0KICAgICAgaW50IGluZGV4ID0gaW5CQU5PLmxhc3RJbmRleE9mKCJ8IikNCiAgICAgIE9yaWdpbmFsQkFOTyA9IGluQkFOTy5zdWJzdHJpbmcoMCwgaW5kZXgpDQogICAgfSBlbHNlIHsNCiAgICAgIE9yaWdpbmFsQkFOTyA9IGluQkFOTw0KICAgIH0NCg0KICAgIERCQWN0aW9uIGFjdGlvbk1JTE9NQSA9IGRhdGFiYXNlLnRhYmxlKCJNSUxPTUEiKS5pbmRleCgiMDAiKS5zZWxlY3Rpb24oIkxNQkFOTyIpLmJ1aWxkKCkNCiAgICBEQkNvbnRhaW5lciBjb250YWluZXJNSUxPTUEgPSBhY3Rpb25NSUxPTUEuZ2V0Q29udGFpbmVyKCkNCiAgICBjb250YWluZXJNSUxPTUEuc2V0KCJMTUNPTk8iLCBpQ09OTy50b0ludGVnZXIoKSkNCiAgICBjb250YWluZXJNSUxPTUEuc2V0KCJMTUlUTk8iLCBpbklUTk8pDQogICAgaW50IHN1ZmZpeCA9IDANCg0KICAgIENsb3N1cmU8Pz4gcmVhZEFsbFJlY29yZE1JTE9NQSA9IHsgREJDb250YWluZXIgcmVzdWx0Q29udGFpbmVyIC0+DQogICAgICBTdHJpbmcgQkFOTyA9IHJlc3VsdENvbnRhaW5lci5nZXRTdHJpbmcoIkxNQkFOTyIpDQogICAgICAvL0NoZWNrIGlmIHRoZSAifCIgaXMgcHJlc2VudCBpbiBCQU5PIGFuZCBzZXRzIExvdCBhbmQgc3ViTG90IGJhc2VkIG9uIGl0cyBwcmVzZW5jZS4NCiAgICAgIC8vIElmIExvdCBtYXRjaGVzIE9yaWdpbmFsQkFOTywgaXQgdXBkYXRlcyBzdWZmaXggd2l0aCB0aGUgbWF4aW11bSBvZiBzdWJMb3QgY29udmVydGVkIHRvIGFuIGludGVnZXIuDQogICAgICBpZiAoQkFOTy5jb250YWlucygifCIpKSB7DQogICAgICAgIFN0cmluZyBMb3QgPSBCQU5PLnN1YnN0cmluZygwLCBCQU5PLmxhc3RJbmRleE9mKCJ8IikpDQogICAgICAgIFN0cmluZyBzdWJMb3QgPSBCQU5PLnN1YnN0cmluZyhCQU5PLmxhc3RJbmRleE9mKCJ8IikgKyAxKQ0KDQogICAgICAgIGlmIChMb3QudHJpbSgpID09IE9yaWdpbmFsQkFOTykgew0KICAgICAgICAgIHN1ZmZpeCA9IHN1YkxvdC50b0ludGVnZXIoKSA+IHN1ZmZpeCA/IHN1YkxvdC50b0ludGVnZXIoKSA6IHN1ZmZpeA0KICAgICAgICB9DQogICAgICB9DQogICAgfQ0KICAgIGlmICghYWN0aW9uTUlMT01BLnJlYWRBbGwoY29udGFpbmVyTUlMT01BLCAyLCByZWFkQWxsUmVjb3JkTUlMT01BKSkgew0KICAgICAgbWkuZXJyb3IoIkl0ZW0vTG90IHJlY29yZCBkb2VzIG5vdCBleGlzdCIpDQogICAgfSBlbHNlIHsNCiAgICAgIC8vDQogICAgfQ0KICAgIHJldHVybiBPcmlnaW5hbEJBTk8gKyAifCIgKyBTdHJpbmcuZm9ybWF0KCIlMDNkIiwgKHN1ZmZpeCArIDEpKQ0KICB9DQoNCiAgLyoqDQogICAqIENyZWF0ZSBzdWJMb3QgLSBDYWxscyBNTVMyMzVNSS5BZGRJdG1Mb3QNCiAgICogQHBhcmFtIGluQ09OTw0KICAgKiBAcGFyYW0gaW5JVE5PDQogICAqIEBwYXJhbSBpbkJBTk8NCiAgICogQHJldHVybg0KICAgKi8NCiAgcHJpdmF0ZSBjcmVhdGVTdWJMb3QoaW50IGluQ09OTywgU3RyaW5nIGluSVROTywgU3RyaW5nIGluQkFOTykgew0KICAgIE1hcDxTdHJpbmcsIFN0cmluZz4gcGFyYW1zID0gWyJDT05PIjogaW5DT05PLnRvU3RyaW5nKCkudHJpbSgpLCAiSVROTyI6IGluSVROTy50b1N0cmluZygpLnRyaW0oKSwgIkJBTk8iOiBpbkJBTk8udG9TdHJpbmcoKS50cmltKCldDQoNCiAgICBib29sZWFuIGlzQVBJU3VjY2Vzc2Z1bCA9IGZhbHNlDQogICAgQ2xvc3VyZTw/PiBoYW5kbGVyID0geyBNYXA8U3RyaW5nLA0KICAgICAgU3RyaW5nPiByZXNwb25zZSAtPg0KICAgICAgaWYgKHJlc3BvbnNlLmVycm9yKSB7DQogICAgICAgIG1pLmVycm9yKHJlc3BvbnNlLmVycm9yTWVzc2FnZS50b1N0cmluZygpKQ0KICAgICAgICByZXR1cm4NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGlzQVBJU3VjY2Vzc2Z1bCA9IHRydWUNCiAgICAgICAgbWkub3V0RGF0YS5wdXQoIlNCQU4iLCBpbkJBTk8pDQogICAgICAgIG1pLndyaXRlKCkNCiAgICAgIH0NCiAgICB9DQogICAgbWlDYWxsZXIuY2FsbCgiTU1TMjM1TUkiLCAiQWRkSXRtTG90IiwgcGFyYW1zLCBoYW5kbGVyKQ0KDQogICAgaWYgKGlzQVBJU3VjY2Vzc2Z1bCkgew0KICAgICAgY3JlYXRlUUlSZXF1ZXN0KGluQkFOTykNCiAgICB9DQogIH0NCi8qKg0KICogQ3JlYXRlIFFJIHJlcXVlc3QgDQogKiBAcGFyYW0gTkJBTg0KICogQHJldHVybg0KICovDQogIHByaXZhdGUgY3JlYXRlUUlSZXF1ZXN0KFN0cmluZyBOQkFOKSB7DQoNCiAgICBEQkFjdGlvbiBhY3Rpb25RTVNSUUggPSBkYXRhYmFzZS50YWJsZSgiUU1TUlFIIikuaW5kZXgoIjMwIikuc2VsZWN0QWxsRmllbGRzKCkuYnVpbGQoKQ0KICAgIERCQ29udGFpbmVyIGNvbnRhaW5lclFNU1JRSCA9IGFjdGlvblFNU1JRSC5nZXRDb250YWluZXIoKQ0KDQogICAgY29udGFpbmVyUU1TUlFILnNldCgiUkhDT05PIiwgaUNPTk8udG9JbnRlZ2VyKCkpDQogICAgY29udGFpbmVyUU1TUlFILnNldCgiUkhJVE5PIiwgaUlUTk8pDQogICAgY29udGFpbmVyUU1TUlFILnNldCgiUkhCQU5PIiwgTkJBTikNCg0KICAgIENsb3N1cmU8Pz4gcmVhZEFsbFJlY29yZHNRTVNSUUggPSB7IERCQ29udGFpbmVyIGNvbnRhaW5lciAtPg0KICAgIH0NCg0KICAgIGlmICghYWN0aW9uUU1TUlFILnJlYWRBbGwoY29udGFpbmVyUU1TUlFILCAzLCByZWFkQWxsUmVjb3Jkc1FNU1JRSCkpIHsNCiAgICAgIGJvb2xlYW4gaXNBUElTdWNjZXNzZnVsID0gZmFsc2UNCiAgICAgIFN0cmluZyBRUklEID0gIiINCiAgICAgIE1hcDxTdHJpbmcsIFN0cmluZz4gYWRkUUlSZXF1ZXN0UGFyYW1zID0gWyJGQUNJIjogRkFDSSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJJVE5PIjogaUlUTk8sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiQkFOTyI6IE5CQU4sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiUVJEVCI6IHV0aWxpdHkuY2FsbCgiRGF0ZVV0aWwiLCAiY3VycmVudERhdGVZOEFzSW50IikudG9TdHJpbmcoKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJTUlRUIjogIjEiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRQUzEiOiAiMCJdDQoNCiAgICAgIENsb3N1cmU8Pz4gYWRkUUlSZXF1ZXN0SGFuZGxlciA9IHsgTWFwPFN0cmluZywgU3RyaW5nPiByZXNwb25zZSAtPg0KICAgICAgICBpZiAocmVzcG9uc2UuZXJyb3IpIHsNCiAgICAgICAgICBtaS5lcnJvcihyZXNwb25zZS5lcnJvck1lc3NhZ2UudG9TdHJpbmcoKSkNCiAgICAgICAgICByZXR1cm4NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBpc0FQSVN1Y2Nlc3NmdWwgPSB0cnVlDQogICAgICAgICAgUVJJRCA9IHJlc3BvbnNlLlFSSUQNCiAgICAgICAgfQ0KICAgICAgfQ0KDQogICAgICBtaUNhbGxlci5jYWxsKCJRTVMzMDBNSSIsICJBZGRRSVJlcXVlc3QiLCBhZGRRSVJlcXVlc3RQYXJhbXMsIGFkZFFJUmVxdWVzdEhhbmRsZXIpDQogICAgICBpZiAoaXNBUElTdWNjZXNzZnVsKSB7DQogICAgICAgIHFtczMwME1JQWRkUUlSZXF1ZXN0U3VjY2Vzc2Z1bChRUklEKQ0KICAgICAgfQ0KICAgIH0NCiAgfQ0KLyoqDQogKiBDYWxsIEFkZCBRSSByZXF1ZXN0IHVzaW5nIFFNUzMwMCBBUEkgY2FsbHMNCiAqIEBwYXJhbSBRUklEDQogKi8NCiAgcHJpdmF0ZSB2b2lkIHFtczMwME1JQWRkUUlSZXF1ZXN0U3VjY2Vzc2Z1bChTdHJpbmcgUVJJRCkgew0KICAgIE1hcDxTdHJpbmcsIFN0cmluZz4gdXBkUUlSZXF1ZXN0UGFyYW1zID0gWyJGQUNJIjogRkFDSSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiUVJJRCI6IFFSSUQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIklUTk8iOiBpSVROTywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiUVNUQSI6ICIxIl0NCg0KICAgIENsb3N1cmU8Pz4gdXBkUUlSZXF1ZXN0SGFuZGxlciA9IHsgTWFwPFN0cmluZywgU3RyaW5nPiByZXNwb25zZSAtPg0KICAgICAgaWYgKHJlc3BvbnNlLmVycm9yKSB7DQogICAgICAgIG1pLmVycm9yKHJlc3BvbnNlLmVycm9yTWVzc2FnZS50b1N0cmluZygpKQ0KICAgICAgICByZXR1cm4NCiAgICAgIH0gZWxzZSB7DQogICAgICB9DQogICAgfQ0KICAgIGxvZ2dlci5kZWJ1ZygiQ2FsbGluZyBRTVMzMDBNSSBVcGRRSVJlcXVlc3QgLSBQYXJhbXM6ICIgKyB1cGRRSVJlcXVlc3RQYXJhbXMudG9TdHJpbmcoKSkNCiAgICBtaUNhbGxlci5jYWxsKCJRTVMzMDBNSSIsICJVcGRRSVJlcXVlc3QiLCB1cGRRSVJlcXVlc3RQYXJhbXMsIHVwZFFJUmVxdWVzdEhhbmRsZXIpDQoNCiAgICBNYXA8U3RyaW5nLCBTdHJpbmc+IHVwZFRlc3RSZXN1bHRQYXJhbXMgPSBbIkZBQ0kiOiBGQUNJLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiUVJJRCI6IFFSSUQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJJVE5PIjogaUlUTk8sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJRVFNUIjogIkRVTU1ZIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRTVFkiOiAiMiIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUU0VRIjogIjAwMDEiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiUUxDRCI6ICJDT01QTEVURSIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWTEVOIjogIjEiXQ0KICAgIENsb3N1cmU8Pz4gdXBkVGVzdFJlc3VsdEhhbmRsZXIgPSB7IE1hcDxTdHJpbmcsIFN0cmluZz4gcmVzcG9uc2UgLT4NCiAgICAgIGlmIChyZXNwb25zZS5lcnJvcikgew0KICAgICAgICBsb2dnZXIuZGVidWcoIk1JIEVycm9yIHVwZFRlc3RSZXN1bHRIYW5kbGVyIikNCiAgICAgICAgbWkuZXJyb3IocmVzcG9uc2UuZXJyb3JNZXNzYWdlLnRvU3RyaW5nKCkpDQogICAgICAgIHJldHVybg0KICAgICAgfQ0KICAgIH0NCiAgICBsb2dnZXIuZGVidWcoIkNhbGxpbmcgUU1TNDAwTUkgVXBkVGVzdFJlc3VsdCAtIFBhcmFtczogIiArIHVwZFRlc3RSZXN1bHRQYXJhbXMudG9TdHJpbmcoKSkNCiAgICBtaUNhbGxlci5jYWxsKCJRTVM0MDBNSSIsICJVcGRUZXN0UmVzdWx0IiwgdXBkVGVzdFJlc3VsdFBhcmFtcywgdXBkVGVzdFJlc3VsdEhhbmRsZXIpDQogIH0NCn0="}}}