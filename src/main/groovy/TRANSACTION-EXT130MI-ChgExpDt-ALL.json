{"programModules":{"EXT130MI":{"program":"EXT130MI","triggers":{},"transactions":{"ChgExpDt":{"sourceUuid":"38f8a4d1-642c-4c3d-88d4-a0d26978d1a6","name":"ChgExpDt","program":"EXT130MI","description":"Change Expiration Date","active":true,"multi":false,"modified":1676896055267,"modifiedBy":"900071","outputFields":[{"name":"EXPI","description":"New Expiration Date","length":8,"mandatory":false,"type":"A"}],"inputFields":[{"name":"CONO","description":"Company","length":3,"mandatory":false,"type":"N"},{"name":"E0PA","description":"Partner","length":17,"mandatory":true,"type":"A"},{"name":"E065","description":"Message Type","length":6,"mandatory":true,"type":"A"},{"name":"ITNO","description":"Item Number","length":15,"mandatory":true,"type":"A"},{"name":"BANO","description":"Lot Number","length":20,"mandatory":true,"type":"A"},{"name":"EXPI","description":"Expiration Date","length":8,"mandatory":true,"type":"A"},{"name":"STAS","description":"Status - balance ID","length":1,"mandatory":true,"type":"N"}],"utilities":[],"market":"ALL"}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"38f8a4d1-642c-4c3d-88d4-a0d26978d1a6":{"uuid":"38f8a4d1-642c-4c3d-88d4-a0d26978d1a6","updated":1676757346580,"updatedBy":"900107","created":1676896050713,"createdBy":"900071","apiVersion":"UNKNOWN","beVersion":"16.0.0.20221210044646.7","language":"GROOVY","codeHash":"CB1DD31BB41B5D3D4D9094ED149BEB5D9CD4DFA60D2E956243E5C8819ED38F22","code":"LyoqDQogKiBSRUFETUUNCiAqIENoYW5nZSBFeHBpcmF0aW9uIERhdGUgZm9yIHRoZSBMb3QNCiAqDQogKiBOYW1lOiBFWFQxMzBNSS5jaGdFeHBEdA0KICogRGVzY3JpcHRpb246IENoYW5nZSBFeHBpcmF0aW9uIERhdGUgZm9yIHRoZSBMb3QNCiAqIERhdGUJICAgICAgQ2hhbmdlZCBCeSAgICAgICAgICAgIERlc2NyaXB0aW9uDQogKiAyMDIyMTIwNQkgIEFKQVlZICAgICAgICAJQ2hhbmdlIEV4cGlyYXRpb24gRGF0ZSBmb3IgdGhlIExvdA0KICogMjAyMzAyMTggICBWSURWRU4gICAgICAgIENoYW5nZXMgYmFzZWQgb24gSW5mb3IgZmVlZGJhY2sNCiAqKi8NCg0KcHVibGljIGNsYXNzIENoZ0V4cER0IGV4dGVuZHMgRXh0ZW5kTTNUcmFuc2FjdGlvbiB7DQogIHByaXZhdGUgZmluYWwgTUlBUEkgbWkNCiAgcHJpdmF0ZSBmaW5hbCBNSUNhbGxlckFQSSBtaUNhbGxlcg0KICBwcml2YXRlIGZpbmFsIERhdGFiYXNlQVBJIGRhdGFiYXNlDQogIHByaXZhdGUgZmluYWwgTG9nZ2VyQVBJIGxvZ2dlcg0KICBwcml2YXRlIGZpbmFsIFByb2dyYW1BUEkgcHJvZ3JhbQ0KDQogIC8vSW5wdXQgZmllbGRzDQogIHByaXZhdGUgU3RyaW5nIGlCQU5PLCBpSVROTywgaUUwUEEsIGlFMDY1LCBpU1RBUywgaVJTQ0QsIGlFWFBJDQogIHByaXZhdGUgYm9vbGVhbiBJTjYwDQoNCiAgcHVibGljIENoZ0V4cER0KE1JQVBJIG1pLCBEYXRhYmFzZUFQSSBkYXRhYmFzZSwgTG9nZ2VyQVBJIGxvZ2dlciwgUHJvZ3JhbUFQSSBwcm9ncmFtLCBNSUNhbGxlckFQSSBtaUNhbGxlcikgew0KICAgIHRoaXMubWkgPSBtaQ0KICAgIHRoaXMuZGF0YWJhc2UgPSBkYXRhYmFzZQ0KICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyDQogICAgdGhpcy5wcm9ncmFtID0gcHJvZ3JhbQ0KICAgIHRoaXMubWlDYWxsZXIgPSBtaUNhbGxlcg0KICB9DQogIC8qKg0KICAgKiBNYWluIG1ldGhvZA0KICAgKiBAcGFyYW0NCiAgICogQHJldHVybg0KICAgKi8NCiAgcHVibGljIHZvaWQgbWFpbigpIHsNCiAgICBpbnQgQ09OTyA9IHByb2dyYW0uTERBWkQuZ2V0KCJDT05PIikudG9TdHJpbmcoKS50b0ludGVnZXIoKQ0KICAgIGlJVE5PID0gbWkuaW5EYXRhLmdldCgiSVROTyIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIklUTk8iKS50cmltKCkNCiAgICBpQkFOTyA9IG1pLmluRGF0YS5nZXQoIkJBTk8iKSA9PSBudWxsID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJCQU5PIikudHJpbSgpDQogICAgaUUwUEEgPSBtaS5pbkRhdGEuZ2V0KCJFMFBBIikgPT0gbnVsbCA/ICIiIDogbWkuaW5EYXRhLmdldCgiRTBQQSIpLnRyaW0oKQ0KICAgIGlFMDY1ID0gbWkuaW5EYXRhLmdldCgiRTA2NSIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkUwNjUiKS50cmltKCkNCiAgICBpRVhQSSA9IG1pLmluRGF0YS5nZXQoIkVYUEkiKSA9PSBudWxsID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJFWFBJIikudHJpbSgpDQogICAgaVNUQVMgPSBtaS5pbkRhdGEuZ2V0KCJTVEFTIikgPT0gbnVsbCA/ICIiIDogbWkuaW5EYXRhLmdldCgiU1RBUyIpLnRyaW0oKQ0KDQogICAgbG9nZ2VyLmRlYnVnKCJDaGdFeHBEdCBBUEkgY2FsbGVkIHdpdGggSW5wdXRzOiBpSVROTzogIiArIGlJVE5PLnRyaW0oKSArICIgLS0gaUJBTk86ICIgKyBpQkFOTy50cmltKCkgKyAiIC0tIGlFMFBBOiAiICsgaUUwUEEgKyAiIC0tIGlFMDY1OiAiICsgaUUwNjUgKyAiIC0tIGlFWFBJOiAiICsgaUVYUEkgKyAiIC0tIGlTVEFTOiAiICsgaVNUQVMpDQoNCiAgICBpbnQgbm9WYWxpZEJhbGFuY2VzID0gMA0KDQogICAgREJBY3Rpb24gYWN0aW9uTUlMT01BID0gZGF0YWJhc2UudGFibGUoIk1JTE9NQSIpLmluZGV4KCIwMCIpLnNlbGVjdGlvbigiTE1DT05PIikuYnVpbGQoKQ0KICAgIERCQ29udGFpbmVyIGNvbnRhaW5lck1JTE9NQSA9IGFjdGlvbk1JTE9NQS5nZXRDb250YWluZXIoKQ0KDQogICAgY29udGFpbmVyTUlMT01BLnNldCgiTE1DT05PIiwgQ09OTykNCiAgICBjb250YWluZXJNSUxPTUEuc2V0KCJMTUlUTk8iLCBpSVROTykNCiAgICBjb250YWluZXJNSUxPTUEuc2V0KCJMTUJBTk8iLCBpQkFOTykNCiAgICAvL0NoZWNrIGlmIEl0ZW0vTG90IGV4aXN0cyBpbiBNSUxPTUENCiAgICBpZiAoYWN0aW9uTUlMT01BLnJlYWQoY29udGFpbmVyTUlMT01BKSkgew0KICAgICAgbG9nZ2VyLmRlYnVnKCJGb3VuZCByZWNvcmQgaW4gTUlMT01BMDAiKQ0KICAgICAgREJBY3Rpb24gYWN0aW9uTUlUTE9DID0gZGF0YWJhc2UudGFibGUoIk1JVExPQyIpLmluZGV4KCIxNSIpLnNlbGVjdGlvbigiTUxCQU5PIiwgIk1MQ0FNVSIsICJNTFNUQVMiLCAiTUxXSExPIiwgIk1MV0hTTCIsICJNTElUTk8iKS5idWlsZCgpDQogICAgICBEQkNvbnRhaW5lciBjb250YWluZXJNSVRMT0MgPSBhY3Rpb25NSVRMT0MuZ2V0Q29udGFpbmVyKCkNCg0KICAgICAgY29udGFpbmVyTUlUTE9DLnNldCgiTUxDT05PIiwgQ09OTykNCiAgICAgIGNvbnRhaW5lck1JVExPQy5zZXQoIk1MSVROTyIsIGlJVE5PKQ0KICAgICAgY29udGFpbmVyTUlUTE9DLnNldCgiTUxCQU5PIiwgaUJBTk8pDQoNCiAgICAgIENsb3N1cmU8Pz4gcmVhZEFsbFJlY29yZE1JVExPQyA9IHsgREJDb250YWluZXIgcmVzdWx0Q29udGFpbmVyIC0+DQogICAgICAgIGxvZ2dlci5kZWJ1ZygiRm91bmQgcmVjb3JkIGluIE1JVExPQzE1IC0tICIgKyByZXN1bHRDb250YWluZXIuZ2V0U3RyaW5nKCJNTEJBTk8iKS50cmltKCkgKyAiLS0iICsgcmVzdWx0Q29udGFpbmVyLmdldFN0cmluZygiTUxDQU1VIikudHJpbSgpKQ0KICAgICAgICBpZiAocmVzdWx0Q29udGFpbmVyLmdldENoYXIoIk1MU1RBUyIpICE9IDMpIHsNCiAgICAgICAgICBTdHJpbmcgV0hMTyA9IHJlc3VsdENvbnRhaW5lci5nZXRTdHJpbmcoIk1MV0hMTyIpLnRyaW0oKQ0KICAgICAgICAgIFN0cmluZyBXSFNMID0gcmVzdWx0Q29udGFpbmVyLmdldFN0cmluZygiTUxXSFNMIikudHJpbSgpDQogICAgICAgICAgU3RyaW5nIElUTk8gPSByZXN1bHRDb250YWluZXIuZ2V0U3RyaW5nKCJNTElUTk8iKS50cmltKCkNCiAgICAgICAgICBTdHJpbmcgQkFOTyA9IHJlc3VsdENvbnRhaW5lci5nZXRTdHJpbmcoIk1MQkFOTyIpLnRyaW0oKQ0KICAgICAgICAgIFN0cmluZyBDQU1VID0gcmVzdWx0Q29udGFpbmVyLmdldFN0cmluZygiTUxDQU1VIikudHJpbSgpDQogICAgICAgICAgLy9DYWxsaW5nIGNoZ0JhbGFuY2VTcGVjaWZpYyAtIE1NUzg1ME1JLkFkZFJjbExvdFN0cw0KICAgICAgICAgIGNoZ0JhbGFuY2VTcGVjaWZpYyhpRTBQQSwgaUUwNjUsIGlTVEFTLCBpUlNDRCwgaUVYUEksIFdITE8sIFdIU0wsIElUTk8sIEJBTk8sIENBTVUpDQogICAgICAgICAgbm9WYWxpZEJhbGFuY2VzICs9IDENCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgaWYgKCFhY3Rpb25NSVRMT0MucmVhZEFsbChjb250YWluZXJNSVRMT0MsIDMsIDEsIHJlYWRBbGxSZWNvcmRNSVRMT0MpKSB7DQogICAgICAgIG1pLmVycm9yKCJSZWNvcmQgZG9lcyBub3QgZXhpc3QgaW4gTUlUTE9DIikNCiAgICAgICAgcmV0dXJuDQogICAgICB9DQogICAgfSBlbHNlIHsNCiAgICAgIG1pLmVycm9yKCJSZWNvcmQgZG9lcyBub3QgZXhpc3QgaW4gTUlMT01BIikNCiAgICAgIHJldHVybg0KICAgIH0NCiAgfQ0KLyoqDQogKiBDYWxsIE1NUzg1ME1JLkFkZFJjbExvdFN0cw0KICogQHBhcmFtIEUwUEENCiAqIEBwYXJhbSBFMDY1DQogKiBAcGFyYW0gU1RBUw0KICogQHBhcmFtIFJTQ0QNCiAqIEBwYXJhbSBFWFBJDQogKiBAcGFyYW0gV0hMTw0KICogQHBhcmFtIFdIU0wNCiAqIEBwYXJhbSBJVE5PDQogKiBAcGFyYW0gQkFOTw0KICogQHBhcmFtIENBTVUNCiAqLw0KICBwcml2YXRlIHZvaWQgY2hnQmFsYW5jZVNwZWNpZmljKFN0cmluZyBFMFBBLCBTdHJpbmcgRTA2NSwgU3RyaW5nIFNUQVMsIFN0cmluZyBSU0NELCBTdHJpbmcgRVhQSSwgU3RyaW5nIFdITE8sIFN0cmluZyBXSFNMLCBTdHJpbmcgSVROTywgU3RyaW5nIEJBTk8sIFN0cmluZyBDQU1VKSB7DQogICAgTWFwPFN0cmluZywgU3RyaW5nPiBpbnB1dERhdGEgPSBbIlBSRkwiOiAiKkVYRSIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkUwUEEiOiBFMFBBLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJFMDY1IjogRTA2NSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiV0hMTyI6IFdITE8sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIldIU0wiOiBXSFNMLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJJVE5PIjogSVROTywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiQkFOTyI6IEJBTk8sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkNBTVUiOiBDQU1VLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJTVEFTIjogU1RBUywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiUlNDRCI6IFJTQ0QsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkFMT0MiOiAiMSIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkVYUEkiOiBFWFBJLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJCUkVNIjogIl8iLF0NCg0KICAgIENsb3N1cmU8Pz4gY2FsbEJhY2tBUEkgPSB7IE1hcDxTdHJpbmcsIFN0cmluZz4gcmVzcG9uc2UgLT4NCiAgICAgIGlmIChyZXNwb25zZS5lcnJvcikgew0KICAgICAgICBsb2dnZXIuZGVidWcoIkFuIGVycm9yIG9jY3VycmVkIHdoaWxlIGNhbGxpbmcgdGhlIEFkZFR4dEJsb2NrTGluZSBBUEk6ICR7cmVzcG9uc2UuZXJyb3JNZXNzYWdlfSIpDQogICAgICAgIG1pLmVycm9yKHJlc3BvbnNlLmVycm9yTWVzc2FnZS50b1N0cmluZygpKQ0KICAgICAgICByZXR1cm4NCiAgICAgIH0NCiAgICB9DQogICAgbG9nZ2VyLmRlYnVnKCJDYWxsaW5nIE1NUzg1ME1JLkFkZFJjbExvdFN0cyBBUEkgd2FzIGNhbGxlZCB3aXRoIHBhcmFtczogJHtpbnB1dERhdGF9IikNCiAgICBtaUNhbGxlci5jYWxsKCJNTVM4NTBNSSIsICJBZGRSY2xMb3RTdHMiLCBpbnB1dERhdGEsIGNhbGxCYWNrQVBJKQ0KICB9DQp9"}}}