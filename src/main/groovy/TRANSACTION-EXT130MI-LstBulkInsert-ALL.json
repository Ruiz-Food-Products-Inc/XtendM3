{"programModules":{"EXT130MI":{"program":"EXT130MI","triggers":{},"transactions":{"LstBulkInsert":{"sourceUuid":"9d7ae4f6-1b51-46ac-ab85-08815a3def8e","name":"LstBulkInsert","program":"EXT130MI","description":"List Bulk Insert","active":true,"multi":true,"modified":1726319300565,"modifiedBy":"900073","outputFields":[{"name":"WHLO","description":"Warehouse","length":3,"mandatory":false,"type":"A"},{"name":"ITNO","description":"Item number","length":15,"mandatory":false,"type":"A"},{"name":"ITDS","description":"Name","length":60,"mandatory":false,"type":"A"},{"name":"SUNO","description":"supplier","length":10,"mandatory":false,"type":"A"},{"name":"SUNM","description":"supplier name","length":36,"mandatory":false,"type":"A"},{"name":"RIDN","description":"order number","length":10,"mandatory":false,"type":"A"},{"name":"BANO","description":"Lot number","length":20,"mandatory":false,"type":"A"},{"name":"WHSL","description":"location","length":10,"mandatory":false,"type":"A"},{"name":"STQT","description":"On-hand balance approved","length":15,"mandatory":false,"type":"N"},{"name":"ALQT","description":"allocated quantity - basic U/M","length":15,"mandatory":false,"type":"N"},{"name":"PUST","description":"highest status - purchase order","length":2,"mandatory":false,"type":"A"},{"name":"STAS","description":"Status - balance ID","length":1,"mandatory":false,"type":"A"},{"name":"FACI","description":"facility","length":3,"mandatory":false,"type":"A"},{"name":"RCDT","description":"receipt date","length":8,"mandatory":false,"type":"N"},{"name":"PNLI","description":"purchase order line","length":3,"mandatory":false,"type":"N"},{"name":"REPN","description":"receiving number","length":10,"mandatory":false,"type":"N"},{"name":"IFIN","description":"interface item number","length":32,"mandatory":false,"type":"A"},{"name":"RGDT","description":"entry date","length":8,"mandatory":false,"type":"N"},{"name":"GRMT","description":"goods receiving method","length":3,"mandatory":false,"type":"A"},{"name":"PACT","description":"packaging","length":6,"mandatory":false,"type":"A"},{"name":"TANK","description":"location characteristic","length":2,"mandatory":false,"type":"N"}],"inputFields":[{"name":"CONO","description":"Company","length":3,"mandatory":true,"type":"A"},{"name":"HOUR","description":"Hours","length":2,"mandatory":true,"type":"N"}],"utilities":["DateUtil"],"market":"ALL"}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"9d7ae4f6-1b51-46ac-ab85-08815a3def8e":{"uuid":"9d7ae4f6-1b51-46ac-ab85-08815a3def8e","updated":1726118057929,"updatedBy":"900073","created":1726319220971,"createdBy":"900073","apiVersion":"UNKNOWN","beVersion":"","language":"GROOVY","codeHash":"5FC342D23C6FE778A3D405E42C2BFAE197B2AA5325E70E9CAD3C685BB645E365","code":"LyoqDQogKiBSRUFETUUNCiAqIExpc3QgcmVjb3JkcyBmb3IgRmluaXNoZWQgR29vZHMgcGFuZWwgaW4gdGhlIFFNUyBhcHANCiAqDQogKiBOYW1lOiBFWFQxMzBNSS5Mc3RGaW5pc2hlZEdvb2RzDQogKiBEZXNjcmlwdGlvbjogTGlzdCByZWNvcmRzIGZvciBGaW5pc2hlZCBHb29kcyBwYW5lbCBpbiB0aGUgUU1TIGFwcA0KICogIERhdGUgICAgICBDaGFuZ2VkIEJ5ICAgICAgRGVzY3JpcHRpb24NCiAqIDIwMjQwNzIwCSAgQUpBWVkgICAgICAgIAlMaXN0IHJlY29yZHMgZm9yIEZpbmlzaGVkIEdvb2RzIHBhbmVsIGluIHRoZSBRTVMgYXBwDQogKiAyMDI0MDcyMwkgIEFKQVlZICAgICAgICAJQ29kZSBjbGVhbnVwDQogKiAyMDI0MDkxMCAgIEFKQVlZICAgICAgICAgQWRkZWQgSE9VUiBpbnB1dCBmaWVsZA0KICovDQoNCnB1YmxpYyBjbGFzcyBMc3RCdWxrSW5zZXJ0IGV4dGVuZHMgRXh0ZW5kTTNUcmFuc2FjdGlvbiB7DQogIHByaXZhdGUgZmluYWwgTUlBUEkgbWkNCiAgcHJpdmF0ZSBmaW5hbCBEYXRhYmFzZUFQSSBkYXRhYmFzZQ0KICBwcml2YXRlIGZpbmFsIFByb2dyYW1BUEkgcHJvZ3JhbQ0KICBwcml2YXRlIGZpbmFsIFV0aWxpdHlBUEkgdXRpbGl0eQ0KDQogIC8vIElucHV0IGZpZWxkcw0KICBwcml2YXRlIFN0cmluZyBpQ09OTw0KICBwcml2YXRlIFN0cmluZyBpSE9VUg0KDQogIC8vIExpc3RzIHRvIHN0b3JlIGRhdGFiYXNlIHF1ZXJ5IHJlc3VsdHMNCiAgcHJpdmF0ZSBMaXN0PERCQ29udGFpbmVyPiBtaXRtYXNMaXN0ID0gbmV3IEFycmF5TGlzdDw+KCkNCiAgcHJpdmF0ZSBMaXN0PERCQ29udGFpbmVyPiBtcGhlYWRMaXN0ID0gbmV3IEFycmF5TGlzdDw+KCkNCiAgcHJpdmF0ZSBMaXN0PERCQ29udGFpbmVyPiBjaWRtYXNMaXN0ID0gbmV3IEFycmF5TGlzdDw+KCkNCiAgcHJpdmF0ZSBMaXN0PERCQ29udGFpbmVyPiBtaWxvbWFMaXN0ID0gbmV3IEFycmF5TGlzdDw+KCkNCiAgcHJpdmF0ZSBMaXN0PERCQ29udGFpbmVyPiBtaXRiYWxMaXN0ID0gbmV3IEFycmF5TGlzdDw+KCkNCiAgcHJpdmF0ZSBMaXN0PERCQ29udGFpbmVyPiBtaXRwbG9MaXN0ID0gbmV3IEFycmF5TGlzdDw+KCkNCiAgcHJpdmF0ZSBMaXN0PERCQ29udGFpbmVyPiBtaXR0cmFMaXN0ID0gbmV3IEFycmF5TGlzdDw+KCkNCiAgcHJpdmF0ZSBMaXN0PERCQ29udGFpbmVyPiBtaXR3aGxMaXN0ID0gbmV3IEFycmF5TGlzdDw+KCkNCiAgcHJpdmF0ZSBMaXN0PERCQ29udGFpbmVyPiBtcGxpbmVMaXN0ID0gbmV3IEFycmF5TGlzdDw+KCkNCiAgcHJpdmF0ZSBMaXN0PERCQ29udGFpbmVyPiBtd29vcGVMaXN0ID0gbmV3IEFycmF5TGlzdDw+KCkNCg0KICAvKioNCiAgICogQ29uc3RydWN0b3IgZm9yIExzdEZpbmlzaEdvb2RzIGNsYXNzLg0KICAgKg0KICAgKiBAcGFyYW0gbWkgICAgICAgTUlBUEkgaW5zdGFuY2UgZm9yIGludGVyYWN0aW5nIHdpdGggTTMgQVBJDQogICAqIEBwYXJhbSBkYXRhYmFzZSBEYXRhYmFzZUFQSSBpbnN0YW5jZSBmb3IgZGF0YWJhc2Ugb3BlcmF0aW9ucw0KICAgKiBAcGFyYW0gcHJvZ3JhbSAgUHJvZ3JhbUFQSSBpbnN0YW5jZSBmb3IgcHJvZ3JhbW1hdGljIG9wZXJhdGlvbnMNCiAgICogQHBhcmFtIHV0aWxpdHkgIFV0aWxpdHlBUEkgaW5zdGFuY2UgZm9yIHV0aWxpdHkgb3BlcmF0aW9ucw0KICAgKi8NCiAgcHVibGljIExzdEJ1bGtJbnNlcnQoTUlBUEkgbWksIERhdGFiYXNlQVBJIGRhdGFiYXNlLCBQcm9ncmFtQVBJIHByb2dyYW0sIFV0aWxpdHlBUEkgdXRpbGl0eSkgew0KICAgIHRoaXMubWkgPSBtaQ0KICAgIHRoaXMuZGF0YWJhc2UgPSBkYXRhYmFzZQ0KICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW0NCiAgICB0aGlzLnV0aWxpdHkgPSB1dGlsaXR5DQogIH0NCg0KICAvKioNCiAgICogTWFpbiBtZXRob2QgdG8gcGVyZm9ybSB0aGUgcmV0cmlldmFsIGFuZCBwcm9jZXNzaW5nIG9mIGZpbmlzaGVkIGdvb2RzIGRhdGEuDQogICAqLw0KICBwdWJsaWMgdm9pZCBtYWluKCkgew0KICAgIC8vIFJldHJpZXZlIENPTk8gZnJvbSBpbnB1dCBvciBwcm9ncmFtIGNvbnRleHQNCiAgICBpQ09OTyA9IG1pLmluLmdldCgiQ09OTyIpLnRvU3RyaW5nKCkgPT0gbnVsbCA/IHByb2dyYW0uTERBWkQuQ09OTyA6IG1pLmluLmdldCgiQ09OTyIpLnRvU3RyaW5nKCkudHJpbSgpDQogICAgaUhPVVIgPSBtaS5pbi5nZXQoIkhPVVIiKS50b1N0cmluZygpID09IG51bGwgPyAiMCIgOiBtaS5pbi5nZXQoIkhPVVIiKS50b1N0cmluZygpLnRyaW0oKQ0KICAgIA0KICAgIGludCBob3VycyA9IGlIT1VSLnRvRG91YmxlKCkgYXMgaW50DQogICAgDQogICAgaWYoaG91cnMgPD0gMCB8fCBob3VycyA+PSAyNCkgew0KICAgICAgbWkuZXJyb3IoIkhvdXJzIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAyNCIpDQogICAgICByZXR1cm4NCiAgICB9DQoNCiAgICAvLyBDYWxjdWxhdGUgdGhlIHRpbWVzdGFtcA0KICAgIGxvbmcgY3VycmVudEVwb2NoTWlsbGlzZWNvbmRzID0gdXRpbGl0eS5jYWxsKCJEYXRlVXRpbCIsICJjdXJyZW50RXBvY2hNaWxsaXNlY29uZHMiKSBhcyBsb25nDQogICAgY3VycmVudEVwb2NoTWlsbGlzZWNvbmRzID0gY3VycmVudEVwb2NoTWlsbGlzZWNvbmRzIC0gKDEgKiBob3VycyAqIDYwICogNjAgKiAxMDAwTCkNCg0KICAgIC8vIENyZWF0ZSBleHByZXNzaW9uIGZvciBmaWx0ZXJpbmcgcmVjb3JkcyBpbiBNSVRMT0MgdGFibGUNCiAgICBFeHByZXNzaW9uRmFjdG9yeSBleHByZXNzaW9uID0gZGF0YWJhc2UuZ2V0RXhwcmVzc2lvbkZhY3RvcnkoIk1JVExPQyIpDQogICAgZXhwcmVzc2lvbiA9IGV4cHJlc3Npb24uZ2UoIk1MTE1UUyIsIGN1cnJlbnRFcG9jaE1pbGxpc2Vjb25kcy50b1N0cmluZygpKQ0KDQogICAgLy8gRGVmaW5lIGFjdGlvbiBhbmQgY29udGFpbmVyIGZvciBNSVRMT0MgdGFibGUgb3BlcmF0aW9ucw0KICAgIERCQWN0aW9uIGFjdGlvbk1JVExPQyA9IGRhdGFiYXNlLnRhYmxlKCJNSVRMT0MiKS5pbmRleCgiMTAiKS5tYXRjaGluZyhleHByZXNzaW9uKQ0KICAgICAgLnNlbGVjdGlvbigiTUxDT05PIiwgIk1MV0hMTyIsICJNTElUTk8iLCAiTUxCQU5PIiwgIk1MV0hTTCIsICJNTENBTVUiLCAiTUxTVEFTIiwgIk1MU1RRVCIsICJNTEFMUVQiLCAiTUxSRVBOIiwgIk1MUkdEVCIpLmJ1aWxkKCkNCiAgICBEQkNvbnRhaW5lciBjb250YWluZXJNSVRMT0MgPSBhY3Rpb25NSVRMT0MuZ2V0Q29udGFpbmVyKCkNCg0KICAgIC8vIFNldCBDT05PIGluIGNvbnRhaW5lck1JVExPQw0KICAgIGNvbnRhaW5lck1JVExPQy5zZXRJbnQoIk1MQ09OTyIsIGlDT05PIGFzIGludCkNCg0KICAgIC8vIENsb3N1cmUgdG8gcHJvY2VzcyBhbGwgcmVjb3JkcyBmZXRjaGVkIGZyb20gTUlUTE9DDQogICAgQ2xvc3VyZTw/PiByZWFkQWxsUmVjb3Jkc01JVExPQyA9IHsNCiAgICAgIERCQ29udGFpbmVyIHJlc3VsdENvbnRhaW5lcl9NSVRMT0MgLT4NCiAgICAgICAgU3RyaW5nIFJJRE4gPSAiIg0KICAgICAgICBpbnQgUklETCA9IDANCiAgICAgICAgU3RyaW5nIFNVTk8gPSAiIg0KICAgICAgICANCiAgICAgICAgU3RyaW5nIElUTk8gPSByZXN1bHRDb250YWluZXJfTUlUTE9DLmdldFN0cmluZygiTUxJVE5PIikudHJpbSgpDQogICAgICAgIFN0cmluZyBCQU5PID0gcmVzdWx0Q29udGFpbmVyX01JVExPQy5nZXRTdHJpbmcoIk1MQkFOTyIpLnRyaW0oKQ0KICAgICAgICBTdHJpbmcgQ0FNVSA9IHJlc3VsdENvbnRhaW5lcl9NSVRMT0MuZ2V0U3RyaW5nKCJNTENBTVUiKS50cmltKCkNCiAgICAgICAgU3RyaW5nIFdITE8gPSByZXN1bHRDb250YWluZXJfTUlUTE9DLmdldFN0cmluZygiTUxXSExPIikudHJpbSgpDQogICAgICAgIA0KICAgICAgICBtaS5vdXREYXRhLnB1dCgiV0hMTyIsIHJlc3VsdENvbnRhaW5lcl9NSVRMT0MuZ2V0KCJNTFdITE8iKS50b1N0cmluZygpLnRyaW0oKSkNCiAgICAgICAgbWkub3V0RGF0YS5wdXQoIklUTk8iLCByZXN1bHRDb250YWluZXJfTUlUTE9DLmdldCgiTUxJVE5PIikudG9TdHJpbmcoKS50cmltKCkpDQogICAgICAgIG1pLm91dERhdGEucHV0KCJCQU5PIiwgcmVzdWx0Q29udGFpbmVyX01JVExPQy5nZXQoIk1MQkFOTyIpLnRvU3RyaW5nKCkudHJpbSgpKQ0KICAgICAgICBtaS5vdXREYXRhLnB1dCgiV0hTTCIsIHJlc3VsdENvbnRhaW5lcl9NSVRMT0MuZ2V0KCJNTFdIU0wiKS50b1N0cmluZygpLnRyaW0oKSkNCiAgICAgICAgbWkub3V0RGF0YS5wdXQoIlNUUVQiLCByZXN1bHRDb250YWluZXJfTUlUTE9DLmdldCgiTUxTVFFUIikudG9TdHJpbmcoKS50cmltKCkpDQogICAgICAgIG1pLm91dERhdGEucHV0KCJBTFFUIiwgcmVzdWx0Q29udGFpbmVyX01JVExPQy5nZXQoIk1MQUxRVCIpLnRvU3RyaW5nKCkudHJpbSgpKQ0KICAgICAgICBtaS5vdXREYXRhLnB1dCgiU1RBUyIsIHJlc3VsdENvbnRhaW5lcl9NSVRMT0MuZ2V0KCJNTFNUQVMiKS50b1N0cmluZygpLnRyaW0oKSkNCiAgICAgICAgbWkub3V0RGF0YS5wdXQoIlJFUE4iLCByZXN1bHRDb250YWluZXJfTUlUTE9DLmdldCgiTUxSRVBOIikudG9TdHJpbmcoKS50cmltKCkpDQogICAgICAgIG1pLm91dERhdGEucHV0KCJSR0RUIiwgcmVzdWx0Q29udGFpbmVyX01JVExPQy5nZXQoIk1MUkdEVCIpLnRvU3RyaW5nKCkudHJpbSgpKQ0KDQogICAgICAgIERCQ29udGFpbmVyIGNvbnRhaW5lck1JVE1BUyA9IG1pdG1hc0xpc3QuZmluZCB7DQogICAgICAgICAgaXQuZ2V0U3RyaW5nKCJNTUlUTk8iKSA9PSBJVE5PDQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIGlmKGNvbnRhaW5lck1JVE1BUyA9PSBudWxsKXsNCiAgICAgICAgICBEQkFjdGlvbiBhY3Rpb25NSVRNQVMgPSBkYXRhYmFzZS50YWJsZSgiTUlUTUFTIikuaW5kZXgoIjAwIikuc2VsZWN0aW9uKCJNTUlURFMiLCAiTU1UQU5LIikuYnVpbGQoKQ0KICAgICAgICAgIGNvbnRhaW5lck1JVE1BUyA9IGFjdGlvbk1JVE1BUy5nZXRDb250YWluZXIoKQ0KICAgICAgICAgIA0KICAgICAgICAgIGNvbnRhaW5lck1JVE1BUy5zZXRJbnQoIk1NQ09OTyIsIGlDT05PIGFzIGludCkNCiAgICAgICAgICBjb250YWluZXJNSVRNQVMuc2V0U3RyaW5nKCJNTUlUTk8iLCBJVE5PKQ0KICAgICAgICAgIA0KICAgICAgICAgIGlmKGFjdGlvbk1JVE1BUy5yZWFkKGNvbnRhaW5lck1JVE1BUykpew0KICAgICAgICAgICAgbWkub3V0RGF0YS5wdXQoIklURFMiLCBjb250YWluZXJNSVRNQVMuZ2V0KCJNTUlURFMiKS50b1N0cmluZygpLnRyaW0oKSkNCiAgICAgICAgICAgIG1pLm91dERhdGEucHV0KCJUQU5LIiwgY29udGFpbmVyTUlUTUFTLmdldCgiTU1UQU5LIikudG9TdHJpbmcoKS50cmltKCkpDQogICAgICAgICAgICANCiAgICAgICAgICAgIG1pdG1hc0xpc3QuYWRkKGNvbnRhaW5lck1JVE1BUy5jcmVhdGVDb3B5KCkpDQogICAgICAgICAgfQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIG1pLm91dERhdGEucHV0KCJJVERTIiwgY29udGFpbmVyTUlUTUFTLmdldCgiTU1JVERTIikudG9TdHJpbmcoKS50cmltKCkpDQogICAgICAgICAgbWkub3V0RGF0YS5wdXQoIlRBTksiLCBjb250YWluZXJNSVRNQVMuZ2V0KCJNTVRBTksiKS50b1N0cmluZygpLnRyaW0oKSkNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgLy8gRmluZCBNSVRUUkEgcmVjb3JkIGZyb20gY2FjaGUNCiAgICAgICAgREJDb250YWluZXIgY29udGFpbmVyTUlUVFJBID0gbWl0dHJhTGlzdC5maW5kIHsNCiAgICAgICAgICBpdC5nZXRTdHJpbmcoIk1USVROTyIpID09IElUTk8NCiAgICAgICAgICBpdC5nZXRTdHJpbmcoIk1UQkFOTyIpID09IEJBTk8NCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgLy8gUmVhZCBNSVRUUkEgcmVjb3JkIGZyb20gdGFibGUgaWYgbm90IGZvdW5kIGluIGNhY2hlDQogICAgICAgIGlmKGNvbnRhaW5lck1JVFRSQSA9PSBudWxsKSB7DQogICAgICAgICAgREJBY3Rpb24gYWN0aW9uTUlUVFJBID0gZGF0YWJhc2UudGFibGUoIk1JVFRSQSIpLmluZGV4KCIyMCIpLnNlbGVjdGlvbigiTVRSSUROIiwgIk1UUklETCIpLnJldmVyc2UoKS5idWlsZCgpDQogICAgICAgICAgY29udGFpbmVyTUlUVFJBID0gYWN0aW9uTUlUVFJBLmdldENvbnRhaW5lcigpDQogICAgICAgICAgDQogICAgICAgICAgY29udGFpbmVyTUlUVFJBLnNldEludCgiTVRDT05PIiwgaUNPTk8gYXMgaW50KQ0KICAgICAgICAgIGNvbnRhaW5lck1JVFRSQS5zZXRTdHJpbmcoIk1USVROTyIsIElUTk8pDQogICAgICAgICAgY29udGFpbmVyTUlUVFJBLnNldFN0cmluZygiTVRCQU5PIiwgQkFOTykNCiAgICAgICAgICBjb250YWluZXJNSVRUUkEuc2V0SW50KCJNVFRUWVAiLCAyMCkNCiAgICAgICAgICANCiAgICAgICAgICBDbG9zdXJlPD8+IHJlYWRBbGxSZWNvcmRzTUlUVFJBID0gew0KICAgICAgICAgICAgREJDb250YWluZXIgcmVzdWx0Q29udGFpbmVyX01JVFRSQSAtPg0KICAgICAgICAgICAgICBSSUROID0gcmVzdWx0Q29udGFpbmVyX01JVFRSQS5nZXQoIk1UUklETiIpLnRvU3RyaW5nKCkudHJpbSgpDQogICAgICAgICAgICAgIFJJREwgPSByZXN1bHRDb250YWluZXJfTUlUVFJBLmdldEludCgiTVRSSURMIikNCiAgICAgICAgICAgICAgbWkub3V0RGF0YS5wdXQoIlJJRE4iLCBSSUROKQ0KICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgLy8gQWRkIHRoZSByZWNvcmQgdG8gY2FjaGUNCiAgICAgICAgICAgICAgbWl0dHJhTGlzdC5hZGQocmVzdWx0Q29udGFpbmVyX01JVFRSQS5jcmVhdGVDb3B5KCkpDQogICAgICAgICAgfQ0KICAgICAgICAgIA0KICAgICAgICAgIGFjdGlvbk1JVFRSQS5yZWFkQWxsKGNvbnRhaW5lck1JVFRSQSwgNCwgMSwgcmVhZEFsbFJlY29yZHNNSVRUUkEpDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgUklETiA9IGNvbnRhaW5lck1JVFRSQS5nZXQoIk1UUklETiIpLnRvU3RyaW5nKCkudHJpbSgpDQogICAgICAgICAgUklETCA9IGNvbnRhaW5lck1JVFRSQS5nZXRJbnQoIk1UUklETCIpDQogICAgICAgICAgbWkub3V0RGF0YS5wdXQoIlJJRE4iLCBSSUROKQ0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICAvLyBGaW5kIE1QSEVBRCByZWNvcmQgZnJvbSBjYWNoZQ0KICAgICAgICBEQkNvbnRhaW5lciBjb250YWluZXJNUEhFQUQgPSBtcGhlYWRMaXN0LmZpbmQgew0KICAgICAgICAgIGl0LmdldFN0cmluZygiSUFQVU5PIikgPT0gUklETg0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICAvLyBSZWFkIE1QSEVBRCByZWNvcmQgZnJvbSB0YWJsZSBpZiBub3QgZm91bmQgaW4gY2FjaGUNCiAgICAgICAgaWYoY29udGFpbmVyTVBIRUFEID09IG51bGwpIHsNCiAgICAgICAgICBEQkFjdGlvbiBhY3Rpb25NUEhFQUQgPSBkYXRhYmFzZS50YWJsZSgiTVBIRUFEIikuaW5kZXgoIjAwIikuc2VsZWN0aW9uKCJJQVNVTk8iKS5idWlsZCgpDQogICAgICAgICAgY29udGFpbmVyTVBIRUFEID0gYWN0aW9uTVBIRUFELmdldENvbnRhaW5lcigpDQogICAgICAgICAgDQogICAgICAgICAgY29udGFpbmVyTVBIRUFELnNldEludCgiSUFDT05PIiwgaUNPTk8gYXMgaW50KQ0KICAgICAgICAgIGNvbnRhaW5lck1QSEVBRC5zZXRTdHJpbmcoIklBUFVOTyIsIFJJRE4pDQogICAgICAgICAgDQogICAgICAgICAgaWYoYWN0aW9uTVBIRUFELnJlYWQoY29udGFpbmVyTVBIRUFEKSl7DQogICAgICAgICAgICBTVU5PID0gY29udGFpbmVyTVBIRUFELmdldCgiSUFTVU5PIikudG9TdHJpbmcoKS50cmltKCkNCiAgICAgICAgICAgIG1pLm91dERhdGEucHV0KCJTVU5PIiwgU1VOTykNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLy8gQWRkIHRoZSByZWNvcmQgdG8gY2FjaGUNCiAgICAgICAgICAgIG1waGVhZExpc3QuYWRkKGNvbnRhaW5lck1QSEVBRC5jcmVhdGVDb3B5KCkpDQogICAgICAgICAgfQ0KICAgICAgICAgIA0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIFNVTk8gPSBjb250YWluZXJNUEhFQUQuZ2V0KCJJQVNVTk8iKS50b1N0cmluZygpLnRyaW0oKQ0KICAgICAgICAgIG1pLm91dERhdGEucHV0KCJTVU5PIiwgU1VOTykNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgLy8gRmluZCBDSURNQVMgcmVjb3JkIGZyb20gY2FjaGUNCiAgICAgICAgREJDb250YWluZXIgY29udGFpbmVyQ0lETUFTID0gY2lkbWFzTGlzdC5maW5kIHsNCiAgICAgICAgICBpdC5nZXRTdHJpbmcoIklEU1VOTyIpID09IFNVTk8NCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgLy8gUmVhZCBDSURNQVMgcmVjb3JkIGZyb20gdGFibGUgaWYgbm90IGZvdW5kIGluIGNhY2hlDQogICAgICAgIGlmKGNvbnRhaW5lckNJRE1BUyA9PSBudWxsKSB7DQogICAgICAgICAgREJBY3Rpb24gYWN0aW9uQ0lETUFTID0gZGF0YWJhc2UudGFibGUoIkNJRE1BUyIpLmluZGV4KCIwMCIpLnNlbGVjdGlvbigiSURTVU5NIikuYnVpbGQoKQ0KICAgICAgICAgIGNvbnRhaW5lckNJRE1BUyA9IGFjdGlvbkNJRE1BUy5nZXRDb250YWluZXIoKQ0KICAgICAgICAgIA0KICAgICAgICAgIGNvbnRhaW5lckNJRE1BUy5zZXRJbnQoIklEQ09OTyIsIGlDT05PIGFzIGludCkNCiAgICAgICAgICBjb250YWluZXJDSURNQVMuc2V0U3RyaW5nKCJJRFNVTk8iLCBTVU5PKQ0KICAgICAgICAgIA0KICAgICAgICAgIGlmKGFjdGlvbkNJRE1BUy5yZWFkKGNvbnRhaW5lckNJRE1BUykpew0KICAgICAgICAgICAgbWkub3V0RGF0YS5wdXQoIlNVTk0iLCBjb250YWluZXJDSURNQVMuZ2V0KCJJRFNVTk0iKS50b1N0cmluZygpLnRyaW0oKSkNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLy8gQWRkIHRoZSByZWNvcmQgdG8gY2FjaGUNCiAgICAgICAgICAgIGNpZG1hc0xpc3QuYWRkKGNvbnRhaW5lckNJRE1BUy5jcmVhdGVDb3B5KCkpDQogICAgICAgICAgfQ0KICAgICAgICAgIA0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIG1pLm91dERhdGEucHV0KCJTVU5NIiwgY29udGFpbmVyQ0lETUFTLmdldCgiSURTVU5NIikudG9TdHJpbmcoKS50cmltKCkpDQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIC8vIFdyaXRlIG91dHB1dCBkYXRhIHRvIE0zDQogICAgICAgIG1pLndyaXRlKCkNCiAgICB9DQoNCiAgICAvLyBSZWFkIGFsbCByZWNvcmRzIGZyb20gTUlUTE9DIHRhYmxlDQogICAgYWN0aW9uTUlUTE9DLnJlYWRBbGwoY29udGFpbmVyTUlUTE9DLCAxLCAxMDAwMCwgcmVhZEFsbFJlY29yZHNNSVRMT0MpDQogIH0NCn0NCg=="}}}