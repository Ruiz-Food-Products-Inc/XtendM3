{"programModules":{"EXT130MI":{"program":"EXT130MI","triggers":{},"transactions":{"LstReceiving":{"sourceUuid":"f8b32df4-0138-4ce3-955d-5bed4539efb8","name":"LstReceiving","program":"EXT130MI","description":"List Receiving","active":true,"multi":true,"modified":1727622898817,"modifiedBy":"900073","outputFields":[{"name":"WHLO","description":"warehouse","length":3,"mandatory":false,"type":"A"},{"name":"ITNO","description":"item number","length":15,"mandatory":false,"type":"A"},{"name":"BANO","description":"lot number","length":20,"mandatory":false,"type":"A"},{"name":"CAMU","description":"container","length":20,"mandatory":false,"type":"A"},{"name":"STAS","description":"status - balance ID","length":1,"mandatory":false,"type":"A"},{"name":"STQT","description":"on-hand balance approved","length":15,"mandatory":false,"type":"N"},{"name":"RGDT","description":"entry date","length":8,"mandatory":false,"type":"N"},{"name":"ITDS","description":"name","length":60,"mandatory":false,"type":"A"},{"name":"STAT","description":"status","length":2,"mandatory":false,"type":"A"},{"name":"QSTA","description":"QI request status","length":1,"mandatory":false,"type":"N"},{"name":"QRID","description":"QI request ID","length":8,"mandatory":false,"type":"A"},{"name":"QAPR","description":"QI request approval status","length":1,"mandatory":false,"type":"N"},{"name":"EXPI","description":"expiration date","length":8,"mandatory":false,"type":"N"},{"name":"MFDT","description":"manufacturing date","length":8,"mandatory":false,"type":"N"},{"name":"REDA","description":"receipt date","length":8,"mandatory":false,"type":"N"},{"name":"SEDT","description":"sales date","length":8,"mandatory":false,"type":"N"},{"name":"SUNO","description":"supplier","length":10,"mandatory":false,"type":"A"},{"name":"TRDT","description":"transaction date","length":8,"mandatory":false,"type":"N"},{"name":"QRI1","description":"QI request ID","length":8,"mandatory":false,"type":"A"},{"name":"QAP1","description":"QI request approval status","length":1,"mandatory":false,"type":"N"},{"name":"QST1","description":"QI request status","length":1,"mandatory":false,"type":"N"},{"name":"RIDN","description":"Order number","length":10,"mandatory":false,"type":"A"},{"name":"SUN1","description":"Supplier","length":10,"mandatory":false,"type":"A"},{"name":"ITTY","description":"item type","length":3,"mandatory":false,"type":"A"}],"inputFields":[{"name":"CONO","description":"Company","length":3,"mandatory":true,"type":"A"},{"name":"HOUR","description":"Hours","length":2,"mandatory":true,"type":"N"}],"utilities":["DateUtil"],"market":"ALL"}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"f8b32df4-0138-4ce3-955d-5bed4539efb8":{"uuid":"f8b32df4-0138-4ce3-955d-5bed4539efb8","updated":1726697303222,"updatedBy":"900073","created":1727622859972,"createdBy":"900073","apiVersion":"UNKNOWN","beVersion":"16.0.0.20240717001700.11","language":"GROOVY","codeHash":"17EF5D90BE16C7B26318E01CB7AF00F5AEF3D4B2408D1FCA6C4831DD10F58D14","code":"LyoqDQogKiBSRUFETUUNCiAqIFRoaXMgY2xhc3MgZXh0ZW5kcyBFeHRlbmRNM1RyYW5zYWN0aW9uIGFuZCBsaXN0cyByZWNvcmRzIGZvciB0aGUgUmVjZWl2aW5nIHBhbmVsIGluIHRoZSBRTVMgYXBwLg0KICoNCiAqIE5hbWU6IEVYVDEzME1JLkxzdFJlY2VpdmluZw0KICogRGVzY3JpcHRpb246IExpc3QgZGF0YSBmb3IgdGhlIGN1c3RvbWVyIFJlY2VpdmluZyBwYW5lbA0KICogRGF0ZQkgICAgICBDaGFuZ2VkIEJ5ICAgIERlc2NyaXB0aW9uDQogKiAyMDI0MDcyMAkgIEFKQVlZICAgICAgICAJVGhpcyBjbGFzcyBleHRlbmRzIEV4dGVuZE0zVHJhbnNhY3Rpb24gYW5kIGxpc3RzIHJlY29yZHMgZm9yIHRoZSBSZWNlaXZpbmcgcGFuZWwgaW4gdGhlIFFNUyBhcHAuDQogKiAyMDI0MDcyMwkgIEFKQVlZICAgICAgICAJQ29kZSBjbGVhbnVwDQogKiAyMDI0MDkwNQkgIEFKQVlZICAgICAgICAJUmVhZCBRTVNSUUggcmVjb3JkcyB3aXRoIFFTVEEgYmV0d2VlbiAwIGFuZCAzDQogKiAyMDI0MDkxMCAgIEFKQVlZICAgICAgICAgQWRkZWQgSE9VUiBpbnB1dCBmaWVsZA0KICogMjAyNDA5MTcgICBBSkFZWSAgICAgICAgIENoYW5nZWQgUU1TUlFIIHRvIHJlYWQgd2l0aCBiYXNlIGxvdA0KICoqLw0KDQoNCnB1YmxpYyBjbGFzcyBMc3RSZWNlaXZpbmcgZXh0ZW5kcyBFeHRlbmRNM1RyYW5zYWN0aW9uIHsNCiAgcHJpdmF0ZSBmaW5hbCBNSUFQSSBtaQ0KICBwcml2YXRlIGZpbmFsIERhdGFiYXNlQVBJIGRhdGFiYXNlDQogIHByaXZhdGUgZmluYWwgUHJvZ3JhbUFQSSBwcm9ncmFtDQogIHByaXZhdGUgZmluYWwgVXRpbGl0eUFQSSB1dGlsaXR5DQoNCiAgcHJpdmF0ZSBTdHJpbmcgaUNPTk87ICAgLy8gQ29tcGFueSBudW1iZXINCiAgcHJpdmF0ZSBTdHJpbmcgaUhPVVI7DQoNCiAgcHJpdmF0ZSBMaXN0PERCQ29udGFpbmVyPiBtaWxvbWFMaXN0ID0gbmV3IEFycmF5TGlzdDw+KCkgICAvLyBMaXN0IG9mIGNvbnRhaW5lcnMgZnJvbSBNSUxPTUEgdGFibGUNCiAgcHJpdmF0ZSBMaXN0PERCQ29udGFpbmVyPiBtaXRtYXNMaXN0ID0gbmV3IEFycmF5TGlzdDw+KCkgICAvLyBMaXN0IG9mIGNvbnRhaW5lcnMgZnJvbSBNSVRNQVMgdGFibGUNCiAgcHJpdmF0ZSBMaXN0PERCQ29udGFpbmVyPiBxbXNycWhMaXN0ID0gbmV3IEFycmF5TGlzdDw+KCkgICAvLyBMaXN0IG9mIGNvbnRhaW5lcnMgZnJvbSBRTVNSUUggdGFibGUNCiAgcHJpdmF0ZSBMaXN0PERCQ29udGFpbmVyPiBxbXNycWhMaXN0MSA9IG5ldyBBcnJheUxpc3Q8PigpICAvLyBBbm90aGVyIGxpc3Qgb2YgY29udGFpbmVycyBmcm9tIFFNU1JRSCB0YWJsZQ0KICBwcml2YXRlIExpc3Q8REJDb250YWluZXI+IG1pdHRyYUxpc3QgPSBuZXcgQXJyYXlMaXN0PD4oKSAgIC8vIExpc3Qgb2YgY29udGFpbmVycyBmcm9tIE1JVFRSQSB0YWJsZQ0KICBwcml2YXRlIExpc3Q8REJDb250YWluZXI+IG1waGVhZExpc3QgPSBuZXcgQXJyYXlMaXN0PD4oKSAgIC8vIExpc3Qgb2YgY29udGFpbmVycyBmcm9tIE1QSEVBRCB0YWJsZQ0KDQogIC8qKg0KICAgKiBDb25zdHJ1Y3RvciBmb3IgTHN0UmVjZWl2aW5nIGNsYXNzLg0KICAgKiBAcGFyYW0gbWkgICAgICAgTUlBUEkgb2JqZWN0DQogICAqIEBwYXJhbSBkYXRhYmFzZSBEYXRhYmFzZUFQSSBvYmplY3QNCiAgICogQHBhcmFtIHByb2dyYW0gIFByb2dyYW1BUEkgb2JqZWN0DQogICAqIEBwYXJhbSB1dGlsaXR5ICBVdGlsaXR5QVBJIG9iamVjdA0KICAgKi8NCiAgcHVibGljIExzdFJlY2VpdmluZyhNSUFQSSBtaSwgRGF0YWJhc2VBUEkgZGF0YWJhc2UsIFByb2dyYW1BUEkgcHJvZ3JhbSwgVXRpbGl0eUFQSSB1dGlsaXR5KSB7DQogICAgdGhpcy5taSA9IG1pDQogICAgdGhpcy5kYXRhYmFzZSA9IGRhdGFiYXNlDQogICAgdGhpcy5wcm9ncmFtID0gcHJvZ3JhbQ0KICAgIHRoaXMudXRpbGl0eSA9IHV0aWxpdHkNCiAgfQ0KDQogIC8qKg0KICAgKiBNYWluIG1ldGhvZCB0aGF0IHBlcmZvcm1zIHRoZSBsaXN0aW5nIG9wZXJhdGlvbiBmb3IgcmVjZWl2aW5nIHJlY29yZHMuDQogICAqLw0KICBwdWJsaWMgdm9pZCBtYWluKCkgew0KICAgIGlDT05PID0gbWkuaW4uZ2V0KCJDT05PIikudG9TdHJpbmcoKSA9PSBudWxsID8gcHJvZ3JhbS5MREFaRC5DT05PIDogbWkuaW4uZ2V0KCJDT05PIikudG9TdHJpbmcoKS50cmltKCkNCiAgICBpSE9VUiA9IG1pLmluLmdldCgiSE9VUiIpLnRvU3RyaW5nKCkgPT0gbnVsbCA/ICIwIiA6IG1pLmluLmdldCgiSE9VUiIpLnRvU3RyaW5nKCkudHJpbSgpDQogICAgDQogICAgaW50IGhvdXJzID0gaUhPVVIudG9Eb3VibGUoKSBhcyBpbnQNCiAgICANCiAgICBpZihob3VycyA8PSAwIHx8IGhvdXJzID49IDI0KSB7DQogICAgICBtaS5lcnJvcigiSG91cnMgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDI0IikNCiAgICAgIHJldHVybg0KICAgIH0NCg0KICAgIC8vIENhbGN1bGF0ZSB0aGUgdGltZXN0YW1wIGZvciAxIGRheSBhZ28NCiAgICBsb25nIGN1cnJlbnRFcG9jaE1pbGxpc2Vjb25kcyA9IHV0aWxpdHkuY2FsbCgiRGF0ZVV0aWwiLCAiY3VycmVudEVwb2NoTWlsbGlzZWNvbmRzIikgYXMgbG9uZw0KICAgIGN1cnJlbnRFcG9jaE1pbGxpc2Vjb25kcyA9IGN1cnJlbnRFcG9jaE1pbGxpc2Vjb25kcyAtICgxICogaG91cnMgKiA2MCAqIDYwICogMTAwMEwpDQoNCiAgICAvLyBDcmVhdGUgZXhwcmVzc2lvbiBmb3IgcXVlcnlpbmcgdGhlIE1JVExPQyB0YWJsZSB3aXRoIGEgZGF0ZSBjb25kaXRpb24NCiAgICBFeHByZXNzaW9uRmFjdG9yeSBleHByZXNzaW9uID0gZGF0YWJhc2UuZ2V0RXhwcmVzc2lvbkZhY3RvcnkoIk1JVExPQyIpDQogICAgZXhwcmVzc2lvbiA9IGV4cHJlc3Npb24uZ2UoIk1MTE1UUyIsIGN1cnJlbnRFcG9jaE1pbGxpc2Vjb25kcy50b1N0cmluZygpKQ0KDQogICAgLy8gQ3JlYXRlIGFjdGlvbiBmb3IgcXVlcnlpbmcgTUlUTE9DIHRhYmxlDQogICAgREJBY3Rpb24gYWN0aW9uTUlUTE9DID0gZGF0YWJhc2UudGFibGUoIk1JVExPQyIpLmluZGV4KCIxMCIpLm1hdGNoaW5nKGV4cHJlc3Npb24pDQogICAgICAuc2VsZWN0aW9uKCJNTENPTk8iLCAiTUxXSExPIiwgIk1MSVROTyIsICJNTEJBTk8iLCAiTUxDQU1VIiwgIk1MU1RBUyIsICJNTFNUUVQiLCAiTUxSR0RUIikuYnVpbGQoKQ0KICAgIERCQ29udGFpbmVyIGNvbnRhaW5lck1JVExPQyA9IGFjdGlvbk1JVExPQy5nZXRDb250YWluZXIoKQ0KDQogICAgY29udGFpbmVyTUlUTE9DLnNldEludCgiTUxDT05PIiwgaUNPTk8gYXMgaW50KQ0KDQogICAgLy8gQ2xvc3VyZSB0byBwcm9jZXNzIGFsbCByZWNvcmRzIGZldGNoZWQgZnJvbSBNSVRMT0MNCiAgICBDbG9zdXJlPD8+IHJlYWRBbGxSZWNvcmRzTUlUTE9DID0gew0KICAgICAgREJDb250YWluZXIgcmVzdWx0Q29udGFpbmVyTUlUTE9DIC0+DQogICAgICAgIFN0cmluZyBJVE5PID0gcmVzdWx0Q29udGFpbmVyTUlUTE9DLmdldFN0cmluZygiTUxJVE5PIikudHJpbSgpDQogICAgICAgIFN0cmluZyBCQU5PID0gcmVzdWx0Q29udGFpbmVyTUlUTE9DLmdldFN0cmluZygiTUxCQU5PIikudHJpbSgpDQogICAgICAgIFN0cmluZyBiYXNlQkFOTyA9IEJBTk8uc3BsaXQoIlxcfCIpWzBdDQogICAgICAgIFN0cmluZyBDQU1VID0gcmVzdWx0Q29udGFpbmVyTUlUTE9DLmdldFN0cmluZygiTUxDQU1VIikudHJpbSgpDQogICAgICAgIFN0cmluZyBXSExPID0gcmVzdWx0Q29udGFpbmVyTUlUTE9DLmdldFN0cmluZygiTUxXSExPIikudHJpbSgpDQogICAgICAgIA0KICAgICAgICBTdHJpbmcgUklETiA9ICIiDQoNCiAgICAgICAgbWkub3V0RGF0YS5wdXQoIldITE8iLCByZXN1bHRDb250YWluZXJNSVRMT0MuZ2V0U3RyaW5nKCJNTFdITE8iKS50cmltKCkpDQogICAgICAgIG1pLm91dERhdGEucHV0KCJJVE5PIiwgSVROTykNCiAgICAgICAgbWkub3V0RGF0YS5wdXQoIkJBTk8iLCBCQU5PKQ0KICAgICAgICBtaS5vdXREYXRhLnB1dCgiU1RBUyIsIHJlc3VsdENvbnRhaW5lck1JVExPQy5nZXQoIk1MU1RBUyIpLnRvU3RyaW5nKCkudHJpbSgpKQ0KICAgICAgICBtaS5vdXREYXRhLnB1dCgiU1RRVCIsIHJlc3VsdENvbnRhaW5lck1JVExPQy5nZXQoIk1MU1RRVCIpLnRvU3RyaW5nKCkudHJpbSgpKQ0KICAgICAgICBtaS5vdXREYXRhLnB1dCgiQ0FNVSIsIHJlc3VsdENvbnRhaW5lck1JVExPQy5nZXQoIk1MQ0FNVSIpLnRvU3RyaW5nKCkudHJpbSgpKQ0KDQogICAgICAgIC8vIEZpbmQgY29ycmVzcG9uZGluZyByZWNvcmQgaW4gTUlUTUFTIGxpc3QNCiAgICAgICAgREJDb250YWluZXIgY29udGFpbmVyTUlUTUFTID0gbWl0bWFzTGlzdC5maW5kIHsNCiAgICAgICAgICBpdC5nZXRTdHJpbmcoIk1NSVROTyIpID09IElUTk8NCiAgICAgICAgfQ0KICAgICAgICBpZiAoY29udGFpbmVyTUlUTUFTID09IG51bGwpIHsNCiAgICAgICAgICBEQkFjdGlvbiBhY3Rpb25NSVRNQVMgPSBkYXRhYmFzZS50YWJsZSgiTUlUTUFTIikuaW5kZXgoIjMwIikuc2VsZWN0aW9uKCJNTUlURFMiLCAiTU1TVEFUIiwgIk1NSVRUWSIpLmJ1aWxkKCkNCiAgICAgICAgICBjb250YWluZXJNSVRNQVMgPSBhY3Rpb25NSVRNQVMuZ2V0Q29udGFpbmVyKCkNCg0KICAgICAgICAgIGNvbnRhaW5lck1JVE1BUy5zZXQoIk1NQ09OTyIsIGlDT05PIGFzIGludCkNCiAgICAgICAgICBjb250YWluZXJNSVRNQVMuc2V0KCJNTUlUTk8iLCBJVE5PKQ0KDQogICAgICAgICAgaWYgKGFjdGlvbk1JVE1BUy5yZWFkKGNvbnRhaW5lck1JVE1BUykpIHsNCiAgICAgICAgICAgIG1pdG1hc0xpc3QuYWRkKGNvbnRhaW5lck1JVE1BUy5jcmVhdGVDb3B5KCkpDQoNCiAgICAgICAgICAgIG1pLm91dERhdGEucHV0KCJJVERTIiwgY29udGFpbmVyTUlUTUFTLmdldFN0cmluZygiTU1JVERTIikudHJpbSgpKQ0KICAgICAgICAgICAgbWkub3V0RGF0YS5wdXQoIlNUQVQiLCBjb250YWluZXJNSVRNQVMuZ2V0U3RyaW5nKCJNTVNUQVQiKS50cmltKCkpDQogICAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiSVRUWSIsIGNvbnRhaW5lck1JVE1BUy5nZXRTdHJpbmcoIk1NSVRUWSIpLnRyaW0oKSkNCiAgICAgICAgICB9DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgbWkub3V0RGF0YS5wdXQoIklURFMiLCBjb250YWluZXJNSVRNQVMuZ2V0U3RyaW5nKCJNTUlURFMiKS50cmltKCkpDQogICAgICAgICAgbWkub3V0RGF0YS5wdXQoIlNUQVQiLCBjb250YWluZXJNSVRNQVMuZ2V0U3RyaW5nKCJNTVNUQVQiKS50cmltKCkpDQogICAgICAgICAgbWkub3V0RGF0YS5wdXQoIklUVFkiLCBjb250YWluZXJNSVRNQVMuZ2V0U3RyaW5nKCJNTUlUVFkiKS50cmltKCkpDQogICAgICAgIH0NCg0KICAgICAgICAvLyBGaW5kIGNvcnJlc3BvbmRpbmcgcmVjb3JkIGluIFFNU1JRSCBsaXN0DQogICAgICAgIERCQ29udGFpbmVyIGNvbnRhaW5lclFNU1JRSCA9IHFtc3JxaExpc3QuZmluZCB7DQogICAgICAgICAgaXQuZ2V0U3RyaW5nKCJSSElUTk8iKSA9PSBJVE5PICYmIGl0LmdldFN0cmluZygiUkhCQU5PIikgPT0gYmFzZUJBTk8NCiAgICAgICAgfQ0KICAgICAgICBpZiAoY29udGFpbmVyUU1TUlFIID09IG51bGwpIHsNCiAgICAgICAgICAvLyBDcmVhdGUgZXhwcmVzc2lvbiBmb3IgcXVlcnlpbmcgdGhlIFFNU1JRSCB0YWJsZSB3aXRoIGEgY29uZGl0aW9uDQogICAgICAgICAgRXhwcmVzc2lvbkZhY3RvcnkgcW1zcnFoRXhwcmVzc2lvbiA9IGRhdGFiYXNlLmdldEV4cHJlc3Npb25GYWN0b3J5KCJRTVNSUUgiKQ0KICAgICAgICAgIHFtc3JxaEV4cHJlc3Npb24gPSBxbXNycWhFeHByZXNzaW9uLmJldHdlZW4oIlJIUVNUQSIsICIwIiwgIjMiKQ0KICAgICAgICAgIA0KICAgICAgICAgIERCQWN0aW9uIGFjdGlvblFNU1JRSCA9IGRhdGFiYXNlLnRhYmxlKCJRTVNSUUgiKS5pbmRleCgiMzAiKS5tYXRjaGluZyhxbXNycWhFeHByZXNzaW9uKS5zZWxlY3Rpb24oIlJIUVNUQSIsICJSSFFBUFIiLCAiUkhRUklEIikuYnVpbGQoKQ0KICAgICAgICAgIGNvbnRhaW5lclFNU1JRSCA9IGFjdGlvblFNU1JRSC5nZXRDb250YWluZXIoKQ0KDQogICAgICAgICAgY29udGFpbmVyUU1TUlFILnNldCgiUkhDT05PIiwgaUNPTk8gYXMgaW50KQ0KICAgICAgICAgIGNvbnRhaW5lclFNU1JRSC5zZXQoIlJISVROTyIsIElUTk8pDQogICAgICAgICAgY29udGFpbmVyUU1TUlFILnNldCgiUkhCQU5PIiwgYmFzZUJBTk8pDQoNCiAgICAgICAgICAvLyBDbG9zdXJlIHRvIHByb2Nlc3MgYWxsIHJlY29yZHMgZmV0Y2hlZCBmcm9tIFFNU1JRSA0KICAgICAgICAgIENsb3N1cmU8Pz4gcmVhZEFsbFJlY29yZFFNU1JRSCA9IHsNCiAgICAgICAgICAgIERCQ29udGFpbmVyIHJlc3VsdENvbnRhaW5lclFNU1JRSCAtPg0KICAgICAgICAgICAgICBxbXNycWhMaXN0LmFkZChyZXN1bHRDb250YWluZXJRTVNSUUguY3JlYXRlQ29weSgpKQ0KDQogICAgICAgICAgICAgIG1pLm91dERhdGEucHV0KCJRQVBSIiwgcmVzdWx0Q29udGFpbmVyUU1TUlFILmdldCgiUkhRQVBSIikudG9TdHJpbmcoKS50cmltKCkpDQogICAgICAgICAgICAgIG1pLm91dERhdGEucHV0KCJRUklEIiwgcmVzdWx0Q29udGFpbmVyUU1TUlFILmdldCgiUkhRUklEIikudG9TdHJpbmcoKS50cmltKCkpDQogICAgICAgICAgfQ0KDQogICAgICAgICAgYWN0aW9uUU1TUlFILnJlYWRBbGwoY29udGFpbmVyUU1TUlFILCAzLCAxLCByZWFkQWxsUmVjb3JkUU1TUlFIKQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIG1pLm91dERhdGEucHV0KCJRQVBSIiwgY29udGFpbmVyUU1TUlFILmdldCgiUkhRQVBSIikudG9TdHJpbmcoKS50cmltKCkpDQogICAgICAgICAgbWkub3V0RGF0YS5wdXQoIlFSSUQiLCBjb250YWluZXJRTVNSUUguZ2V0KCJSSFFSSUQiKS50b1N0cmluZygpLnRyaW0oKSkNCiAgICAgICAgfQ0KDQogICAgICAgIC8vIEZpbmQgY29ycmVzcG9uZGluZyByZWNvcmQgaW4gTUlMT01BIGxpc3QNCiAgICAgICAgREJDb250YWluZXIgY29udGFpbmVyTUlMT01BID0gbWlsb21hTGlzdC5maW5kIHsNCiAgICAgICAgICBpdC5nZXRTdHJpbmcoIkxNSVROTyIpID09IElUTk8gJiYgaXQuZ2V0U3RyaW5nKCJMTUJBTk8iKSA9PSBiYXNlQkFOTw0KICAgICAgICB9DQogICAgICAgIGlmIChjb250YWluZXJNSUxPTUEgPT0gbnVsbCkgew0KICAgICAgICAgIERCQWN0aW9uIGFjdGlvbk1JTE9NQSA9IGRhdGFiYXNlLnRhYmxlKCJNSUxPTUEiKS5pbmRleCgiMDAiKS5zZWxlY3Rpb24oIkxNTUZEVCIsICJMTVJFREEiLCAiTE1FWFBJIiwgIkxNU0VEVCIsICJMTVNVTk8iKS5idWlsZCgpDQogICAgICAgICAgY29udGFpbmVyTUlMT01BID0gYWN0aW9uTUlMT01BLmdldENvbnRhaW5lcigpDQoNCiAgICAgICAgICBjb250YWluZXJNSUxPTUEuc2V0KCJMTUNPTk8iLCBpQ09OTyBhcyBpbnQpDQogICAgICAgICAgY29udGFpbmVyTUlMT01BLnNldCgiTE1JVE5PIiwgSVROTykNCiAgICAgICAgICBjb250YWluZXJNSUxPTUEuc2V0KCJMTUJBTk8iLCBiYXNlQkFOTykNCg0KICAgICAgICAgIGlmIChhY3Rpb25NSUxPTUEucmVhZChjb250YWluZXJNSUxPTUEpKSB7DQogICAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiTUZEVCIsIGNvbnRhaW5lck1JTE9NQS5nZXQoIkxNTUZEVCIpLnRvU3RyaW5nKCkudHJpbSgpKQ0KICAgICAgICAgICAgbWkub3V0RGF0YS5wdXQoIlJFREEiLCBjb250YWluZXJNSUxPTUEuZ2V0KCJMTVJFREEiKS50b1N0cmluZygpLnRyaW0oKSkNCiAgICAgICAgICAgIG1pLm91dERhdGEucHV0KCJFWFBJIiwgY29udGFpbmVyTUlMT01BLmdldCgiTE1FWFBJIikudG9TdHJpbmcoKS50cmltKCkpDQogICAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiU0VEVCIsIGNvbnRhaW5lck1JTE9NQS5nZXQoIkxNU0VEVCIpLnRvU3RyaW5nKCkudHJpbSgpKQ0KICAgICAgICAgICAgbWkub3V0RGF0YS5wdXQoIlNVTk8iLCBjb250YWluZXJNSUxPTUEuZ2V0KCJMTVNVTk8iKS50b1N0cmluZygpLnRyaW0oKSkNCg0KICAgICAgICAgICAgbWlsb21hTGlzdC5hZGQoY29udGFpbmVyTUlMT01BLmNyZWF0ZUNvcHkoKSkNCiAgICAgICAgICB9DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgbWkub3V0RGF0YS5wdXQoIk1GRFQiLCBjb250YWluZXJNSUxPTUEuZ2V0KCJMTU1GRFQiKS50b1N0cmluZygpLnRyaW0oKSkNCiAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiUkVEQSIsIGNvbnRhaW5lck1JTE9NQS5nZXQoIkxNUkVEQSIpLnRvU3RyaW5nKCkudHJpbSgpKQ0KICAgICAgICAgIG1pLm91dERhdGEucHV0KCJFWFBJIiwgY29udGFpbmVyTUlMT01BLmdldCgiTE1FWFBJIikudG9TdHJpbmcoKS50cmltKCkpDQogICAgICAgICAgbWkub3V0RGF0YS5wdXQoIlNFRFQiLCBjb250YWluZXJNSUxPTUEuZ2V0KCJMTVNFRFQiKS50b1N0cmluZygpLnRyaW0oKSkNCiAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiU1VOTyIsIGNvbnRhaW5lck1JTE9NQS5nZXQoIkxNU1VOTyIpLnRvU3RyaW5nKCkudHJpbSgpKQ0KICAgICAgICB9DQoNCiAgICAgICAgLy8gRmluZCBjb3JyZXNwb25kaW5nIHJlY29yZCBpbiBNSVRUUkEgbGlzdA0KICAgICAgICBEQkNvbnRhaW5lciBjb250YWluZXJNSVRUUkEgPSBtaXR0cmFMaXN0LmZpbmQgew0KICAgICAgICAgIGl0LmdldFN0cmluZygiTVRJVE5PIikgPT0gSVROTyAmJiBpdC5nZXRTdHJpbmcoIk1UQkFOTyIpID09IEJBTk8gJiYgaXQuZ2V0SW50KCJNVFRUWVAiKSA9PSAyNSAmJiBpdC5nZXRTdHJpbmcoIk1UQ0FNVSIpID09IENBTVUNCiAgICAgICAgfQ0KICAgICAgICBpZiAoY29udGFpbmVyTUlUVFJBID09IG51bGwpIHsNCiAgICAgICAgICAvLyBDcmVhdGUgZXhwcmVzc2lvbiBmb3IgcXVlcnlpbmcgTUlUVFJBIHRhYmxlIHdpdGggQ0FNVSBjb25kaXRpb24NCiAgICAgICAgICBFeHByZXNzaW9uRmFjdG9yeSBtaXR0cmFFeHByZXNzaW9uID0gZGF0YWJhc2UuZ2V0RXhwcmVzc2lvbkZhY3RvcnkoIk1JVFRSQSIpDQogICAgICAgICAgbWl0dHJhRXhwcmVzc2lvbiA9IG1pdHRyYUV4cHJlc3Npb24uZXEoIk1UQ0FNVSIsIENBTVUpDQoNCiAgICAgICAgICBEQkFjdGlvbiBhY3Rpb25NSVRUUkEgPSBkYXRhYmFzZS50YWJsZSgiTUlUVFJBIikuaW5kZXgoIjIwIikubWF0Y2hpbmcobWl0dHJhRXhwcmVzc2lvbikNCiAgICAgICAgICAgIC5zZWxlY3Rpb24oIk1UUklETiIsICJNVFdITE8iLCAiTVRUVFlQIiwgIk1UQ0FNVSIpLmJ1aWxkKCkNCiAgICAgICAgICBjb250YWluZXJNSVRUUkEgPSBhY3Rpb25NSVRUUkEuZ2V0Q29udGFpbmVyKCkNCg0KICAgICAgICAgIGNvbnRhaW5lck1JVFRSQS5zZXQoIk1UQ09OTyIsIGlDT05PIGFzIGludCkNCiAgICAgICAgICBjb250YWluZXJNSVRUUkEuc2V0KCJNVElUTk8iLCBJVE5PKQ0KICAgICAgICAgIGNvbnRhaW5lck1JVFRSQS5zZXQoIk1UQkFOTyIsIGJhc2VCQU5PKQ0KICAgICAgICAgIGNvbnRhaW5lck1JVFRSQS5zZXQoIk1UVFRZUCIsIDI1KQ0KDQogICAgICAgICAgLy8gQ2xvc3VyZSB0byBwcm9jZXNzIGFsbCByZWNvcmRzIGZldGNoZWQgZnJvbSBNSVRUUkENCiAgICAgICAgICBDbG9zdXJlPD8+IHJlYWRBbGxSZWNvcmRNSVRUUkEgPSB7DQogICAgICAgICAgICBEQkNvbnRhaW5lciByZXN1bHRDb250YWluZXJNSVRUUkEgLT4NCiAgICAgICAgICAgICAgbWl0dHJhTGlzdC5hZGQocmVzdWx0Q29udGFpbmVyTUlUVFJBLmNyZWF0ZUNvcHkoKSkNCg0KICAgICAgICAgICAgICBSSUROID0gcmVzdWx0Q29udGFpbmVyTUlUVFJBLmdldCgiTVRSSUROIikudG9TdHJpbmcoKS50cmltKCkNCg0KICAgICAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiUklETiIsIFJJRE4pDQogICAgICAgICAgICAgIG1pLm91dERhdGEucHV0KCJUUkRUIiwgcmVzdWx0Q29udGFpbmVyTUlUVFJBLmdldCgiTVRUUkRUIikudG9TdHJpbmcoKS50cmltKCkpDQogICAgICAgICAgfQ0KDQogICAgICAgICAgYWN0aW9uTUlUVFJBLnJlYWRBbGwoY29udGFpbmVyTUlUVFJBLCA0LCAxLCByZWFkQWxsUmVjb3JkTUlUVFJBKQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIG1pLm91dERhdGEucHV0KCJSSUROIiwgY29udGFpbmVyTUlUVFJBLmdldCgiTVRSSUROIikudG9TdHJpbmcoKS50cmltKCkpDQogICAgICAgICAgbWkub3V0RGF0YS5wdXQoIlRSRFQiLCBjb250YWluZXJNSVRUUkEuZ2V0KCJNVFRSRFQiKS50b1N0cmluZygpLnRyaW0oKSkNCiAgICAgICAgfQ0KDQogICAgICAgIC8vIEFkZGl0aW9uYWwgcHJvY2Vzc2luZyBpZiBSSUROIGlzIG5vdCBlbXB0eQ0KICAgICAgICBpZiAoIVJJRE4uaXNFbXB0eSgpKSB7DQogICAgICAgICAgY29udGFpbmVyUU1TUlFIID0gcW1zcnFoTGlzdDEuZmluZCB7DQogICAgICAgICAgICBpdC5nZXRTdHJpbmcoIlJISVROTyIpID09IElUTk8gJiYgaXQuZ2V0U3RyaW5nKCJSSEJBTk8iKSA9PSBiYXNlQkFOTyAmJiBpdC5nZXQoIlJIUk9SQyIpLnRvU3RyaW5nKCkgPT0gIjIiICYmIGl0LmdldFN0cmluZygiUkhST1JOIikgPT0gUklETg0KICAgICAgICAgIH0NCiAgICAgICAgICANCiAgICAgICAgICBpZiAoY29udGFpbmVyUU1TUlFIID09IG51bGwpIHsNCiAgICAgICAgICAgIEV4cHJlc3Npb25GYWN0b3J5IHFtc3JxaEV4cHJlc3Npb24gPSBkYXRhYmFzZS5nZXRFeHByZXNzaW9uRmFjdG9yeSgiUU1TUlFIIikNCiAgICAgICAgICAgIHFtc3JxaEV4cHJlc3Npb24gPSBxbXNycWhFeHByZXNzaW9uLmJldHdlZW4oIlJIUVNUQSIsICIwIiwgIjMiKQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBEQkFjdGlvbiBhY3Rpb25RTVNSUUggPSBkYXRhYmFzZS50YWJsZSgiUU1TUlFIIikuaW5kZXgoIjMwIikubWF0Y2hpbmcocW1zcnFoRXhwcmVzc2lvbikuc2VsZWN0aW9uKCJSSFFTVEEiLCAiUkhRQVBSIiwgIlJIUVJJRCIpLnJldmVyc2UoKS5idWlsZCgpDQogICAgICAgICAgICBjb250YWluZXJRTVNSUUggPSBhY3Rpb25RTVNSUUguZ2V0Q29udGFpbmVyKCkNCg0KICAgICAgICAgICAgY29udGFpbmVyUU1TUlFILnNldCgiUkhDT05PIiwgaUNPTk8gYXMgaW50KQ0KICAgICAgICAgICAgY29udGFpbmVyUU1TUlFILnNldCgiUkhJVE5PIiwgSVROTykNCiAgICAgICAgICAgIGNvbnRhaW5lclFNU1JRSC5zZXQoIlJIQkFOTyIsIGJhc2VCQU5PKQ0KICAgICAgICAgICAgY29udGFpbmVyUU1TUlFILnNldCgiUkhST1JDIiwgMikNCiAgICAgICAgICAgIGNvbnRhaW5lclFNU1JRSC5zZXQoIlJIUk9STiIsIFJJRE4pDQoNCiAgICAgICAgICAgIC8vIENsb3N1cmUgdG8gcHJvY2VzcyBhbGwgcmVjb3JkcyBmZXRjaGVkIGZyb20gUU1TUlFIMQ0KICAgICAgICAgICAgQ2xvc3VyZTw/PiByZWFkQWxsUmVjb3JkUU1TUlFIMSA9IHsNCiAgICAgICAgICAgICAgREJDb250YWluZXIgcmVzdWx0Q29udGFpbmVyUU1TUlFIMSAtPg0KICAgICAgICAgICAgICAgIHFtc3JxaExpc3QxLmFkZChyZXN1bHRDb250YWluZXJRTVNSUUgxLmNyZWF0ZUNvcHkoKSkNCg0KICAgICAgICAgICAgICAgIG1pLm91dERhdGEucHV0KCJRQVAxIiwgcmVzdWx0Q29udGFpbmVyUU1TUlFIMS5nZXQoIlJIUUFQUiIpLnRvU3RyaW5nKCkudHJpbSgpKQ0KICAgICAgICAgICAgICAgIG1pLm91dERhdGEucHV0KCJRUkkxIiwgcmVzdWx0Q29udGFpbmVyUU1TUlFIMS5nZXQoIlJIUVJJRCIpLnRvU3RyaW5nKCkudHJpbSgpKQ0KICAgICAgICAgICAgICAgIG1pLm91dERhdGEucHV0KCJRU1QxIiwgcmVzdWx0Q29udGFpbmVyUU1TUlFIMS5nZXQoIlJIUVNUQSIpLnRvU3RyaW5nKCkudHJpbSgpKQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBhY3Rpb25RTVNSUUgucmVhZEFsbChjb250YWluZXJRTVNSUUgsIDUsIDEsIHJlYWRBbGxSZWNvcmRRTVNSUUgxKQ0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiUUFQMSIsIGNvbnRhaW5lclFNU1JRSC5nZXQoIlJIUUFQUiIpLnRvU3RyaW5nKCkudHJpbSgpKQ0KICAgICAgICAgICAgbWkub3V0RGF0YS5wdXQoIlFSSTEiLCBjb250YWluZXJRTVNSUUguZ2V0KCJSSFFSSUQiKS50b1N0cmluZygpLnRyaW0oKSkNCiAgICAgICAgICAgIG1pLm91dERhdGEucHV0KCJRU1QxIiwgY29udGFpbmVyUU1TUlFILmdldCgiUkhRU1RBIikudG9TdHJpbmcoKS50cmltKCkpDQogICAgICAgICAgfQ0KDQogICAgICAgICAgLy8gRmluZCBjb3JyZXNwb25kaW5nIHJlY29yZCBpbiBNUEhFQUQgbGlzdA0KICAgICAgICAgIERCQ29udGFpbmVyIGNvbnRhaW5lck1QSEVBRCA9IG1waGVhZExpc3QuZmluZCB7DQogICAgICAgICAgICBpdC5nZXRTdHJpbmcoIklBUFVOTyIpID09IFJJRE4NCiAgICAgICAgICB9DQogICAgICAgICAgaWYgKGNvbnRhaW5lck1QSEVBRCA9PSBudWxsKSB7DQogICAgICAgICAgICBEQkFjdGlvbiBhY3Rpb25NUEhFQUQgPSBkYXRhYmFzZS50YWJsZSgiTVBIRUFEIikuaW5kZXgoIjAwIikuc2VsZWN0aW9uKCJJQVNVTk8iKS5idWlsZCgpDQogICAgICAgICAgICBjb250YWluZXJNUEhFQUQgPSBhY3Rpb25NUEhFQUQuZ2V0Q29udGFpbmVyKCkNCg0KICAgICAgICAgICAgY29udGFpbmVyTVBIRUFELnNldCgiSUFDT05PIiwgaUNPTk8gYXMgaW50KQ0KICAgICAgICAgICAgY29udGFpbmVyTVBIRUFELnNldCgiSUFQVU5PIiwgUklETikNCg0KICAgICAgICAgICAgaWYgKGFjdGlvbk1QSEVBRC5yZWFkKGNvbnRhaW5lck1QSEVBRCkpIHsNCiAgICAgICAgICAgICAgbWkub3V0RGF0YS5wdXQoIlNVTjEiLCBjb250YWluZXJNUEhFQUQuZ2V0KCJJQVNVTk8iKS50b1N0cmluZygpLnRyaW0oKSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgbWkub3V0RGF0YS5wdXQoIlNVTjEiLCBjb250YWluZXJNUEhFQUQuZ2V0KCJJQVNVTk8iKS50b1N0cmluZygpLnRyaW0oKSkNCiAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICAvLyBXcml0ZSB0byBtaS5vdXREYXRhDQogICAgICAgIG1pLndyaXRlKCkNCiAgICB9DQoNCiAgICAvLyBSZWFkIGFsbCByZWNvcmRzIGZyb20gTUlUTE9DIHRhYmxlDQogICAgYWN0aW9uTUlUTE9DLnJlYWRBbGwoY29udGFpbmVyTUlUTE9DLCAxLCAxMDAwMCwgcmVhZEFsbFJlY29yZHNNSVRMT0MpDQogIH0NCn0NCg=="}}}