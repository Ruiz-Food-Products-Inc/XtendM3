{"programModules":{"EXT130MI":{"program":"EXT130MI","triggers":{},"transactions":{"LstDisposition":{"sourceUuid":"758efb0d-4142-42ff-818c-f9a14a196c5a","name":"LstDisposition","program":"EXT130MI","description":"List QA Disposition","active":true,"multi":true,"modified":1727622914864,"modifiedBy":"900073","outputFields":[{"name":"CONO","description":"Company","length":3,"mandatory":false,"type":"N"},{"name":"WHLO","description":"Warehouse","length":3,"mandatory":false,"type":"A"},{"name":"ITNO","description":"Item number","length":15,"mandatory":false,"type":"A"},{"name":"SBAN","description":"Sub-lot number","length":20,"mandatory":false,"type":"A"},{"name":"CAMU","description":"Container","length":20,"mandatory":false,"type":"A"},{"name":"WHSL","description":"Location","length":10,"mandatory":false,"type":"A"},{"name":"PBAN","description":"Previous lot number","length":20,"mandatory":false,"type":"N"},{"name":"CLVL","description":"Current level","length":3,"mandatory":false,"type":"N"},{"name":"BANO","description":"Lot number","length":20,"mandatory":false,"type":"A"},{"name":"STAS","description":"Status","length":1,"mandatory":false,"type":"A"},{"name":"HTAG","description":"Hold tag","length":1,"mandatory":false,"type":"N"},{"name":"DTAG","description":"Dispose tag","length":1,"mandatory":false,"type":"N"},{"name":"RSCD","description":"Reason code","length":3,"mandatory":false,"type":"N"},{"name":"RGDT","description":"Entry date","length":8,"mandatory":false,"type":"N"},{"name":"RGTM","description":"Entry time","length":6,"mandatory":false,"type":"N"},{"name":"LMDT","description":"Change date","length":8,"mandatory":false,"type":"N"},{"name":"CHNO","description":"Change number","length":3,"mandatory":false,"type":"N"},{"name":"CHID","description":"Changed by","length":10,"mandatory":false,"type":"A"},{"name":"LWHL","description":"Last warehouse","length":3,"mandatory":false,"type":"N"},{"name":"LWHS","description":"Last location","length":10,"mandatory":false,"type":"N"},{"name":"CWHL","description":"Current warehouse","length":3,"mandatory":false,"type":"A"},{"name":"CWHS","description":"Current location","length":10,"mandatory":false,"type":"A"},{"name":"LSTQ","description":"Quantity","length":15,"mandatory":false,"type":"N"},{"name":"QRID","description":"QI request ID","length":8,"mandatory":false,"type":"A"},{"name":"QAPR","description":"QI request approval status","length":1,"mandatory":false,"type":"N"},{"name":"QIUS","description":"QI req managed by","length":10,"mandatory":false,"type":"A"},{"name":"TXID","description":"text identity","length":13,"mandatory":false,"type":"N"},{"name":"HOLD","description":"Hold Text","length":120,"mandatory":false,"type":"A"},{"name":"DISP","description":"DISP Text","length":120,"mandatory":false,"type":"A"},{"name":"FOTX","description":"FO Text","length":60,"mandatory":false,"type":"A"},{"name":"COTX","description":"Contaminants Text","length":60,"mandatory":false,"type":"A"},{"name":"RETX","description":"Recall Text","length":60,"mandatory":false,"type":"A"},{"name":"SCTX","description":"SCAR Text","length":60,"mandatory":false,"type":"A"},{"name":"CLTX","description":"Claim Text","length":60,"mandatory":false,"type":"A"}],"inputFields":[{"name":"CONO","description":"company","length":3,"mandatory":true,"type":"A"}],"utilities":["DateUtil"],"market":"ALL"}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"758efb0d-4142-42ff-818c-f9a14a196c5a":{"uuid":"758efb0d-4142-42ff-818c-f9a14a196c5a","updated":1726613063889,"updatedBy":"900073","created":1727622859972,"createdBy":"900073","apiVersion":"UNKNOWN","beVersion":"16.0.0.20240717001700.11","language":"GROOVY","codeHash":"4B19CBAE40638F92461D8861D9F69F2AD34F48C0FBA3863DE3B1753EF82835B9","code":"LyoqDQogKiBSRUFETUUNCiAqIExzdERpc3Bvc2l0aW9uIGNsYXNzIGV4dGVuZHMgRXh0ZW5kTTNUcmFuc2FjdGlvbiBhbmQgbGlzdHMgZGF0YSBmb3IgdGhlIGRpc3Bvc2l0aW9uIHBhbmVsLg0KICogVGhpcyBjbGFzcyBpbnRlcmFjdHMgd2l0aCBNMyBBUElzIGFuZCBkYXRhYmFzZSBBUElzIHRvIGZldGNoIGFuZCBwcm9jZXNzIGRhdGEuDQogKg0KICoNCiAqIE5hbWU6IEVYVDEzME1JLkxzdERpc3Bvc2l0aW9uDQogKiBEZXNjcmlwdGlvbjogTGlzdCBkYXRhIGZvciB0aGUgY3VzdG9tZXIgcmV0dXJucyBwYW5lbA0KICogRGF0ZQkgICAgICBDaGFuZ2VkIEJ5ICAgIERlc2NyaXB0aW9uDQogKiAyMDI0MDcyMAkgIEFKQVlZICAgICAgICAgTHN0RGlzcG9zaXRpb24gY2xhc3MgZXh0ZW5kcyBFeHRlbmRNM1RyYW5zYWN0aW9uIGFuZCBsaXN0cyBkYXRhIGZvciB0aGUgZGlzcG9zaXRpb24gcGFuZWwuDQogKiAyMDI0MDcyMwkgIEFKQVlZICAgICAgICAJQ29kZSBjbGVhbnVwDQogKiAyMDI0MDkxNyAgIEFKQVlZICAgICAgICAgQ2hhbmdlZCBRTVNSUUggam9pbiB0byByZWFkIHdpdGggUVNUQSAxIC0gMw0KICoqLw0KDQpwdWJsaWMgY2xhc3MgTHN0RGlzcG9zaXRpb24gZXh0ZW5kcyBFeHRlbmRNM1RyYW5zYWN0aW9uIHsNCg0KICAvLyBBUElzIGZvciB2YXJpb3VzIG9wZXJhdGlvbnMNCiAgcHJpdmF0ZSBmaW5hbCBNSUFQSSBtaTsNCiAgcHJpdmF0ZSBmaW5hbCBEYXRhYmFzZUFQSSBkYXRhYmFzZTsNCiAgcHJpdmF0ZSBmaW5hbCBQcm9ncmFtQVBJIHByb2dyYW07DQogIHByaXZhdGUgZmluYWwgVXRpbGl0eUFQSSB1dGlsaXR5Ow0KDQogIC8qKg0KICAgKiBDb25zdHJ1Y3RvciBmb3IgaW5pdGlhbGl6aW5nIExzdERpc3Bvc2l0aW9uIHdpdGggbmVjZXNzYXJ5IEFQSXMuDQogICAqDQogICAqIEBwYXJhbSBtaSBNSUFQSSBpbnN0YW5jZQ0KICAgKiBAcGFyYW0gZGF0YWJhc2UgRGF0YWJhc2VBUEkgaW5zdGFuY2UNCiAgICogQHBhcmFtIHByb2dyYW0gUHJvZ3JhbUFQSSBpbnN0YW5jZQ0KICAgKiBAcGFyYW0gdXRpbGl0eSBVdGlsaXR5QVBJIGluc3RhbmNlDQogICAqLw0KICBwdWJsaWMgTHN0RGlzcG9zaXRpb24oTUlBUEkgbWksIERhdGFiYXNlQVBJIGRhdGFiYXNlLCBQcm9ncmFtQVBJIHByb2dyYW0sIFV0aWxpdHlBUEkgdXRpbGl0eSkgew0KICAgIHRoaXMubWkgPSBtaTsNCiAgICB0aGlzLmRhdGFiYXNlID0gZGF0YWJhc2U7DQogICAgdGhpcy5wcm9ncmFtID0gcHJvZ3JhbTsNCiAgICB0aGlzLnV0aWxpdHkgPSB1dGlsaXR5Ow0KICB9DQoNCiAgLy8gSW5zdGFuY2UgdmFyaWFibGVzDQogIHByaXZhdGUgU3RyaW5nIGlDT05POw0KICBwcml2YXRlIExpc3QgPCBEQkNvbnRhaW5lciA+IG1pbG9tYUxpc3QgPSBuZXcgQXJyYXlMaXN0IDwgPiAoKTsNCiAgcHJpdmF0ZSBMaXN0IDwgREJDb250YWluZXIgPiBtc3l0eGxMaXN0ID0gbmV3IEFycmF5TGlzdCA8ID4gKCk7DQogIHByaXZhdGUgTGlzdCA8IERCQ29udGFpbmVyID4gcW1zcnFoTGlzdCA9IG5ldyBBcnJheUxpc3QgPCA+ICgpOw0KDQogIC8qKg0KICAgKiBNYWluIG1ldGhvZCB0byBleGVjdXRlIHRoZSBsaXN0IGRhdGEgb3BlcmF0aW9uLg0KICAgKiBUaGlzIG1ldGhvZCByZXRyaWV2ZXMgZGF0YSBmcm9tIEVYVDQwMSwgTVNZVFhMLCBhbmQgUU1TUlFIIHRhYmxlcyBiYXNlZCBvbiBzcGVjaWZpYyBjcml0ZXJpYS4NCiAgICovDQogIHB1YmxpYyB2b2lkIG1haW4oKSB7DQogICAgLy8gUmV0cmlldmUgQ09OTyBmcm9tIGlucHV0IG9yIGRlZmF1bHQgdG8gcHJvZ3JhbSdzIENPTk8NCiAgICBpQ09OTyA9IG1pLmluLmdldCgiQ09OTyIpLnRvU3RyaW5nKCkgPT0gbnVsbCA/IHByb2dyYW0uTERBWkQuQ09OTyA6IG1pLmluLmdldCgiQ09OTyIpLnRvU3RyaW5nKCkudHJpbSgpOw0KDQogICAgLy8gR2V0IGN1cnJlbnQgZGF0ZSBhbmQgeWVzdGVyZGF5J3MgZGF0ZSB1c2luZyB1dGlsaXR5IEFQSQ0KICAgIFN0cmluZyBjdXJyZW50RGF0ZSA9IHV0aWxpdHkuY2FsbCgiRGF0ZVV0aWwiLCAiY3VycmVudERhdGVZOEFzU3RyaW5nIik7DQogICAgU3RyaW5nIHllc3RlcmRheXNEYXRlID0gdXRpbGl0eS5jYWxsKCJEYXRlVXRpbCIsICJtb2RpZnlEYXRlIiwgY3VycmVudERhdGUsICJ5eXl5TU1kZCIsIC0yKTsNCg0KICAgIC8vIENyZWF0ZSBleHByZXNzaW9uIGZvciBmaWx0ZXJpbmcgRVhUNDAxIHJlY29yZHMNCiAgICBFeHByZXNzaW9uRmFjdG9yeSBleHByZXNzaW9uID0gZGF0YWJhc2UuZ2V0RXhwcmVzc2lvbkZhY3RvcnkoIkVYVDQwMSIpOw0KICAgIGV4cHJlc3Npb24gPSBleHByZXNzaW9uLmdlKCJFWExNRFQiLCB5ZXN0ZXJkYXlzRGF0ZSk7DQoNCiAgICAvLyBGZXRjaCByZWNvcmRzIGZyb20gRVhUNDAxIHRhYmxlDQogICAgREJBY3Rpb24gYWN0aW9uRVhUNDAxID0gZGF0YWJhc2UudGFibGUoIkVYVDQwMSIpLmluZGV4KCIwMCIpLm1hdGNoaW5nKGV4cHJlc3Npb24pLnNlbGVjdEFsbEZpZWxkcygpLmJ1aWxkKCk7DQogICAgREJDb250YWluZXIgY29udGFpbmVyRVhUNDAxID0gYWN0aW9uRVhUNDAxLmdldENvbnRhaW5lcigpOw0KDQogICAgLy8gU2V0IENPTk8gaW4gRVhUNDAxIGNvbnRhaW5lcg0KICAgIGNvbnRhaW5lckVYVDQwMS5zZXRJbnQoIkVYQ09OTyIsIHByb2dyYW0uTERBWkQuQ09OTyBhcyBpbnQpOw0KDQogICAgLy8gQ2xvc3VyZSB0byBwcm9jZXNzIGFsbCByZWNvcmRzIGZldGNoZWQgZnJvbSBFWFQ0MDENCiAgICBDbG9zdXJlIDwgPyA+IHJlYWRBbGxSZWNvcmRzRVhUNDAxID0gew0KICAgICAgREJDb250YWluZXIgcmVzdWx0Q29udGFpbmVyIC0+DQogICAgICAvLyBFeHRyYWN0IG5lY2Vzc2FyeSBmaWVsZHMgZnJvbSBFWFQ0MDENCiAgICAgIFN0cmluZyBJVE5PID0gcmVzdWx0Q29udGFpbmVyLmdldCgiRVhJVE5PIikudG9TdHJpbmcoKS50cmltKCk7DQogICAgICBTdHJpbmcgU0JBTiA9IHJlc3VsdENvbnRhaW5lci5nZXQoIkVYU0JBTiIpLnRvU3RyaW5nKCkudHJpbSgpOw0KDQogICAgICAvLyBJbml0aWFsaXplIHZhcmlhYmxlcyBmb3IgSE9MRCBhbmQgRElTUA0KICAgICAgU3RyaW5nIEZBQ0kgPSAiIiwNCiAgICAgIFRYSUQgPSAiMCIsDQogICAgICBIT0xEID0gIiIsDQogICAgICBESVNQID0gIiI7DQoNCiAgICAgIC8vIFNldCBmaWVsZHMgaW4gbWkub3V0RGF0YSBmb3Igb3V0cHV0DQogICAgICBtaS5vdXREYXRhLnB1dCgiQ09OTyIsIHJlc3VsdENvbnRhaW5lci5nZXQoIkVYQ09OTyIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCiAgICAgIG1pLm91dERhdGEucHV0KCJXSExPIiwgcmVzdWx0Q29udGFpbmVyLmdldCgiRVhXSExPIikudG9TdHJpbmcoKS50cmltKCkpOw0KICAgICAgbWkub3V0RGF0YS5wdXQoIklUTk8iLCBJVE5PKTsNCiAgICAgIG1pLm91dERhdGEucHV0KCJTQkFOIiwgU0JBTik7DQogICAgICBtaS5vdXREYXRhLnB1dCgiQ0FNVSIsIHJlc3VsdENvbnRhaW5lci5nZXQoIkVYQ0FNVSIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCiAgICAgIG1pLm91dERhdGEucHV0KCJXSFNMIiwgcmVzdWx0Q29udGFpbmVyLmdldCgiRVhXSFNMIikudG9TdHJpbmcoKS50cmltKCkpOw0KICAgICAgbWkub3V0RGF0YS5wdXQoIlBCQU4iLCByZXN1bHRDb250YWluZXIuZ2V0KCJFWFBCQU4iKS50b1N0cmluZygpLnRyaW0oKSk7DQogICAgICBtaS5vdXREYXRhLnB1dCgiQ0xWTCIsIHJlc3VsdENvbnRhaW5lci5nZXQoIkVYQ0xWTCIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCiAgICAgIG1pLm91dERhdGEucHV0KCJCQU5PIiwgcmVzdWx0Q29udGFpbmVyLmdldCgiRVhCQU5PIikudG9TdHJpbmcoKS50cmltKCkpOw0KICAgICAgbWkub3V0RGF0YS5wdXQoIlNUQVMiLCByZXN1bHRDb250YWluZXIuZ2V0KCJFWFNUQVMiKS50b1N0cmluZygpLnRyaW0oKSk7DQogICAgICBtaS5vdXREYXRhLnB1dCgiSFRBRyIsIHJlc3VsdENvbnRhaW5lci5nZXQoIkVYSFRBRyIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCiAgICAgIG1pLm91dERhdGEucHV0KCJEVEFHIiwgcmVzdWx0Q29udGFpbmVyLmdldCgiRVhEVEFHIikudG9TdHJpbmcoKS50cmltKCkpOw0KICAgICAgbWkub3V0RGF0YS5wdXQoIlJTQ0QiLCByZXN1bHRDb250YWluZXIuZ2V0KCJFWFJTQ0QiKS50b1N0cmluZygpLnRyaW0oKSk7DQogICAgICBtaS5vdXREYXRhLnB1dCgiUkdEVCIsIHJlc3VsdENvbnRhaW5lci5nZXQoIkVYUkdEVCIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCiAgICAgIG1pLm91dERhdGEucHV0KCJSR1RNIiwgcmVzdWx0Q29udGFpbmVyLmdldCgiRVhSR1RNIikudG9TdHJpbmcoKS50cmltKCkpOw0KICAgICAgbWkub3V0RGF0YS5wdXQoIkxNRFQiLCByZXN1bHRDb250YWluZXIuZ2V0KCJFWExNRFQiKS50b1N0cmluZygpLnRyaW0oKSk7DQogICAgICBtaS5vdXREYXRhLnB1dCgiQ0hOTyIsIHJlc3VsdENvbnRhaW5lci5nZXQoIkVYQ0hOTyIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCiAgICAgIG1pLm91dERhdGEucHV0KCJDSElEIiwgcmVzdWx0Q29udGFpbmVyLmdldCgiRVhDSElEIikudG9TdHJpbmcoKS50cmltKCkpOw0KICAgICAgbWkub3V0RGF0YS5wdXQoIkxXSEwiLCByZXN1bHRDb250YWluZXIuZ2V0KCJFWExXSEwiKS50b1N0cmluZygpLnRyaW0oKSk7DQogICAgICBtaS5vdXREYXRhLnB1dCgiTFdIUyIsIHJlc3VsdENvbnRhaW5lci5nZXQoIkVYTFdIUyIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCiAgICAgIG1pLm91dERhdGEucHV0KCJDV0hMIiwgcmVzdWx0Q29udGFpbmVyLmdldCgiRVhDV0hMIikudG9TdHJpbmcoKS50cmltKCkpOw0KICAgICAgbWkub3V0RGF0YS5wdXQoIkNXSFMiLCByZXN1bHRDb250YWluZXIuZ2V0KCJFWENXSFMiKS50b1N0cmluZygpLnRyaW0oKSk7DQogICAgICBtaS5vdXREYXRhLnB1dCgiTFNUUSIsIHJlc3VsdENvbnRhaW5lci5nZXQoIkVYTFNUUSIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCg0KICAgICAgLy8gRmluZCBtYXRjaGluZyByZWNvcmQgaW4gbWlsb21hTGlzdA0KICAgICAgREJDb250YWluZXIgY29udGFpbmVyTUlMT01BID0gbWlsb21hTGlzdC5maW5kIHsNCiAgICAgICAgaXQuZ2V0U3RyaW5nKCJMTUlUTk8iKSA9PSBJVE5PICYmIGl0LmdldFN0cmluZygiTE1CQU5PIikgPT0gU0JBTg0KICAgICAgfTsNCg0KICAgICAgLy8gSWYgbm90IGZvdW5kLCByZWFkIHJlY29yZCBmcm9tIE1JTE9NQSB0YWJsZQ0KICAgICAgaWYgKGNvbnRhaW5lck1JTE9NQSA9PSBudWxsKSB7DQogICAgICAgIERCQWN0aW9uIGFjdGlvbk1JTE9NQSA9IGRhdGFiYXNlLnRhYmxlKCJNSUxPTUEiKS5pbmRleCgiMDAiKS5zZWxlY3Rpb24oIkxNVFhJRCIsICJMTUZBQ0kiKS5idWlsZCgpOw0KICAgICAgICBjb250YWluZXJNSUxPTUEgPSBhY3Rpb25NSUxPTUEuZ2V0Q29udGFpbmVyKCk7DQoNCiAgICAgICAgY29udGFpbmVyTUlMT01BLnNldEludCgiTE1DT05PIiwgcHJvZ3JhbS5MREFaRC5DT05PIGFzIGludCk7DQogICAgICAgIGNvbnRhaW5lck1JTE9NQS5zZXQoIkxNSVROTyIsIHJlc3VsdENvbnRhaW5lci5nZXQoIkVYSVROTyIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCiAgICAgICAgY29udGFpbmVyTUlMT01BLnNldCgiTE1CQU5PIiwgcmVzdWx0Q29udGFpbmVyLmdldCgiRVhTQkFOIikudG9TdHJpbmcoKS50cmltKCkpOw0KDQogICAgICAgIC8vIElmIHJlY29yZCBleGlzdHMsIGFkZCB0byBtaWxvbWFMaXN0IGFuZCBzZXQgRkFDSSBhbmQgVFhJRA0KICAgICAgICBpZiAoYWN0aW9uTUlMT01BLnJlYWQoY29udGFpbmVyTUlMT01BKSkgew0KICAgICAgICAgIG1pbG9tYUxpc3QuYWRkKGNvbnRhaW5lck1JTE9NQS5jcmVhdGVDb3B5KCkpOw0KICAgICAgICAgIEZBQ0kgPSBjb250YWluZXJNSUxPTUEuZ2V0KCJMTUZBQ0kiKS50b1N0cmluZygpLnRyaW0oKTsNCiAgICAgICAgICBUWElEID0gY29udGFpbmVyTUlMT01BLmdldCgiTE1UWElEIikudG9TdHJpbmcoKS50cmltKCk7DQogICAgICAgIH0NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIC8vIElmIGFscmVhZHkgZXhpc3RzLCBmZXRjaCBGQUNJIGFuZCBUWElEDQogICAgICAgIEZBQ0kgPSBjb250YWluZXJNSUxPTUEuZ2V0KCJMTUZBQ0kiKS50b1N0cmluZygpLnRyaW0oKTsNCiAgICAgICAgVFhJRCA9IGNvbnRhaW5lck1JTE9NQS5nZXQoIkxNVFhJRCIpLnRvU3RyaW5nKCkudHJpbSgpOw0KICAgICAgfQ0KDQogICAgICAvLyBGaW5kIGFsbCBNU1lUWEwgcmVjb3JkcyBmb3IgSE9MRA0KICAgICAgTGlzdCA8IERCQ29udGFpbmVyID4gY29udGFpbmVyTVNZVFhMTGlzdCA9IG1zeXR4bExpc3QuZmluZEFsbCB7DQogICAgICAgIGl0LmdldExvbmcoIlRMVFhJRCIpID09IFRYSUQgYXMgbG9uZyAmJiBpdC5nZXRTdHJpbmcoIlRMVFhWUiIpID09ICJIT0xEIg0KICAgICAgfTsNCg0KICAgICAgLy8gSWYgbm8gcmVjb3JkcyBmb3VuZCwgZmV0Y2ggZnJvbSBNU1lUWEwgdGFibGUNCiAgICAgIGlmIChjb250YWluZXJNU1lUWExMaXN0LnNpemUoKSA9PSAwKSB7DQogICAgICAgIEV4cHJlc3Npb25GYWN0b3J5IGV4cHJlc3Npb25NU1lUWEwgPSBkYXRhYmFzZS5nZXRFeHByZXNzaW9uRmFjdG9yeSgiTVNZVFhMIik7DQogICAgICAgIGV4cHJlc3Npb25NU1lUWEwgPSBleHByZXNzaW9uTVNZVFhMLmJldHdlZW4oIlRMTElOTyIsICIxIiwgIjIiKTsNCg0KICAgICAgICBEQkFjdGlvbiBhY3Rpb25NU1lUWEwgPSBkYXRhYmFzZS50YWJsZSgiTVNZVFhMIikuaW5kZXgoIjAwIikubWF0Y2hpbmcoZXhwcmVzc2lvbk1TWVRYTCkuc2VsZWN0aW9uKCJUTFRYNjAiKS5idWlsZCgpOw0KICAgICAgICBEQkNvbnRhaW5lciBjb250YWluZXJNU1lUWEwgPSBhY3Rpb25NU1lUWEwuZ2V0Q29udGFpbmVyKCk7DQoNCiAgICAgICAgY29udGFpbmVyTVNZVFhMLnNldEludCgiVExDT05PIiwgcHJvZ3JhbS5MREFaRC5DT05PIGFzIGludCk7DQogICAgICAgIGNvbnRhaW5lck1TWVRYTC5zZXQoIlRMRElWSSIsICIiKTsNCiAgICAgICAgY29udGFpbmVyTVNZVFhMLnNldCgiVExUWElEIiwgVFhJRCBhcyBsb25nKTsNCiAgICAgICAgY29udGFpbmVyTVNZVFhMLnNldCgiVExUWFZSIiwgIkhPTEQiKTsNCiAgICAgICAgY29udGFpbmVyTVNZVFhMLnNldCgiVExMTkNEIiwgIiIpOw0KDQogICAgICAgIC8vIENsb3N1cmUgdG8gcHJvY2VzcyBhbGwgcmVjb3JkcyBmZXRjaGVkIGZyb20gTVNZVFhMDQogICAgICAgIENsb3N1cmUgPCA/ID4gcmVhZEFsbFJlY29yZHNNU1lUWEwgPSB7DQogICAgICAgICAgREJDb250YWluZXIgcmVzdWx0Q29udGFpbmVyTVNZVFhMIC0+DQogICAgICAgICAgbXN5dHhsTGlzdC5hZGQocmVzdWx0Q29udGFpbmVyTVNZVFhMLmNyZWF0ZUNvcHkoKSk7DQogICAgICAgICAgSE9MRCA9IEhPTEQgKyByZXN1bHRDb250YWluZXJNU1lUWEwuZ2V0KCJUTFRYNjAiKS50b1N0cmluZygpLnRyaW0oKTsNCiAgICAgICAgfTsNCg0KICAgICAgICBhY3Rpb25NU1lUWEwucmVhZEFsbChjb250YWluZXJNU1lUWEwsIDUsIDIsIHJlYWRBbGxSZWNvcmRzTVNZVFhMKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIC8vIElmIHJlY29yZHMgZm91bmQsIHNvcnQgYW5kIGNvbmNhdGVuYXRlIFRMVFg2MCB2YWx1ZXMgdG8gSE9MRA0KICAgICAgICBjb250YWluZXJNU1lUWExMaXN0ID0gY29udGFpbmVyTVNZVFhMTGlzdC5zb3J0IHsNCiAgICAgICAgICBpdC5nZXRJbnQoIlRMTElOTyIpOw0KICAgICAgICB9Ow0KICAgICAgICBmb3IgKERCQ29udGFpbmVyIGNvbnRhaW5lck1TWVRYTDogY29udGFpbmVyTVNZVFhMTGlzdCkgew0KICAgICAgICAgIEhPTEQgPSBIT0xEICsgY29udGFpbmVyTVNZVFhMLmdldCgiVExUWDYwIikudG9TdHJpbmcoKS50cmltKCk7DQogICAgICAgIH0NCiAgICAgIH0NCg0KICAgICAgLy8gRmluZCBhbGwgTVNZVFhMIHJlY29yZHMgZm9yIERJU1ANCiAgICAgIGNvbnRhaW5lck1TWVRYTExpc3QgPSBtc3l0eGxMaXN0LmZpbmRBbGwgew0KICAgICAgICBpdC5nZXRMb25nKCJUTFRYSUQiKSA9PSBUWElEIGFzIGxvbmcgJiYgaXQuZ2V0U3RyaW5nKCJUTFRYVlIiKSA9PSAiRElTUCINCiAgICAgIH07DQoNCiAgICAgIC8vIElmIG5vIHJlY29yZHMgZm91bmQsIGZldGNoIGZyb20gTVNZVFhMIHRhYmxlDQogICAgICBpZiAoY29udGFpbmVyTVNZVFhMTGlzdC5zaXplKCkgPT0gMCkgew0KICAgICAgICBFeHByZXNzaW9uRmFjdG9yeSBleHByZXNzaW9uTVNZVFhMID0gZGF0YWJhc2UuZ2V0RXhwcmVzc2lvbkZhY3RvcnkoIk1TWVRYTCIpOw0KICAgICAgICBleHByZXNzaW9uTVNZVFhMID0gZXhwcmVzc2lvbk1TWVRYTC5iZXR3ZWVuKCJUTExJTk8iLCAiMSIsICIyIik7DQoNCiAgICAgICAgREJBY3Rpb24gYWN0aW9uTVNZVFhMID0gZGF0YWJhc2UudGFibGUoIk1TWVRYTCIpLmluZGV4KCIwMCIpLm1hdGNoaW5nKGV4cHJlc3Npb25NU1lUWEwpLnNlbGVjdGlvbigiVExUWDYwIikuYnVpbGQoKTsNCiAgICAgICAgREJDb250YWluZXIgY29udGFpbmVyTVNZVFhMID0gYWN0aW9uTVNZVFhMLmdldENvbnRhaW5lcigpOw0KDQogICAgICAgIGNvbnRhaW5lck1TWVRYTC5zZXRJbnQoIlRMQ09OTyIsIHByb2dyYW0uTERBWkQuQ09OTyBhcyBpbnQpOw0KICAgICAgICBjb250YWluZXJNU1lUWEwuc2V0KCJUTERJVkkiLCAiIik7DQogICAgICAgIGNvbnRhaW5lck1TWVRYTC5zZXQoIlRMVFhJRCIsIFRYSUQgYXMgbG9uZyk7DQogICAgICAgIGNvbnRhaW5lck1TWVRYTC5zZXQoIlRMVFhWUiIsICJESVNQIik7DQogICAgICAgIGNvbnRhaW5lck1TWVRYTC5zZXQoIlRMTE5DRCIsICIiKTsNCg0KICAgICAgICAvLyBDbG9zdXJlIHRvIHByb2Nlc3MgYWxsIHJlY29yZHMgZmV0Y2hlZCBmcm9tIE1TWVRYTA0KICAgICAgICBDbG9zdXJlIDwgPyA+IHJlYWRBbGxSZWNvcmRzTVNZVFhMID0gew0KICAgICAgICAgIERCQ29udGFpbmVyIHJlc3VsdENvbnRhaW5lck1TWVRYTCAtPg0KICAgICAgICAgIG1zeXR4bExpc3QuYWRkKHJlc3VsdENvbnRhaW5lck1TWVRYTC5jcmVhdGVDb3B5KCkpOw0KICAgICAgICAgIERJU1AgPSBESVNQICsgcmVzdWx0Q29udGFpbmVyTVNZVFhMLmdldCgiVExUWDYwIikudG9TdHJpbmcoKS50cmltKCk7DQogICAgICAgIH07DQoNCiAgICAgICAgYWN0aW9uTVNZVFhMLnJlYWRBbGwoY29udGFpbmVyTVNZVFhMLCA1LCAyLCByZWFkQWxsUmVjb3Jkc01TWVRYTCk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICAvLyBJZiByZWNvcmRzIGZvdW5kLCBzb3J0IGFuZCBjb25jYXRlbmF0ZSBUTFRYNjAgdmFsdWVzIHRvIERJU1ANCiAgICAgICAgY29udGFpbmVyTVNZVFhMTGlzdCA9IGNvbnRhaW5lck1TWVRYTExpc3Quc29ydCB7DQogICAgICAgICAgaXQuZ2V0SW50KCJUTExJTk8iKTsNCiAgICAgICAgfTsNCiAgICAgICAgZm9yIChEQkNvbnRhaW5lciBjb250YWluZXJNU1lUWEw6IGNvbnRhaW5lck1TWVRYTExpc3QpIHsNCiAgICAgICAgICBESVNQID0gRElTUCArIGNvbnRhaW5lck1TWVRYTC5nZXQoIlRMVFg2MCIpLnRvU3RyaW5nKCkudHJpbSgpOw0KICAgICAgICB9DQogICAgICB9DQoNCiAgICAgIC8vIFNldCBIT0xELCBESVNQLCBhbmQgVFhJRCBpbiBtaS5vdXREYXRhDQogICAgICBtaS5vdXREYXRhLnB1dCgiSE9MRCIsIEhPTEQpOw0KICAgICAgbWkub3V0RGF0YS5wdXQoIkRJU1AiLCBESVNQKTsNCiAgICAgIG1pLm91dERhdGEucHV0KCJUWElEIiwgVFhJRCk7DQogICAgICBtaS5vdXREYXRhLnB1dCgiRk9UWCIsIGdldE1TWVRYTFRleHQoVFhJRCwgIkZPIiwgIkZPIElEICM6JSIpKTsNCiAgICAgIG1pLm91dERhdGEucHV0KCJDT1RYIiwgZ2V0TVNZVFhMVGV4dChUWElELCAiRk8iLCAiIyBDb250YW1pbmFudHM6JSIpKTsNCiAgICAgIG1pLm91dERhdGEucHV0KCJSRVRYIiwgZ2V0TVNZVFhMVGV4dChUWElELCAiUkVDQUxMIiwgIlJFQ0FMTCBEQVRFL0lEIDolIikpOw0KICAgICAgbWkub3V0RGF0YS5wdXQoIlNDVFgiLCBnZXRNU1lUWExUZXh0KFRYSUQsICJRQ0xBSU0iLCAiU0NBUiAjOiIpKTsNCiAgICAgIG1pLm91dERhdGEucHV0KCJDTFRYIiwgZ2V0TVNZVFhMVGV4dChUWElELCAiUUNMQUlNIiwgIkNMQUlNICM6JSIpKTsNCg0KICAgICAgLy8gRmluZCBtYXRjaGluZyByZWNvcmQgaW4gUU1TUlFIIGxpc3QNCiAgICAgIERCQ29udGFpbmVyIGNvbnRhaW5lclFNU1JRSCA9IHFtc3JxaExpc3QuZmluZCB7DQogICAgICAgIGl0LmdldFN0cmluZygiUkhJVE5PIikgPT0gSVROTyAmJiBpdC5nZXRTdHJpbmcoIlJIQkFOTyIpID09IFNCQU4gJiYgaXQuZ2V0SW50KCJSSFFTVEEiKSBpbiBbMSwgMiwgM10NCiAgICAgIH07DQoNCiAgICAgIC8vIElmIG5vdCBmb3VuZCwgcmVhZCByZWNvcmQgZnJvbSBRTVNSUUggdGFibGUNCiAgICAgIGlmIChjb250YWluZXJRTVNSUUggPT0gbnVsbCkgew0KICAgICAgICBFeHByZXNzaW9uRmFjdG9yeSBleHByZXNzaW9uUU1TUlFIID0gZGF0YWJhc2UuZ2V0RXhwcmVzc2lvbkZhY3RvcnkoIlFNU1JRSCIpDQogICAgICAgIGV4cHJlc3Npb25RTVNSUUggPSBleHByZXNzaW9uUU1TUlFILmJldHdlZW4oIlJIUVNUQSIsICIxIiwgIjMiKQ0KICAgICAgICANCiAgICAgICAgREJBY3Rpb24gYWN0aW9uUU1TUlFIID0gZGF0YWJhc2UudGFibGUoIlFNU1JRSCIpLmluZGV4KCIzMCIpLm1hdGNoaW5nKGV4cHJlc3Npb25RTVNSUUgpLnNlbGVjdGlvbigiUkhRUklEIiwgIlJIUUFQUiIsICJSSFFJVVMiKS5idWlsZCgpOw0KICAgICAgICBjb250YWluZXJRTVNSUUggPSBhY3Rpb25RTVNSUUguZ2V0Q29udGFpbmVyKCk7DQoNCiAgICAgICAgY29udGFpbmVyUU1TUlFILnNldEludCgiUkhDT05PIiwgcHJvZ3JhbS5MREFaRC5DT05PIGFzIGludCk7DQogICAgICAgIGNvbnRhaW5lclFNU1JRSC5zZXQoIlJISVROTyIsIElUTk8pOw0KICAgICAgICBjb250YWluZXJRTVNSUUguc2V0KCJSSEJBTk8iLCBTQkFOKTsNCg0KICAgICAgICAvLyBDbG9zdXJlIHRvIHByb2Nlc3MgYWxsIHJlY29yZHMgZmV0Y2hlZCBmcm9tIFFNU1JRSA0KICAgICAgICBDbG9zdXJlIDwgPyA+IHJlYWRBbGxSZWNvcmRzUU1TUlFIID0gew0KICAgICAgICAgIERCQ29udGFpbmVyIHJlc3VsdENvbnRhaW5lclFNU1JRSCAtPg0KICAgICAgICAgIHFtc3JxaExpc3QuYWRkKHJlc3VsdENvbnRhaW5lclFNU1JRSC5jcmVhdGVDb3B5KCkpOw0KDQogICAgICAgICAgbWkub3V0RGF0YS5wdXQoIlFSSUQiLCByZXN1bHRDb250YWluZXJRTVNSUUguZ2V0KCJSSFFSSUQiKS50b1N0cmluZygpLnRyaW0oKSk7DQogICAgICAgICAgbWkub3V0RGF0YS5wdXQoIlFBUFIiLCByZXN1bHRDb250YWluZXJRTVNSUUguZ2V0KCJSSFFBUFIiKS50b1N0cmluZygpLnRyaW0oKSk7DQogICAgICAgICAgbWkub3V0RGF0YS5wdXQoIlFJVVMiLCByZXN1bHRDb250YWluZXJRTVNSUUguZ2V0KCJSSFFJVVMiKS50b1N0cmluZygpLnRyaW0oKSk7DQogICAgICAgIH07DQoNCiAgICAgICAgYWN0aW9uUU1TUlFILnJlYWRBbGwoY29udGFpbmVyUU1TUlFILCAzLCAxLCByZWFkQWxsUmVjb3Jkc1FNU1JRSCk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICAvLyBJZiByZWNvcmQgZm91bmQsIHNldCBUWElELCBRUklELCBRQVBSLCBhbmQgUUlVUyBpbiBtaS5vdXREYXRhDQogICAgICAgIG1pLm91dERhdGEucHV0KCJUWElEIiwgVFhJRCk7DQogICAgICAgIG1pLm91dERhdGEucHV0KCJRUklEIiwgY29udGFpbmVyUU1TUlFILmdldCgiUkhRUklEIikudG9TdHJpbmcoKS50cmltKCkpOw0KICAgICAgICBtaS5vdXREYXRhLnB1dCgiUUFQUiIsIGNvbnRhaW5lclFNU1JRSC5nZXQoIlJIUUFQUiIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCiAgICAgICAgbWkub3V0RGF0YS5wdXQoIlFJVVMiLCBjb250YWluZXJRTVNSUUguZ2V0KCJSSFFJVVMiKS50b1N0cmluZygpLnRyaW0oKSk7DQogICAgICB9DQoNCiAgICAgIC8vIFdyaXRlIG91dHB1dCBkYXRhIHVzaW5nIG1pIEFQSQ0KICAgICAgbWkud3JpdGUoKTsNCiAgICB9Ow0KDQogICAgLy8gUmVhZCBhbGwgcmVjb3JkcyBmcm9tIEVYVDQwMSB1c2luZyB0aGUgZGVmaW5lZCBjb250YWluZXIgYW5kIGNsb3N1cmUNCiAgICBhY3Rpb25FWFQ0MDEucmVhZEFsbChjb250YWluZXJFWFQ0MDEsIDEsIDEwMDAwLCByZWFkQWxsUmVjb3Jkc0VYVDQwMSk7DQogIH0NCg0KICAvKioNCiAgICogUmV0cmlldmVzIHRoZSAiVExUWDYwIiB2YWx1ZSBiYXNlZCBvbiB0aGUgZ2l2ZW4gdGV4dCBJRCwgdmFyaWFudCwgYW5kIGV4cHJlc3Npb24uDQogICAqIDxwPg0KICAgKiBDaGVja3MgdGhlIGluLW1lbW9yeSBsaXN0IGZvciBhIG1hdGNoLiBJZiBub3QgZm91bmQsIHF1ZXJpZXMgdGhlICJNU1lUWEwiIHRhYmxlDQogICAqIGFuZCB1cGRhdGVzIHRoZSBsaXN0IHdpdGggbmV3IHJlY29yZHMgYmVmb3JlIHJldHVybmluZyB0aGUgdmFsdWUuDQogICAqIDwvcD4NCiAgICoNCiAgICogQHBhcmFtIHRleHRJRCBUaGUgSUQgb2YgdGhlIHRleHQgZW50cnkuDQogICAqIEBwYXJhbSB0ZXh0VmFyaWFudCBUaGUgdmFyaWFudCBvZiB0aGUgdGV4dCBlbnRyeS4NCiAgICogQHBhcmFtIFRYNjBFeHByZXNzaW9uIEV4cHJlc3Npb24gdG8gbWF0Y2ggYWdhaW5zdCAiVExUWDYwIiwgd2l0aCAiJSIgYXMgYSB3aWxkY2FyZC4NCiAgICogQHJldHVybiBUaGUgIlRMVFg2MCIgdmFsdWUgZnJvbSB0aGUgbWF0Y2hlZCByZWNvcmQsIG9yIGFuIGVtcHR5IHN0cmluZyBpZiBub3QgZm91bmQuDQogICAqLw0KICBwcml2YXRlIFN0cmluZyBnZXRNU1lUWExUZXh0KFN0cmluZyB0ZXh0SUQsIFN0cmluZyB0ZXh0VmFyaWFudCwgU3RyaW5nIFRYNjBFeHByZXNzaW9uKSB7DQogICAgU3RyaW5nIFRYNjAgPSAiIjsNCg0KICAgIERCQ29udGFpbmVyIGNvbnRhaW5lck1TWVRYTCA9IG1zeXR4bExpc3QuZmluZCB7DQogICAgICBpdC5nZXRMb25nKCJUTFRYSUQiKSA9PSB0ZXh0SUQgYXMgbG9uZyAmJiBpdC5nZXRTdHJpbmcoIlRMVFhWUiIpID09IHRleHRWYXJpYW50ICYmIGl0LmdldFN0cmluZygiVExUWDYwIikuY29udGFpbnMoVFg2MEV4cHJlc3Npb24ucmVwbGFjZSgiJSIsICIiKSkNCiAgICB9Ow0KDQogICAgLy8gSWYgbm8gcmVjb3JkcyBmb3VuZCwgZmV0Y2ggZnJvbSBNU1lUWEwgdGFibGUNCiAgICBpZiAoY29udGFpbmVyTVNZVFhMID09IG51bGwpIHsNCiAgICAgIEV4cHJlc3Npb25GYWN0b3J5IGV4cHJlc3Npb25NU1lUWEwgPSBkYXRhYmFzZS5nZXRFeHByZXNzaW9uRmFjdG9yeSgiTVNZVFhMIik7DQogICAgICBleHByZXNzaW9uTVNZVFhMID0gZXhwcmVzc2lvbk1TWVRYTC5saWtlKCJUTFRYNjAiLCBUWDYwRXhwcmVzc2lvbik7DQoNCiAgICAgIERCQWN0aW9uIGFjdGlvbk1TWVRYTCA9IGRhdGFiYXNlLnRhYmxlKCJNU1lUWEwiKS5pbmRleCgiMDAiKS5tYXRjaGluZyhleHByZXNzaW9uTVNZVFhMKS5zZWxlY3Rpb24oIlRMVFg2MCIpLmJ1aWxkKCk7DQogICAgICBjb250YWluZXJNU1lUWEwgPSBhY3Rpb25NU1lUWEwuZ2V0Q29udGFpbmVyKCk7DQoNCiAgICAgIGNvbnRhaW5lck1TWVRYTC5zZXRJbnQoIlRMQ09OTyIsIHByb2dyYW0uTERBWkQuQ09OTyBhcyBpbnQpOw0KICAgICAgY29udGFpbmVyTVNZVFhMLnNldCgiVExESVZJIiwgIiIpOw0KICAgICAgY29udGFpbmVyTVNZVFhMLnNldCgiVExUWElEIiwgdGV4dElEIGFzIGxvbmcpOw0KICAgICAgY29udGFpbmVyTVNZVFhMLnNldCgiVExUWFZSIiwgdGV4dFZhcmlhbnQpOw0KICAgICAgY29udGFpbmVyTVNZVFhMLnNldCgiVExMTkNEIiwgIiIpOw0KDQogICAgICAvLyBDbG9zdXJlIHRvIHByb2Nlc3MgYWxsIHJlY29yZHMgZmV0Y2hlZCBmcm9tIE1TWVRYTA0KICAgICAgQ2xvc3VyZSA8ID8gPiByZWFkQWxsUmVjb3Jkc01TWVRYTCA9IHsNCiAgICAgICAgREJDb250YWluZXIgcmVzdWx0Q29udGFpbmVyTVNZVFhMIC0+DQogICAgICAgIG1zeXR4bExpc3QuYWRkKHJlc3VsdENvbnRhaW5lck1TWVRYTC5jcmVhdGVDb3B5KCkpOw0KICAgICAgICBUWDYwID0gcmVzdWx0Q29udGFpbmVyTVNZVFhMLmdldFN0cmluZygiVExUWDYwIik7DQogICAgICB9Ow0KDQogICAgICBhY3Rpb25NU1lUWEwucmVhZEFsbChjb250YWluZXJNU1lUWEwsIDUsIDEsIHJlYWRBbGxSZWNvcmRzTVNZVFhMKTsNCiAgICB9IGVsc2Ugew0KICAgICAgLy8gSWYgcmVjb3JkcyBmb3VuZCwgcHJpbnQgQ09UWA0KICAgICAgVFg2MCA9IGNvbnRhaW5lck1TWVRYTC5nZXRTdHJpbmcoIlRMVFg2MCIpOw0KICAgIH0NCg0KICAgIHJldHVybiBUWDYwOw0KICB9DQp9"}}}