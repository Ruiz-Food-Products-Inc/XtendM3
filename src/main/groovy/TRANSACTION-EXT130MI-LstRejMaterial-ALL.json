{"programModules":{"EXT130MI":{"program":"EXT130MI","triggers":{},"transactions":{"LstRejMaterial":{"sourceUuid":"dfab5325-be20-4655-862a-ca630cd08334","name":"LstRejMaterial","program":"EXT130MI","description":"List Reject Material","active":true,"multi":true,"modified":1727622893253,"modifiedBy":"900073","outputFields":[{"name":"WHLO","description":"Warehouse","length":3,"mandatory":false,"type":"A"},{"name":"ITNO","description":"Item Number","length":15,"mandatory":false,"type":"A"},{"name":"ITDS","description":"Name","length":60,"mandatory":false,"type":"A"},{"name":"BANO","description":"Lot Number","length":20,"mandatory":false,"type":"A"},{"name":"CAMU","description":"Container","length":20,"mandatory":false,"type":"A"},{"name":"WHSL","description":"Location","length":10,"mandatory":false,"type":"A"},{"name":"STQT","description":"On-Hand Approve","length":17,"mandatory":false,"type":"N"},{"name":"ALQT","description":"Allocated Qty","length":17,"mandatory":false,"type":"N"},{"name":"STAS","description":"Status Bal Id","length":1,"mandatory":false,"type":"A"},{"name":"EXPI","description":"Expiration Date","length":10,"mandatory":false,"type":"N"},{"name":"BREM","description":"Remark","length":20,"mandatory":false,"type":"A"},{"name":"STAT","description":"Status","length":2,"mandatory":false,"type":"A"},{"name":"TXID","description":"Text identity","length":13,"mandatory":false,"type":"N"},{"name":"ALMT","description":"Allocation method","length":1,"mandatory":false,"type":"N"},{"name":"ITTY","description":"Item type","length":3,"mandatory":false,"type":"A"},{"name":"FOTX","description":"FO text","length":60,"mandatory":false,"type":"A"},{"name":"COTX","description":"Contaminants text","length":60,"mandatory":false,"type":"A"},{"name":"RETX","description":"Recall text","length":60,"mandatory":false,"type":"A"},{"name":"SCTX","description":"SCAR text","length":60,"mandatory":false,"type":"A"},{"name":"CLTX","description":"Claim text","length":60,"mandatory":false,"type":"A"}],"inputFields":[{"name":"CONO","description":"company","length":3,"mandatory":true,"type":"A"},{"name":"HOUR","description":"Hours","length":2,"mandatory":true,"type":"N"}],"utilities":["DateUtil"],"market":"ALL"}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"dfab5325-be20-4655-862a-ca630cd08334":{"uuid":"dfab5325-be20-4655-862a-ca630cd08334","updated":1727295479277,"updatedBy":"900073","created":1727622859972,"createdBy":"900073","apiVersion":"UNKNOWN","beVersion":"16.0.0.20240717001700.11","language":"GROOVY","codeHash":"452AD13FC6070CC39D18726365AC34A8EA51FFBBFE7BDE0055B113CF9B1AB62A","code":"LyoqDQogKiBSRUFETUUNCiAqIExzdFJlak1hdGVyaWFsIGNsYXNzIGV4dGVuZHMgRXh0ZW5kTTNUcmFuc2FjdGlvbiBhbmQgbGlzdHMgZGF0YSBmb3IgdGhlIFJlamVjdE1hdGVyaWFsIHBhbmVsLg0KICoNCiAqDQogKiBOYW1lOiBFWFQxMzBNSS5Mc3RSZWpNYXRlcmlhbA0KICogRGVzY3JpcHRpb246IExpc3QgZGF0YSBmb3IgdGhlIHJlamVjdCBtYXRlcmlhbCBwYW5lbA0KICogRGF0ZQkgICAgICBDaGFuZ2VkIEJ5ICAgIERlc2NyaXB0aW9uDQogKiAyMDI0MDgwMQkgIEFKQVlZICAgICAgICAgTHN0UmVqTWF0ZXJpYWwgY2xhc3MgZXh0ZW5kcyBFeHRlbmRNM1RyYW5zYWN0aW9uIGFuZCBsaXN0cyBkYXRhIGZvciB0aGUgUmVqZWN0TWF0ZXJpYWwgcGFuZWwuDQogKiAyMDI0MDkxMCAgIEFKQVlZICAgICAgICAgQWRkZWQgSE9VUiBpbnB1dCBmaWVsZA0KICogMjAyNDA5MTcgICBBSkFZWSAgICAgICAgIENoYW5nZWQgTUlMT01BIHRvIGJlIHJlYWQgd2l0aCBiYXNlIGxvdA0KICoqLw0KDQpwdWJsaWMgY2xhc3MgTHN0UmVqTWF0ZXJpYWwgZXh0ZW5kcyBFeHRlbmRNM1RyYW5zYWN0aW9uIHsNCiAgcHJpdmF0ZSBmaW5hbCBNSUFQSSBtaTsNCiAgcHJpdmF0ZSBmaW5hbCBEYXRhYmFzZUFQSSBkYXRhYmFzZTsNCiAgcHJpdmF0ZSBmaW5hbCBQcm9ncmFtQVBJIHByb2dyYW07DQogIHByaXZhdGUgZmluYWwgVXRpbGl0eUFQSSB1dGlsaXR5Ow0KDQogIHByaXZhdGUgU3RyaW5nIGlDT05POyAvLyBDb21wYW55IG51bWJlcg0KICBwcml2YXRlIFN0cmluZyBpSE9VUjsNCiAgcHJpdmF0ZSBMaXN0IDwgREJDb250YWluZXIgPiBtaWxvbWFMaXN0ID0gbmV3IEFycmF5TGlzdCA8ID4gKCk7IC8vIExpc3Qgb2YgY29udGFpbmVycyBmcm9tIE1JTE9NQSB0YWJsZQ0KICBwcml2YXRlIExpc3QgPCBEQkNvbnRhaW5lciA+IG1pdG1hc0xpc3QgPSBuZXcgQXJyYXlMaXN0IDwgPiAoKTsgLy8gTGlzdCBvZiBjb250YWluZXJzIGZyb20gTUlUTUFTIHRhYmxlDQogIHByaXZhdGUgTGlzdCA8IERCQ29udGFpbmVyID4gbWl0YmFsTGlzdCA9IG5ldyBBcnJheUxpc3QgPCA+ICgpOyAvLyBMaXN0IG9mIGNvbnRhaW5lcnMgZnJvbSBNSVRCQUwgdGFibGUNCiAgcHJpdmF0ZSBMaXN0IDwgREJDb250YWluZXIgPiBtc3l0eGxMaXN0ID0gbmV3IEFycmF5TGlzdCA8ID4gKCk7IC8vIExpc3Qgb2YgY29udGFpbmVycyBmcm9tIE1TWVRYTCB0YWJsZQ0KDQogIC8qKg0KICAgKiBDb25zdHJ1Y3RvciBmb3IgTHN0UmVqTWF0ZXJpYWwgY2xhc3MuDQogICAqDQogICAqIEBwYXJhbSBtaSAgICAgICBNSUFQSSBvYmplY3QNCiAgICogQHBhcmFtIGRhdGFiYXNlIERhdGFiYXNlQVBJIG9iamVjdA0KICAgKiBAcGFyYW0gcHJvZ3JhbSAgUHJvZ3JhbUFQSSBvYmplY3QNCiAgICogQHBhcmFtIHV0aWxpdHkgIFV0aWxpdHlBUEkgb2JqZWN0DQogICAqLw0KICBwdWJsaWMgTHN0UmVqTWF0ZXJpYWwoTUlBUEkgbWksIERhdGFiYXNlQVBJIGRhdGFiYXNlLCBQcm9ncmFtQVBJIHByb2dyYW0sIFV0aWxpdHlBUEkgdXRpbGl0eSkgew0KICAgIHRoaXMubWkgPSBtaTsNCiAgICB0aGlzLmRhdGFiYXNlID0gZGF0YWJhc2U7DQogICAgdGhpcy5wcm9ncmFtID0gcHJvZ3JhbTsNCiAgICB0aGlzLnV0aWxpdHkgPSB1dGlsaXR5Ow0KICB9DQoNCiAgLyoqDQogICAqIE1haW4gbWV0aG9kIHRoYXQgcGVyZm9ybXMgdGhlIGxpc3Rpbmcgb3BlcmF0aW9uIGZvciBpdGVtcyBvbiBob2xkLg0KICAgKi8NCiAgcHVibGljIHZvaWQgbWFpbigpIHsNCiAgICBpQ09OTyA9IG1pLmluLmdldCgiQ09OTyIpLnRvU3RyaW5nKCkgPT0gbnVsbCA/IHByb2dyYW0uTERBWkQuQ09OTyA6IG1pLmluLmdldCgiQ09OTyIpLnRvU3RyaW5nKCkudHJpbSgpOw0KICAgIGlIT1VSID0gbWkuaW4uZ2V0KCJIT1VSIikudG9TdHJpbmcoKSA9PSBudWxsID8gIjAiIDogbWkuaW4uZ2V0KCJIT1VSIikudG9TdHJpbmcoKS50cmltKCk7DQogICAgDQogICAgaW50IGhvdXJzID0gaUhPVVIudG9Eb3VibGUoKSBhcyBpbnQ7DQogICAgDQogICAgaWYoaG91cnMgPD0gMCB8fCBob3VycyA+PSAyNCkgew0KICAgICAgbWkuZXJyb3IoIkhvdXJzIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAyNCIpOw0KICAgICAgcmV0dXJuOw0KICAgIH0NCg0KICAgIC8vIENhbGN1bGF0ZSBjdXJyZW50IGVwb2NoIHRpbWUgbWludXMgMSBkYXkNCiAgICBsb25nIGN1cnJlbnRFcG9jaE1pbGxpc2Vjb25kcyA9IHV0aWxpdHkuY2FsbCgiRGF0ZVV0aWwiLCAiY3VycmVudEVwb2NoTWlsbGlzZWNvbmRzIikgYXMgbG9uZzsNCiAgICBjdXJyZW50RXBvY2hNaWxsaXNlY29uZHMgPSBjdXJyZW50RXBvY2hNaWxsaXNlY29uZHMgLSAoMSAqIGhvdXJzICogNjAgKiA2MCAqIDEwMDBMKTsNCg0KICAgIC8vIENyZWF0ZSBleHByZXNzaW9uIGZvciBxdWVyeWluZyB0aGUgTUlUTE9DIHRhYmxlIHdpdGggYSB0aW1lc3RhbXAgY29uZGl0aW9uDQogICAgRXhwcmVzc2lvbkZhY3RvcnkgZXhwcmVzc2lvbiA9IGRhdGFiYXNlLmdldEV4cHJlc3Npb25GYWN0b3J5KCJNSVRMT0MiKTsNCiAgICBleHByZXNzaW9uID0gZXhwcmVzc2lvbi5nZSgiTUxMTVRTIiwgTG9uZy50b1N0cmluZyhjdXJyZW50RXBvY2hNaWxsaXNlY29uZHMpKTsNCg0KICAgIC8vIENyZWF0ZSBhY3Rpb24gZm9yIHF1ZXJ5aW5nIE1JVExPQyB0YWJsZQ0KICAgIERCQWN0aW9uIGFjdGlvbk1JVExPQyA9IGRhdGFiYXNlLnRhYmxlKCJNSVRMT0MiKS5pbmRleCgiMDAiKS5tYXRjaGluZyhleHByZXNzaW9uKQ0KICAgICAgLnNlbGVjdGlvbigiTUxXSExPIiwgIk1MSVROTyIsICJNTFdIU0wiLCAiTUxCQU5PIiwgIk1MQ0FNVSIsICJNTFNUUVQiLCAiTUxBTFFUIiwgIk1MQlJFTSIsICJNTFNUQVMiKS5idWlsZCgpOw0KICAgIERCQ29udGFpbmVyIGNvbnRhaW5lck1JVExPQyA9IGFjdGlvbk1JVExPQy5nZXRDb250YWluZXIoKTsNCg0KICAgIGNvbnRhaW5lck1JVExPQy5zZXRJbnQoIk1MQ09OTyIsIGlDT05PIGFzIGludCk7DQoNCiAgICAvLyBDbG9zdXJlIHRvIHByb2Nlc3MgYWxsIHJlY29yZHMgZmV0Y2hlZCBmcm9tIE1JVExPQw0KICAgIENsb3N1cmUgPCA/ID4gcmVhZEFsbFJlY29yZHNNSVRMT0MgPSB7DQogICAgICBEQkNvbnRhaW5lciByZXN1bHRDb250YWluZXJNSVRMT0MgLT4NCiAgICAgIFN0cmluZyBJVE5PID0gcmVzdWx0Q29udGFpbmVyTUlUTE9DLmdldCgiTUxJVE5PIikudG9TdHJpbmcoKS50cmltKCk7DQogICAgICBTdHJpbmcgQkFOTyA9IHJlc3VsdENvbnRhaW5lck1JVExPQy5nZXQoIk1MQkFOTyIpLnRvU3RyaW5nKCkudHJpbSgpOw0KICAgICAgU3RyaW5nIGJhc2VCQU5PID0gQkFOTy5zcGxpdCgiXFx8IilbMF07DQogICAgICBTdHJpbmcgV0hMTyA9IHJlc3VsdENvbnRhaW5lck1JVExPQy5nZXQoIk1MV0hMTyIpLnRvU3RyaW5nKCkudHJpbSgpOw0KDQogICAgICAvLyBTZXQgb3V0cHV0IGRhdGEgdG8gbWkub3V0RGF0YQ0KICAgICAgbWkub3V0RGF0YS5wdXQoIldITE8iLCByZXN1bHRDb250YWluZXJNSVRMT0MuZ2V0KCJNTFdITE8iKS50b1N0cmluZygpLnRyaW0oKSk7DQogICAgICBtaS5vdXREYXRhLnB1dCgiSVROTyIsIElUTk8pOw0KICAgICAgbWkub3V0RGF0YS5wdXQoIldIU0wiLCByZXN1bHRDb250YWluZXJNSVRMT0MuZ2V0KCJNTFdIU0wiKS50b1N0cmluZygpLnRyaW0oKSk7DQogICAgICBtaS5vdXREYXRhLnB1dCgiQkFOTyIsIEJBTk8pOw0KICAgICAgbWkub3V0RGF0YS5wdXQoIkNBTVUiLCByZXN1bHRDb250YWluZXJNSVRMT0MuZ2V0KCJNTENBTVUiKS50b1N0cmluZygpLnRyaW0oKSk7DQogICAgICBtaS5vdXREYXRhLnB1dCgiU1RRVCIsIHJlc3VsdENvbnRhaW5lck1JVExPQy5nZXQoIk1MU1RRVCIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCiAgICAgIG1pLm91dERhdGEucHV0KCJBTFFUIiwgcmVzdWx0Q29udGFpbmVyTUlUTE9DLmdldCgiTUxBTFFUIikudG9TdHJpbmcoKS50cmltKCkpOw0KICAgICAgbWkub3V0RGF0YS5wdXQoIkJSRU0iLCByZXN1bHRDb250YWluZXJNSVRMT0MuZ2V0KCJNTEJSRU0iKS50b1N0cmluZygpLnRyaW0oKSk7DQogICAgICBtaS5vdXREYXRhLnB1dCgiU1RBUyIsIHJlc3VsdENvbnRhaW5lck1JVExPQy5nZXQoIk1MU1RBUyIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCg0KICAgICAgLy8gRmluZCBjb3JyZXNwb25kaW5nIHJlY29yZCBpbiBNSUxPTUEgbGlzdA0KICAgICAgREJDb250YWluZXIgY29udGFpbmVyTUlMT01BID0gbWlsb21hTGlzdC5maW5kIHsNCiAgICAgICAgaXQuZ2V0U3RyaW5nKCJMTUlUTk8iKSA9PSBJVE5PICYmIGl0LmdldFN0cmluZygiTE1CQU5PIikgPT0gYmFzZUJBTk87DQogICAgICB9Ow0KDQogICAgICBsb25nIFRYSUQgPSAwTDsNCg0KICAgICAgaWYgKGNvbnRhaW5lck1JTE9NQSA9PSBudWxsKSB7DQogICAgICAgIC8vIFJlYWQgcmVjb3JkIGZyb20gTUlMT01BIHRhYmxlIGlmIG5vdCBmb3VuZA0KICAgICAgICBEQkFjdGlvbiBhY3Rpb25NSUxPTUEgPSBkYXRhYmFzZS50YWJsZSgiTUlMT01BIikuaW5kZXgoIjAwIikuc2VsZWN0aW9uKCJMTUVYUEkiLCAiTE1UWElEIikuYnVpbGQoKTsNCiAgICAgICAgY29udGFpbmVyTUlMT01BID0gYWN0aW9uTUlMT01BLmdldENvbnRhaW5lcigpOw0KDQogICAgICAgIGNvbnRhaW5lck1JTE9NQS5zZXRJbnQoIkxNQ09OTyIsIGlDT05PIGFzIGludCk7DQogICAgICAgIGNvbnRhaW5lck1JTE9NQS5zZXQoIkxNSVROTyIsIElUTk8pOw0KICAgICAgICBjb250YWluZXJNSUxPTUEuc2V0KCJMTUJBTk8iLCBiYXNlQkFOTyk7DQoNCiAgICAgICAgaWYgKGFjdGlvbk1JTE9NQS5yZWFkKGNvbnRhaW5lck1JTE9NQSkpIHsNCiAgICAgICAgICBtaWxvbWFMaXN0LmFkZChjb250YWluZXJNSUxPTUEuY3JlYXRlQ29weSgpKTsNCiAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiRVhQSSIsIGNvbnRhaW5lck1JTE9NQS5nZXQoIkxNRVhQSSIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCiAgICAgICAgICBUWElEID0gY29udGFpbmVyTUlMT01BLmdldExvbmcoIkxNVFhJRCIpOw0KICAgICAgICAgIG1pLm91dERhdGEucHV0KCJUWElEIiwgVFhJRC50b1N0cmluZygpLnRyaW0oKSk7DQogICAgICAgIH0NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIG1pLm91dERhdGEucHV0KCJFWFBJIiwgY29udGFpbmVyTUlMT01BLmdldCgiTE1FWFBJIikudG9TdHJpbmcoKS50cmltKCkpOw0KICAgICAgICBUWElEID0gY29udGFpbmVyTUlMT01BLmdldExvbmcoIkxNVFhJRCIpOw0KICAgICAgICBtaS5vdXREYXRhLnB1dCgiVFhJRCIsIFRYSUQudG9TdHJpbmcoKS50cmltKCkpOw0KICAgICAgfQ0KDQogICAgICAvLyBGaW5kIGNvcnJlc3BvbmRpbmcgcmVjb3JkIGluIE1JVE1BUyBsaXN0DQogICAgICBEQkNvbnRhaW5lciBjb250YWluZXJNSVRNQVMgPSBtaXRtYXNMaXN0LmZpbmQgew0KICAgICAgICBpdC5nZXRTdHJpbmcoIk1NSVROTyIpID09IElUTk87DQogICAgICB9Ow0KDQogICAgICBpZiAoY29udGFpbmVyTUlUTUFTID09IG51bGwpIHsNCiAgICAgICAgLy8gUmVhZCByZWNvcmQgZnJvbSBNSVRNQVMgdGFibGUgaWYgbm90IGZvdW5kDQogICAgICAgIERCQWN0aW9uIGFjdGlvbk1JVE1BUyA9IGRhdGFiYXNlLnRhYmxlKCJNSVRNQVMiKS5pbmRleCgiMDAiKS5zZWxlY3Rpb24oIk1NSVREUyIsICJNTVNUQVQiLCAiTU1JVFRZIikuYnVpbGQoKTsNCiAgICAgICAgY29udGFpbmVyTUlUTUFTID0gYWN0aW9uTUlUTUFTLmdldENvbnRhaW5lcigpOw0KDQogICAgICAgIGNvbnRhaW5lck1JVE1BUy5zZXRJbnQoIk1NQ09OTyIsIGlDT05PIGFzIGludCk7DQogICAgICAgIGNvbnRhaW5lck1JVE1BUy5zZXQoIk1NSVROTyIsIHJlc3VsdENvbnRhaW5lck1JVExPQy5nZXQoIk1MSVROTyIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCg0KICAgICAgICBpZiAoYWN0aW9uTUlUTUFTLnJlYWQoY29udGFpbmVyTUlUTUFTKSkgew0KICAgICAgICAgIG1pdG1hc0xpc3QuYWRkKGNvbnRhaW5lck1JVE1BUy5jcmVhdGVDb3B5KCkpOw0KICAgICAgICAgIG1pLm91dERhdGEucHV0KCJJVERTIiwgY29udGFpbmVyTUlUTUFTLmdldCgiTU1JVERTIikudG9TdHJpbmcoKS50cmltKCkpOw0KICAgICAgICAgIG1pLm91dERhdGEucHV0KCJTVEFUIiwgY29udGFpbmVyTUlUTUFTLmdldCgiTU1TVEFUIikudG9TdHJpbmcoKS50cmltKCkpOw0KICAgICAgICAgIG1pLm91dERhdGEucHV0KCJJVFRZIiwgY29udGFpbmVyTUlUTUFTLmdldCgiTU1JVFRZIikudG9TdHJpbmcoKS50cmltKCkpOw0KICAgICAgICB9DQogICAgICB9IGVsc2Ugew0KICAgICAgICBtaS5vdXREYXRhLnB1dCgiSVREUyIsIGNvbnRhaW5lck1JVE1BUy5nZXQoIk1NSVREUyIpLnRvU3RyaW5nKCkudHJpbSgpKTsNCiAgICAgICAgbWkub3V0RGF0YS5wdXQoIlNUQVQiLCBjb250YWluZXJNSVRNQVMuZ2V0KCJNTVNUQVQiKS50b1N0cmluZygpLnRyaW0oKSk7DQogICAgICAgIG1pLm91dERhdGEucHV0KCJJVFRZIiwgY29udGFpbmVyTUlUTUFTLmdldCgiTU1JVFRZIikudG9TdHJpbmcoKS50cmltKCkpOw0KICAgICAgfQ0KDQogICAgICAvLyBGaW5kIGNvcnJlc3BvbmRpbmcgcmVjb3JkIGluIE1JVEJBTCBsaXN0DQogICAgICBEQkNvbnRhaW5lciBjb250YWluZXJNSVRCQUwgPSBtaXRiYWxMaXN0LmZpbmQgew0KICAgICAgICBpdC5nZXRTdHJpbmcoIk1CSVROTyIpID09IElUTk8gJiYgaXQuZ2V0U3RyaW5nKCJNQldITE8iKSA9PSBXSExPOw0KICAgICAgfTsNCg0KICAgICAgaWYgKGNvbnRhaW5lck1JVEJBTCA9PSBudWxsKSB7DQogICAgICAgIC8vIFJlYWQgcmVjb3JkIGZyb20gTUlUQkFMIHRhYmxlIGlmIG5vdCBmb3VuZA0KICAgICAgICBEQkFjdGlvbiBhY3Rpb25NSVRCQUwgPSBkYXRhYmFzZS50YWJsZSgiTUlUQkFMIikuaW5kZXgoIjAwIikuc2VsZWN0aW9uKCJNQkFMTVQiKS5idWlsZCgpOw0KICAgICAgICBjb250YWluZXJNSVRCQUwgPSBhY3Rpb25NSVRCQUwuZ2V0Q29udGFpbmVyKCk7DQoNCiAgICAgICAgY29udGFpbmVyTUlUQkFMLnNldEludCgiTUJDT05PIiwgaUNPTk8gYXMgaW50KTsNCiAgICAgICAgY29udGFpbmVyTUlUQkFMLnNldCgiTUJXSExPIiwgV0hMTyk7DQogICAgICAgIGNvbnRhaW5lck1JVEJBTC5zZXQoIk1CSVROTyIsIElUTk8pOw0KDQogICAgICAgIGlmIChhY3Rpb25NSVRCQUwucmVhZChjb250YWluZXJNSVRCQUwpKSB7DQogICAgICAgICAgbWl0YmFsTGlzdC5hZGQoY29udGFpbmVyTUlUQkFMLmNyZWF0ZUNvcHkoKSk7DQogICAgICAgICAgbWkub3V0RGF0YS5wdXQoIkFMTVQiLCBjb250YWluZXJNSVRCQUwuZ2V0KCJNQkFMTVQiKS50b1N0cmluZygpLnRyaW0oKSk7DQogICAgICAgIH0NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIG1pLm91dERhdGEucHV0KCJBTE1UIiwgY29udGFpbmVyTUlUQkFMLmdldCgiTUJBTE1UIikudG9TdHJpbmcoKS50cmltKCkpOw0KICAgICAgfQ0KDQogICAgICBtaS5vdXREYXRhLnB1dCgiRk9UWCIsIGdldE1TWVRYTFRleHQoVFhJRC50b1N0cmluZygpLCAiRk8iLCAiRk8gSUQgIzolIikpOw0KICAgICAgbWkub3V0RGF0YS5wdXQoIkNPVFgiLCBnZXRNU1lUWExUZXh0KFRYSUQudG9TdHJpbmcoKSwgIkZPIiwgIiMgQ29udGFtaW5hbnRzOiUiKSk7DQogICAgICBtaS5vdXREYXRhLnB1dCgiUkVUWCIsIGdldE1TWVRYTFRleHQoVFhJRC50b1N0cmluZygpLCAiUkVDQUxMIiwgIlJFQ0FMTCBEQVRFL0lEIDolIikpOw0KICAgICAgbWkub3V0RGF0YS5wdXQoIlNDVFgiLCBnZXRNU1lUWExUZXh0KFRYSUQudG9TdHJpbmcoKSwgIlFDTEFJTSIsICJTQ0FSICM6IikpOw0KICAgICAgbWkub3V0RGF0YS5wdXQoIkNMVFgiLCBnZXRNU1lUWExUZXh0KFRYSUQudG9TdHJpbmcoKSwgIlFDTEFJTSIsICJDTEFJTSAjOiUiKSk7DQoNCiAgICAgIC8vIFdyaXRlIG1pLm91dERhdGENCiAgICAgIG1pLndyaXRlKCk7DQogICAgfTsNCg0KICAgIC8vIFJlYWQgYWxsIHJlY29yZHMgZnJvbSBNSVRMT0MgdGFibGUNCiAgICBhY3Rpb25NSVRMT0MucmVhZEFsbChjb250YWluZXJNSVRMT0MsIDEsIDEwMDAwLCByZWFkQWxsUmVjb3Jkc01JVExPQyk7DQogIH0NCg0KICAvKioNCiAgICogUmV0cmlldmVzIHRoZSAiVExUWDYwIiB2YWx1ZSBiYXNlZCBvbiB0aGUgZ2l2ZW4gdGV4dCBJRCwgdmFyaWFudCwgYW5kIGV4cHJlc3Npb24uDQogICAqDQogICAqIEBwYXJhbSB0ZXh0SUQgVGhlIElEIG9mIHRoZSB0ZXh0IGVudHJ5Lg0KICAgKiBAcGFyYW0gdGV4dFZhcmlhbnQgVGhlIHZhcmlhbnQgb2YgdGhlIHRleHQgZW50cnkuDQogICAqIEBwYXJhbSBUWDYwRXhwcmVzc2lvbiBFeHByZXNzaW9uIHRvIG1hdGNoIGFnYWluc3QgIlRMVFg2MCIsIHdpdGggIiUiIGFzIGEgd2lsZGNhcmQuDQogICAqIEByZXR1cm4gVGhlICJUTFRYNjAiIHZhbHVlIGZyb20gdGhlIG1hdGNoZWQgcmVjb3JkLCBvciBhbiBlbXB0eSBzdHJpbmcgaWYgbm90IGZvdW5kLg0KICAgKi8NCiAgcHVibGljIFN0cmluZyBnZXRNU1lUWExUZXh0KFN0cmluZyB0ZXh0SUQsIFN0cmluZyB0ZXh0VmFyaWFudCwgU3RyaW5nIFRYNjBFeHByZXNzaW9uKSB7DQogICAgU3RyaW5nIFRYNjAgPSAiIjsNCg0KICAgIERCQ29udGFpbmVyIGNvbnRhaW5lck1TWVRYTCA9IG1zeXR4bExpc3QuZmluZCB7DQogICAgICBpdC5nZXRMb25nKCJUTFRYSUQiKSA9PSB0ZXh0SUQgYXMgbG9uZyAmJiBpdC5nZXRTdHJpbmcoIlRMVFhWUiIpID09IHRleHRWYXJpYW50ICYmIGl0LmdldFN0cmluZygiVExUWDYwIikuY29udGFpbnMoVFg2MEV4cHJlc3Npb24ucmVwbGFjZSgiJSIsICIiKSkNCiAgICB9Ow0KDQogICAgLy8gSWYgbm8gcmVjb3JkcyBmb3VuZCwgZmV0Y2ggZnJvbSBNU1lUWEwgdGFibGUNCiAgICBpZiAoY29udGFpbmVyTVNZVFhMID09IG51bGwpIHsNCiAgICAgIEV4cHJlc3Npb25GYWN0b3J5IGV4cHJlc3Npb25NU1lUWEwgPSBkYXRhYmFzZS5nZXRFeHByZXNzaW9uRmFjdG9yeSgiTVNZVFhMIik7DQogICAgICBleHByZXNzaW9uTVNZVFhMID0gZXhwcmVzc2lvbk1TWVRYTC5saWtlKCJUTFRYNjAiLCBUWDYwRXhwcmVzc2lvbik7DQoNCiAgICAgIERCQWN0aW9uIGFjdGlvbk1TWVRYTCA9IGRhdGFiYXNlLnRhYmxlKCJNU1lUWEwiKS5pbmRleCgiMDAiKS5tYXRjaGluZyhleHByZXNzaW9uTVNZVFhMKS5zZWxlY3Rpb24oIlRMVFg2MCIpLmJ1aWxkKCk7DQogICAgICBjb250YWluZXJNU1lUWEwgPSBhY3Rpb25NU1lUWEwuZ2V0Q29udGFpbmVyKCk7DQoNCiAgICAgIGNvbnRhaW5lck1TWVRYTC5zZXRJbnQoIlRMQ09OTyIsIHByb2dyYW0uTERBWkQuQ09OTyBhcyBpbnQpOw0KICAgICAgY29udGFpbmVyTVNZVFhMLnNldCgiVExESVZJIiwgIiIpOw0KICAgICAgY29udGFpbmVyTVNZVFhMLnNldCgiVExUWElEIiwgdGV4dElEIGFzIGxvbmcpOw0KICAgICAgY29udGFpbmVyTVNZVFhMLnNldCgiVExUWFZSIiwgdGV4dFZhcmlhbnQpOw0KICAgICAgY29udGFpbmVyTVNZVFhMLnNldCgiVExMTkNEIiwgIiIpOw0KDQogICAgICAvLyBDbG9zdXJlIHRvIHByb2Nlc3MgcmVjb3JkcyBmZXRjaGVkIGZyb20gTVNZVFhMDQogICAgICBDbG9zdXJlIDwgPyA+IHJlYWRBbGxSZWNvcmRzTVNZVFhMID0gew0KICAgICAgICBEQkNvbnRhaW5lciByZXN1bHRDb250YWluZXJNU1lUWEwgLT4NCiAgICAgICAgbXN5dHhsTGlzdC5hZGQocmVzdWx0Q29udGFpbmVyTVNZVFhMLmNyZWF0ZUNvcHkoKSk7DQogICAgICAgIFRYNjAgPSByZXN1bHRDb250YWluZXJNU1lUWEwuZ2V0U3RyaW5nKCJUTFRYNjAiKTsNCiAgICAgIH07DQoNCiAgICAgIGFjdGlvbk1TWVRYTC5yZWFkQWxsKGNvbnRhaW5lck1TWVRYTCwgNSwgMSwgcmVhZEFsbFJlY29yZHNNU1lUWEwpOw0KICAgIH0gZWxzZSB7DQogICAgICBUWDYwID0gY29udGFpbmVyTVNZVFhMLmdldFN0cmluZygiVExUWDYwIik7DQogICAgfQ0KDQogICAgcmV0dXJuIFRYNjA7DQogIH0NCn0="}}}