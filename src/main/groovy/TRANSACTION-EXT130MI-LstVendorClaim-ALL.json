{"programModules":{"EXT130MI":{"program":"EXT130MI","triggers":{},"transactions":{"LstVendorClaim":{"sourceUuid":"4fdb3ca9-ed1c-4373-87b9-546c7a9ab92d","name":"LstVendorClaim","program":"EXT130MI","description":"List Vendor Claim","active":true,"multi":true,"modified":1725686014670,"modifiedBy":"900073","outputFields":[{"name":"FACI","description":"Facility","length":3,"mandatory":false,"type":"A"},{"name":"WHLO","description":"Warehouse","length":3,"mandatory":false,"type":"A"},{"name":"ITNO","description":"Item number","length":15,"mandatory":false,"type":"A"},{"name":"ITDS","description":"Name","length":60,"mandatory":false,"type":"A"},{"name":"CLAN","description":"Claim number","length":10,"mandatory":false,"type":"A"},{"name":"CLLN","description":"Claim order line","length":3,"mandatory":false,"type":"N"},{"name":"PUNO","description":"Purchase order number","length":10,"mandatory":false,"type":"A"},{"name":"CLIS","description":"Claim status","length":2,"mandatory":false,"type":"A"},{"name":"SUNO","description":"Supplier","length":10,"mandatory":false,"type":"A"},{"name":"BANO","description":"Lot number","length":20,"mandatory":false,"type":"A"},{"name":"RGDT","description":"Entry date","length":8,"mandatory":false,"type":"N"},{"name":"CLRE","description":"Claim officer","length":10,"mandatory":false,"type":"A"},{"name":"TEXT","description":"Text","length":120,"mandatory":false,"type":"A"},{"name":"TRSL","description":"Lowest status - stock transaction","length":2,"mandatory":false,"type":"A"},{"name":"CAMU","description":"Container","length":20,"mandatory":false,"type":"A"},{"name":"SUN1","description":"Supplier","length":10,"mandatory":false,"type":"A"}],"inputFields":[{"name":"CONO","description":"Company","length":3,"mandatory":true,"type":"A"}],"utilities":["DateUtil"],"market":"ALL"}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"4fdb3ca9-ed1c-4373-87b9-546c7a9ab92d":{"uuid":"4fdb3ca9-ed1c-4373-87b9-546c7a9ab92d","updated":1723834368021,"updatedBy":"900046","created":1725685901247,"createdBy":"900073","apiVersion":"UNKNOWN","beVersion":"","language":"GROOVY","codeHash":"9C3F7FBC3F81B157CA60E724B5C3AA80F319262A7BAD53F35034DC7A9BB74AE4","code":"LyoqDQogKiBSRUFETUUNCiAqIExpc3QgZGF0YSBmb3IgdGhlIFZlbmRvciBjbGFpbSBwYW5lbA0KICoNCiAqIE5hbWU6IEVYVDEzME1JLkxzdFZlbmRvckNsYWltDQogKiBEZXNjcmlwdGlvbjogTGlzdCBkYXRhIGZvciB0aGUgVmVuZG9yIGNsYWltIHBhbmVsDQogKiBEYXRlCSAgICAgIENoYW5nZWQgQnkgICAgRGVzY3JpcHRpb24NCiAqIDIwMjQwNzIwCSAgQUpBWVkgICAgICAgIAlMaXN0IGRhdGEgZm9yIHRoZSBWZW5kb3IgY2xhaW0gcGFuZWwNCiAqIDIwMjQwNzIzCSAgQUpBWVkgICAgICAgIAlDb2RlIGNsZWFudXANCiAqKi8NCg0KDQpwdWJsaWMgY2xhc3MgTHN0VmVuZG9yQ2xhaW0gZXh0ZW5kcyBFeHRlbmRNM1RyYW5zYWN0aW9uIHsNCiAgcHJpdmF0ZSBmaW5hbCBNSUFQSSBtaQ0KICBwcml2YXRlIGZpbmFsIERhdGFiYXNlQVBJIGRhdGFiYXNlDQogIHByaXZhdGUgZmluYWwgUHJvZ3JhbUFQSSBwcm9ncmFtDQogIHByaXZhdGUgZmluYWwgVXRpbGl0eUFQSSB1dGlsaXR5DQoNCiAgLyoqDQogICAqIENvbnN0cnVjdG9yIGZvciBpbml0aWFsaXppbmcgdGhlIHRyYW5zYWN0aW9uIHdpdGggbmVjZXNzYXJ5IEFQSXMuDQogICAqIA0KICAgKiBAcGFyYW0gbWkgICAgICAgTUlBUEkgaW5zdGFuY2UNCiAgICogQHBhcmFtIGRhdGFiYXNlIERhdGFiYXNlQVBJIGluc3RhbmNlDQogICAqIEBwYXJhbSBwcm9ncmFtICBQcm9ncmFtQVBJIGluc3RhbmNlDQogICAqIEBwYXJhbSB1dGlsaXR5ICBVdGlsaXR5QVBJIGluc3RhbmNlDQogICAqLw0KICBwdWJsaWMgTHN0VmVuZG9yQ2xhaW0oTUlBUEkgbWksIERhdGFiYXNlQVBJIGRhdGFiYXNlLCBQcm9ncmFtQVBJIHByb2dyYW0sIFV0aWxpdHlBUEkgdXRpbGl0eSkgew0KICAgIHRoaXMubWkgPSBtaQ0KICAgIHRoaXMuZGF0YWJhc2UgPSBkYXRhYmFzZQ0KICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW0NCiAgICB0aGlzLnV0aWxpdHkgPSB1dGlsaXR5DQogIH0NCg0KICAvLyBWYXJpYWJsZXMgdXNlZCB3aXRoaW4gdGhlIHRyYW5zYWN0aW9uDQogIHByaXZhdGUgU3RyaW5nIGlDT05PDQogIHByaXZhdGUgTGlzdDxEQkNvbnRhaW5lcj4gbXBjbGFoTGlzdCA9IFtdDQogIHByaXZhdGUgTGlzdDxEQkNvbnRhaW5lcj4gbXN5dHhsTGlzdCA9IFtdDQogIHByaXZhdGUgTGlzdDxEQkNvbnRhaW5lcj4gbWl0bWFzTGlzdCA9IFtdDQogIHByaXZhdGUgTGlzdDxEQkNvbnRhaW5lcj4gbWdoZWFkTGlzdCA9IFtdDQogIHByaXZhdGUgTGlzdDxEQkNvbnRhaW5lcj4gbWdsaW5lTGlzdCA9IFtdDQoNCiAgLyoqDQogICAqIE1haW4gbWV0aG9kIHJlc3BvbnNpYmxlIGZvciBleGVjdXRpbmcgdGhlIHZlbmRvciBjbGFpbSBsaXN0aW5nIHRyYW5zYWN0aW9uLg0KICAgKi8NCiAgcHVibGljIHZvaWQgbWFpbigpIHsNCiAgICAvLyBJbml0aWFsaXplIGlDT05PIHdpdGggQ09OTyBmcm9tIGlucHV0IG9yIGRlZmF1bHQgZnJvbSBwcm9ncmFtIHNldHRpbmdzDQogICAgaUNPTk8gPSBtaS5pbi5nZXQoIkNPTk8iKS50b1N0cmluZygpID09IG51bGwgPyBwcm9ncmFtLkxEQVpELkNPTk8gOiBtaS5pbi5nZXQoIkNPTk8iKS50b1N0cmluZygpLnRyaW0oKQ0KDQogICAgLy8gQ2FsY3VsYXRlIHRoZSB0aW1lc3RhbXAgZm9yIDEgZGF5IGFnbw0KICAgIFN0cmluZyBjdXJyZW50RGF0ZSA9IHV0aWxpdHkuY2FsbCgiRGF0ZVV0aWwiLCAiY3VycmVudERhdGVZOEFzU3RyaW5nIikNCiAgICBTdHJpbmcgeWVzdGVyZGF5c0RhdGUgPSB1dGlsaXR5LmNhbGwoIkRhdGVVdGlsIiwgIm1vZGlmeURhdGUiLCBjdXJyZW50RGF0ZSwgInl5eXlNTWRkIiwgLTIpDQoNCiAgICAvLyBDcmVhdGUgYW4gZXhwcmVzc2lvbiBmb3IgZmlsdGVyaW5nIE1QQ0xBTCB0YWJsZSByZWNvcmRzIGJhc2VkIG9uIENMTE1UUw0KICAgIEV4cHJlc3Npb25GYWN0b3J5IGV4cHJlc3Npb24gPSBkYXRhYmFzZS5nZXRFeHByZXNzaW9uRmFjdG9yeSgiTVBDTEFMIikNCiAgICBleHByZXNzaW9uID0gKGV4cHJlc3Npb24uZ2UoIkNMTE1EVCIsIHllc3RlcmRheXNEYXRlLnRvU3RyaW5nKCkpKS5vcihleHByZXNzaW9uLmdlKCJDTFJHRFQiLCB5ZXN0ZXJkYXlzRGF0ZS50b1N0cmluZygpKSkNCg0KICAgIC8vIENyZWF0ZSBhIERCQWN0aW9uIGZvciByZXRyaWV2aW5nIE1QQ0xBTCByZWNvcmRzIGJhc2VkIG9uIHRoZSBleHByZXNzaW9uDQogICAgREJBY3Rpb24gYWN0aW9uTVBDTEFMID0gZGF0YWJhc2UudGFibGUoIk1QQ0xBTCIpLmluZGV4KCIwMCIpLm1hdGNoaW5nKGV4cHJlc3Npb24pLnNlbGVjdGlvbigiQ0xDT05PIiwgIkNMV0hMTyIsICJDTElUTk8iLCAiQ0xDTEFOIiwgIkNMQ0xMTiIsICJDTENMSVMiLCAiQ0xCQU5PIiwgIkNMUkdEVCIsICJDTFRYSUQiKS5idWlsZCgpDQogICAgREJDb250YWluZXIgY29udGFpbmVyTVBDTEFMID0gYWN0aW9uTVBDTEFMLmdldENvbnRhaW5lcigpDQoNCiAgICAvLyBTZXQgQ09OTyBmaWVsZCBpbiBjb250YWluZXJNUENMQUwNCiAgICBjb250YWluZXJNUENMQUwuc2V0KCJDTENPTk8iLCBpQ09OTyBhcyBpbnQpDQoNCiAgICAvLyBDbG9zdXJlIGZvciBwcm9jZXNzaW5nIGVhY2ggTVBDTEFMIHJlY29yZCByZXRyaWV2ZWQNCiAgICBDbG9zdXJlPD8+IHJlYWRBbGxSZWNvcmRzTVBDTEFMID0geyBEQkNvbnRhaW5lciByZXN1bHRDb250YWluZXJfTVBDTEFMIC0+DQogICAgICAvLyBFeHRyYWN0IG5lY2Vzc2FyeSBmaWVsZHMgZnJvbSBNUENMQUwgcmVjb3JkDQogICAgICBTdHJpbmcgQ0xBTiA9IHJlc3VsdENvbnRhaW5lcl9NUENMQUwuZ2V0KCJDTENMQU4iKS50b1N0cmluZygpLnRyaW0oKQ0KICAgICAgU3RyaW5nIENMTE4gPSByZXN1bHRDb250YWluZXJfTVBDTEFMLmdldCgiQ0xDTExOIikudG9TdHJpbmcoKS50cmltKCkNCiAgICAgIFN0cmluZyBUWElEID0gcmVzdWx0Q29udGFpbmVyX01QQ0xBTC5nZXQoIkNMVFhJRCIpLnRvU3RyaW5nKCkudHJpbSgpDQogICAgICBTdHJpbmcgSVROTyA9IHJlc3VsdENvbnRhaW5lcl9NUENMQUwuZ2V0KCJDTElUTk8iKS50b1N0cmluZygpLnRyaW0oKQ0KDQogICAgICAvLyBQb3B1bGF0ZSBvdXRwdXQgZGF0YSB3aXRoIGV4dHJhY3RlZCB2YWx1ZXMNCiAgICAgIG1pLm91dERhdGEucHV0KCJXSExPIiwgcmVzdWx0Q29udGFpbmVyX01QQ0xBTC5nZXQoIkNMV0hMTyIpLnRvU3RyaW5nKCkudHJpbSgpKQ0KICAgICAgbWkub3V0RGF0YS5wdXQoIklUTk8iLCBJVE5PKQ0KICAgICAgbWkub3V0RGF0YS5wdXQoIkNMQU4iLCBDTEFOKQ0KICAgICAgbWkub3V0RGF0YS5wdXQoIkNMTE4iLCByZXN1bHRDb250YWluZXJfTVBDTEFMLmdldCgiQ0xDTExOIikudG9TdHJpbmcoKS50cmltKCkpDQogICAgICBtaS5vdXREYXRhLnB1dCgiQ0xJUyIsIHJlc3VsdENvbnRhaW5lcl9NUENMQUwuZ2V0KCJDTENMSVMiKS50b1N0cmluZygpLnRyaW0oKSkNCiAgICAgIG1pLm91dERhdGEucHV0KCJCQU5PIiwgcmVzdWx0Q29udGFpbmVyX01QQ0xBTC5nZXQoIkNMQkFOTyIpLnRvU3RyaW5nKCkudHJpbSgpKQ0KICAgICAgbWkub3V0RGF0YS5wdXQoIlJHRFQiLCByZXN1bHRDb250YWluZXJfTVBDTEFMLmdldCgiQ0xSR0RUIikudG9TdHJpbmcoKS50cmltKCkpDQoNCiAgICAgIC8vIFJldHJpZXZlIE1JVE1BUyBjb250YWluZXIgaWYgYXZhaWxhYmxlLCBvdGhlcndpc2UgZmV0Y2ggYW5kIGFkZCBpdCB0byBtaXRtYXNMaXN0DQogICAgICBEQkNvbnRhaW5lciBjb250YWluZXJNSVRNQVMgPSBtaXRtYXNMaXN0LmZpbmQgew0KICAgICAgICBpdC5nZXRTdHJpbmcoIk1NSVROTyIpID09IElUTk8NCiAgICAgIH0NCg0KICAgICAgaWYgKGNvbnRhaW5lck1JVE1BUyA9PSBudWxsKSB7DQogICAgICAgIERCQWN0aW9uIGFjdGlvbk1JVE1BUyA9IGRhdGFiYXNlLnRhYmxlKCJNSVRNQVMiKS5pbmRleCgiMDAiKS5zZWxlY3Rpb24oIk1NSVREUyIpLmJ1aWxkKCkNCiAgICAgICAgY29udGFpbmVyTUlUTUFTID0gYWN0aW9uTUlUTUFTLmdldENvbnRhaW5lcigpDQoNCiAgICAgICAgY29udGFpbmVyTUlUTUFTLnNldEludCgiTU1DT05PIiwgaUNPTk8gYXMgaW50KQ0KICAgICAgICBjb250YWluZXJNSVRNQVMuc2V0KCJNTUlUTk8iLCBJVE5PKQ0KDQogICAgICAgIGlmIChhY3Rpb25NSVRNQVMucmVhZChjb250YWluZXJNSVRNQVMpKSB7DQogICAgICAgICAgbWl0bWFzTGlzdC5hZGQoY29udGFpbmVyTUlUTUFTLmNyZWF0ZUNvcHkoKSkNCiAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiSVREUyIsIGNvbnRhaW5lck1JVE1BUy5nZXRTdHJpbmcoIk1NSVREUyIpKQ0KICAgICAgICB9DQogICAgICB9IGVsc2Ugew0KICAgICAgICBtaS5vdXREYXRhLnB1dCgiSVREUyIsIGNvbnRhaW5lck1JVE1BUy5nZXRTdHJpbmcoIk1NSVREUyIpKQ0KICAgICAgfQ0KDQogICAgICAvLyBSZXRyaWV2ZSBNUENMQUggY29udGFpbmVyIGlmIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIGZldGNoIGFuZCBhZGQgaXQgdG8gbXBjbGFoTGlzdA0KICAgICAgREJDb250YWluZXIgY29udGFpbmVyTVBDTEFIID0gbXBjbGFoTGlzdC5maW5kIHsNCiAgICAgICAgaXQuZ2V0U3RyaW5nKCJDSENMQU4iKSA9PSBDTEFODQogICAgICB9DQoNCiAgICAgIGlmIChjb250YWluZXJNUENMQUggPT0gbnVsbCkgew0KICAgICAgICBEQkFjdGlvbiBhY3Rpb25NUENMQUggPSBkYXRhYmFzZS50YWJsZSgiTVBDTEFIIikuaW5kZXgoIjAwIikuc2VsZWN0aW9uKCJDSEZBQ0kiLCAiQ0hQVU5PIiwgIkNIU1VOTyIsICJDSENMUkUiKS5idWlsZCgpDQogICAgICAgIGNvbnRhaW5lck1QQ0xBSCA9IGFjdGlvbk1QQ0xBSC5nZXRDb250YWluZXIoKQ0KDQogICAgICAgIGNvbnRhaW5lck1QQ0xBSC5zZXQoIkNIQ09OTyIsIGlDT05PIGFzIGludCkNCiAgICAgICAgY29udGFpbmVyTVBDTEFILnNldCgiQ0hDTEFOIiwgQ0xBTikNCg0KICAgICAgICBpZiAoYWN0aW9uTVBDTEFILnJlYWQoY29udGFpbmVyTVBDTEFIKSkgew0KICAgICAgICAgIG1wY2xhaExpc3QuYWRkKGNvbnRhaW5lck1QQ0xBSC5jcmVhdGVDb3B5KCkpDQogICAgICAgICAgbWkub3V0RGF0YS5wdXQoIkZBQ0kiLCBjb250YWluZXJNUENMQUguZ2V0KCJDSEZBQ0kiKS50b1N0cmluZygpLnRyaW0oKSkNCiAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiUFVOTyIsIGNvbnRhaW5lck1QQ0xBSC5nZXQoIkNIUFVOTyIpLnRvU3RyaW5nKCkudHJpbSgpKQ0KICAgICAgICAgIG1pLm91dERhdGEucHV0KCJDTFJFIiwgY29udGFpbmVyTVBDTEFILmdldCgiQ0hDTFJFIikudG9TdHJpbmcoKS50cmltKCkpDQogICAgICAgICAgbWkub3V0RGF0YS5wdXQoIlNVTk8iLCBjb250YWluZXJNUENMQUguZ2V0KCJDSFNVTk8iKS50b1N0cmluZygpLnRyaW0oKSkNCiAgICAgICAgfQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgbWkub3V0RGF0YS5wdXQoIkZBQ0kiLCBjb250YWluZXJNUENMQUguZ2V0KCJDSEZBQ0kiKS50b1N0cmluZygpLnRyaW0oKSkNCiAgICAgICAgbWkub3V0RGF0YS5wdXQoIlBVTk8iLCBjb250YWluZXJNUENMQUguZ2V0KCJDSFBVTk8iKS50b1N0cmluZygpLnRyaW0oKSkNCiAgICAgICAgbWkub3V0RGF0YS5wdXQoIkNMUkUiLCBjb250YWluZXJNUENMQUguZ2V0KCJDSENMUkUiKS50b1N0cmluZygpLnRyaW0oKSkNCiAgICAgICAgbWkub3V0RGF0YS5wdXQoIlNVTk8iLCBjb250YWluZXJNUENMQUguZ2V0KCJDSFNVTk8iKS50b1N0cmluZygpLnRyaW0oKSkNCiAgICAgIH0NCg0KICAgICAgLy8gUmV0cmlldmUgTUdIRUFEIGNvbnRhaW5lciBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSBmZXRjaCBhbmQgYWRkIGl0IHRvIG1naGVhZExpc3QNCiAgICAgIERCQ29udGFpbmVyIGNvbnRhaW5lck1HSEVBRCA9IG1naGVhZExpc3QuZmluZCB7DQogICAgICAgIGl0LmdldEludCgiTUdST1JDIikgPT0gOSAmJiBpdC5nZXRTdHJpbmcoIk1HUk9STiIpID09IENMQU4NCiAgICAgIH0NCg0KICAgICAgaWYgKGNvbnRhaW5lck1HSEVBRCA9PSBudWxsKSB7DQogICAgICAgIERCQWN0aW9uIGFjdGlvbk1HSEVBRCA9IGRhdGFiYXNlLnRhYmxlKCJNR0hFQUQiKS5pbmRleCgiODAiKS5zZWxlY3Rpb24oIk1HVFJTTCIpLnJldmVyc2UoKS5idWlsZCgpDQogICAgICAgIGNvbnRhaW5lck1HSEVBRCA9IGFjdGlvbk1HSEVBRC5nZXRDb250YWluZXIoKQ0KDQogICAgICAgIGNvbnRhaW5lck1HSEVBRC5zZXQoIk1HQ09OTyIsIEludGVnZXIucGFyc2VJbnQoaUNPTk8pKQ0KICAgICAgICBjb250YWluZXJNR0hFQUQuc2V0KCJNR1JPUkMiLCA5KQ0KICAgICAgICBjb250YWluZXJNR0hFQUQuc2V0KCJNR1JPUk4iLCBDTEFOKQ0KDQogICAgICAgIENsb3N1cmUgPD8+IHJlYWRBbGxSZWNvcmRzTUdIRUFEID0geyBEQkNvbnRhaW5lciByZXN1bHRDb250YWluZXIgLT4NCiAgICAgICAgICBtZ2hlYWRMaXN0LmFkZChyZXN1bHRDb250YWluZXIuY3JlYXRlQ29weSgpKQ0KICAgICAgICAgIG1pLm91dERhdGEucHV0KCJUUlNMIiwgcmVzdWx0Q29udGFpbmVyLmdldCgiTUdUUlNMIikudG9TdHJpbmcoKS50cmltKCkpDQogICAgICAgIH0NCg0KICAgICAgICBhY3Rpb25NR0hFQUQucmVhZEFsbChjb250YWluZXJNR0hFQUQsIDMsIDEsIHJlYWRBbGxSZWNvcmRzTUdIRUFEKQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgbWkub3V0RGF0YS5wdXQoIlRSU0wiLCBjb250YWluZXJNR0hFQUQuZ2V0KCJNR1RSU0wiKS50b1N0cmluZygpLnRyaW0oKSkNCiAgICAgIH0NCg0KICAgICAgLy8gUmV0cmlldmUgTUdMSU5FIGNvbnRhaW5lciBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSBmZXRjaCBhbmQgYWRkIGl0IHRvIG1nbGluZUxpc3QNCiAgICAgIERCQ29udGFpbmVyIGNvbnRhaW5lck1HTElORSA9IG1nbGluZUxpc3QuZmluZCB7DQogICAgICAgIGl0LmdldEludCgiTVJST1JDIikgPT0gOSAmJiBpdC5nZXRTdHJpbmcoIk1SUk9STiIpID09IENMQU4NCiAgICAgIH0NCg0KICAgICAgaWYgKGNvbnRhaW5lck1HTElORSA9PSBudWxsKSB7DQogICAgICAgIERCQWN0aW9uIGFjdGlvbk1HTElORSA9IGRhdGFiYXNlLnRhYmxlKCJNR0xJTkUiKS5pbmRleCgiMzAiKS5zZWxlY3Rpb24oIk1SQ0FNVSIpLnJldmVyc2UoKS5idWlsZCgpDQogICAgICAgIGNvbnRhaW5lck1HTElORSA9IGFjdGlvbk1HTElORS5nZXRDb250YWluZXIoKQ0KDQogICAgICAgIGNvbnRhaW5lck1HTElORS5zZXQoIk1SQ09OTyIsIGlDT05PIGFzIGludCkNCiAgICAgICAgY29udGFpbmVyTUdMSU5FLnNldCgiTVJST1JDIiwgOSkNCiAgICAgICAgY29udGFpbmVyTUdMSU5FLnNldCgiTVJST1JOIiwgQ0xBTikNCiAgICAgICAgY29udGFpbmVyTUdMSU5FLnNldCgiTVJST1JMIiwgSW50ZWdlci5wYXJzZUludChDTExOKSkNCiAgICAgICAgY29udGFpbmVyTUdMSU5FLnNldCgiTVJST1JYIiwgMCkNCiAgICAgICAgY29udGFpbmVyTUdMSU5FLnNldCgiTVJJVE5PIiwgSVROTykNCg0KICAgICAgICBDbG9zdXJlIDw/PiByZWFkQWxsUmVjb3Jkc01HTElORSA9IHsgREJDb250YWluZXIgcmVzdWx0Q29udGFpbmVyIC0+DQogICAgICAgICAgbWdsaW5lTGlzdC5hZGQocmVzdWx0Q29udGFpbmVyLmNyZWF0ZUNvcHkoKSkNCiAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiQ0FNVSIsIHJlc3VsdENvbnRhaW5lci5nZXQoIk1SQ0FNVSIpLnRvU3RyaW5nKCkudHJpbSgpKQ0KICAgICAgICB9DQoNCiAgICAgICAgYWN0aW9uTUdMSU5FLnJlYWRBbGwoY29udGFpbmVyTUdMSU5FLCA2LCAxLCByZWFkQWxsUmVjb3Jkc01HTElORSkNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIG1pLm91dERhdGEucHV0KCJDQU1VIiwgY29udGFpbmVyTUdMSU5FLmdldCgiTVJDQU1VIikudG9TdHJpbmcoKS50cmltKCkpDQogICAgICB9DQoNCiAgICAgIC8vIFJldHJpZXZlIE1TWVRYTCBjb250YWluZXJzIG1hdGNoaW5nIGNyaXRlcmlhIGFuZCBhZ2dyZWdhdGUgdGhlaXIgVExUWDYwIHZhbHVlcyBpbnRvIFRFWFQNCiAgICAgIExpc3Q8REJDb250YWluZXI+IGNvbnRhaW5lcnNNU1lUWEwgPSBtc3l0eGxMaXN0LmZpbmRBbGwgew0KICAgICAgICBpdC5nZXQoIlRMVFhJRCIpLnRvU3RyaW5nKCkgPT0gVFhJRCAmJiBpdC5nZXRTdHJpbmcoIlRMVFhWUiIpID09ICJIT0xEIg0KICAgICAgfQ0KDQogICAgICBpZiAoY29udGFpbmVyc01TWVRYTC5zaXplKCkgPT0gMCkgew0KICAgICAgICAvLyBJZiBubyBjb250YWluZXJzIGZvdW5kLCBmZXRjaCBNU1lUWEwgcmVjb3JkcyBhbmQgYXBwZW5kIFRMVFg2MCB0byBURVhUDQogICAgICAgIFN0cmluZyBURVhUID0gIiINCg0KICAgICAgICBFeHByZXNzaW9uRmFjdG9yeSBleHByZXNzaW9uTVNZVFhMID0gZGF0YWJhc2UuZ2V0RXhwcmVzc2lvbkZhY3RvcnkoIk1TWVRYTCIpDQogICAgICAgIGV4cHJlc3Npb25NU1lUWEwgPSBleHByZXNzaW9uTVNZVFhMLmJldHdlZW4oIlRMTElOTyIsICIxIiwgIjIiKQ0KDQogICAgICAgIERCQWN0aW9uIGFjdGlvbk1TWVRYTCA9IGRhdGFiYXNlLnRhYmxlKCJNU1lUWEwiKS5pbmRleCgiMDAiKS5tYXRjaGluZyhleHByZXNzaW9uTVNZVFhMKS5zZWxlY3Rpb24oIlRMVFg2MCIpLmJ1aWxkKCkNCiAgICAgICAgREJDb250YWluZXIgY29udGFpbmVyTVNZVFhMID0gYWN0aW9uTVNZVFhMLmdldENvbnRhaW5lcigpDQoNCiAgICAgICAgY29udGFpbmVyTVNZVFhMLnNldCgiVExDT05PIiwgaUNPTk8gYXMgaW50KQ0KICAgICAgICBjb250YWluZXJNU1lUWEwuc2V0KCJUTERJVkkiLCAiIikNCiAgICAgICAgY29udGFpbmVyTVNZVFhMLnNldCgiVExUWElEIiwgTG9uZy5wYXJzZUxvbmcoVFhJRCkpDQogICAgICAgIGNvbnRhaW5lck1TWVRYTC5zZXQoIlRMVFhWUiIsICJIT0xEIikNCiAgICAgICAgY29udGFpbmVyTVNZVFhMLnNldCgiVExMTkNEIiwgIiIpDQoNCiAgICAgICAgQ2xvc3VyZSA8Pz4gcmVhZEFsbFJlY29yZHNNU1lUWEwgPSB7IERCQ29udGFpbmVyIHJlc3VsdENvbnRhaW5lciAtPg0KICAgICAgICAgIG1zeXR4bExpc3QuYWRkKHJlc3VsdENvbnRhaW5lci5jcmVhdGVDb3B5KCkpDQogICAgICAgICAgVEVYVCA9IFRFWFQgKyByZXN1bHRDb250YWluZXIuZ2V0U3RyaW5nKCJUTFRYNjAiKQ0KICAgICAgICB9DQoNCiAgICAgICAgYWN0aW9uTVNZVFhMLnJlYWRBbGwoY29udGFpbmVyTVNZVFhMLCA1LCAyLCByZWFkQWxsUmVjb3Jkc01TWVRYTCkNCg0KICAgICAgICBtaS5vdXREYXRhLnB1dCgiVEVYVCIsIFRFWFQpDQogICAgICB9IGVsc2Ugew0KICAgICAgICAvLyBJZiBjb250YWluZXJzIGZvdW5kLCBjb25jYXRlbmF0ZSBUTFRYNjAgdmFsdWVzIGludG8gVEVYVA0KICAgICAgICBTdHJpbmcgVEVYVCA9ICIiDQogICAgICAgIGZvciAoREJDb250YWluZXIgY29udGFpbmVyTVNZVFhMIDogY29udGFpbmVyc01TWVRYTCkgew0KICAgICAgICAgIFRFWFQgPSBURVhUICsgY29udGFpbmVyTVNZVFhMLmdldFN0cmluZygiVExUWDYwIikNCiAgICAgICAgfQ0KDQogICAgICAgIG1pLm91dERhdGEucHV0KCJURVhUIiwgVEVYVCkNCiAgICAgIH0NCg0KICAgICAgLy8gV3JpdGUgb3V0cHV0IGRhdGEgdG8gdGhlIGV4dGVybmFsIHN5c3RlbQ0KICAgICAgbWkud3JpdGUoKQ0KICAgIH0NCg0KICAgIC8vIEV4ZWN1dGUgcmVhZEFsbCBvcGVyYXRpb24gb24gTVBDTEFMIHRhYmxlDQogICAgYWN0aW9uTVBDTEFMLnJlYWRBbGwoY29udGFpbmVyTVBDTEFMLCAxLCAxMDAwMCwgcmVhZEFsbFJlY29yZHNNUENMQUwpDQogIH0NCn0="}}}